{"version":3,"file":"RuleSetLoader.js","names":["sap","ui","define","Log","extend","ObjectPath","VersionInfo","RuleSet","CommunicationBus","channelNames","RuleSerializer","constants","EvalUtils","Utils","jQuery","Configuration","getAbsoluteUrl","a","url","document","createElement","href","replace","sCustomSuffix","sSupportModulePath","require","toUrl","sSupportModuleRootPath","sAbsUrl","RuleSetLoader","_mRuleSets","getRuleSets","this","addRuleSet","sLibName","oRuleSet","getRuleSet","_fetchSupportRuleSets","fnReadyCbk","mLibraries","that","mLoadedLibraries","getCore","getLoadedLibraries","oLibNamesWithRulesPromise","_fetchLibraryNamesWithSupportRules","oMainPromise","Promise","resolve","load","library","then","oCoreLibInfo","versionInfo","oLibNamesWithRules","libFetchPromises","_fetchLibraryFiles","_fetchRuleSet","all","_bRulesCreated","publish","UPDATE_SUPPORT_RULES","sRuleSet","serialize","oVersionInfo","loadAdditionalRuleSets","aLibNames","aLibFetchPromises","oLoadedLibraries","mainResolve","canLoadInternalRulesAsync","bCanLoadInternalRules","oLibNames","publicRules","internalRules","allRules","aAllMetaPromises","Object","keys","forEach","oMetaPromise","rcFilePath","ajax","type","dataType","success","data","lib","rcData","error","push","metaArgs","metaInfo","bHasRules","indexOf","fnProcessFile","bSupressProgressReporting","aAjaxPromises","supportModulePath","supportModulesRoot","canLoadInternalRules","bHasInternalRules","length","iProgress","iRulesNumber","supportModeConfig","getSupportMode","bSilentMode","reportCurrentLoadingProgress","iPercentileProgressValue","Math","ceil","CURRENT_LOADING_PROGRESS","value","oLibName","libraryNames","_registerLibraryPath","oLibPublicRulesPromise","_requireRuleSet","customizableLibName","oLibPrivateRulesPromise","internalLibName","libraryName","libResourceName","customizableLibResourceName","loadFromSupportOrigin","_getLoadFromSupportOrigin","pathsConfig","internalLibResourceName","libraryInternalResourceRoot","loader","config","paths","sLibraryName","call","ex","sNormalizedLibName","oLibSupportCopy","oLibrary","oLibSupport","get","support","ruleset","_createRuleSet","_mRules","e","SUPPORT_ASSISTANT_NAME","coreUri","URL","baseURI","supportUri","origin","fetchNonLoadedRuleSets","aLoadedLibraries","oLibraries","libraries","oLib","name","bind","aNonLoadedLibraries","POST_AVAILABLE_LIBRARIES","libNames","_onLibraryChanged","oEvent","getParameter","_oMainPromise","updateRuleSets","oLibrarySupport","niceName","i","Array","isArray","k","addRule","getAllRules","mRules","map","getRules","getAllRuleDescriptors","sRuleId","libName","ruleId","isEvalAllowed","TEMP_RULESETS_NAME"],"sources":["RuleSetLoader-dbg.js"],"mappings":"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"}