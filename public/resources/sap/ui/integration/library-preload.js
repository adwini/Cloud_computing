//@ui5-bundle sap/ui/integration/library-preload.js
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/ActionDefinition", ["sap/m/library","sap/ui/core/Element"],function(e,t){"use strict";var a=e.ButtonType;var i=t.extend("sap.ui.integration.ActionDefinition",{metadata:{library:"sap.ui.integration",properties:{type:{type:"sap.ui.integration.CardActionType"},text:{type:"string",defaultValue:""},icon:{type:"sap.ui.core.URI"},buttonType:{type:"sap.m.ButtonType",defaultValue:a.Transparent},enabled:{type:"boolean",defaultValue:true},visible:{type:"boolean",defaultValue:true},parameters:{type:"object"}},events:{press:{}},associations:{_menuButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}}}});return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/Designtime", ["sap/ui/base/ManagedObject"],function(t){"use strict";var e=t.extend("sap.ui.integration.Designtime",{metadata:{library:"sap.ui.integration"},constructor:function(e){t.apply(this);this.settings=e||this.create&&this.create()||{}}});e.prototype.init=function(){this._oCard=null};e.prototype.exit=function(){this._oCard=null};e.prototype.onCardReady=function(t,e){this._oCard=t;this._oInternalCardInstance=e};e.prototype._readyPromise=function(t,e){this.onCardReady(t,e);return Promise.resolve()};e.prototype.getCard=function(){return this._oCard};e.prototype.getSettings=function(){return this.settings};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/Extension", ["sap/ui/integration/library","sap/base/Log","sap/ui/base/ManagedObject"],function(t,e,r){"use strict";var o=r.extend("sap.ui.integration.Extension",{metadata:{library:"sap.ui.integration",properties:{actions:{type:"sap.ui.integration.CardMenuAction[]",deprecated:true},formatters:{type:"object"}},events:{action:{allowPreventDefault:true,parameters:{card:{type:"sap.ui.core.Control"},actionConfig:{type:"object"},actionSource:{type:"sap.ui.core.Control"},parameters:{type:"object"},type:{type:"sap.ui.integration.CardActionType"}}}}}});o.prototype.init=function(){this._oCardInterface=null;this._oCard=null};o.prototype.exit=function(){this._oCardInterface=null;this._oCard=null};o.prototype.setActions=function(t){this.setProperty("actions",t);if(this._oCard){this._oCard._refreshActionsMenu()}};o.prototype.setFormatters=function(t){this.setProperty("formatters",t);if(!this._oCard){return}if(!this._oCard._bApplyManifest||this._oCard.getAggregation("_extension")!==this){e.error("Extension formatters must be set before the initialization of the card. Do this inside Extension#init().")}};o.prototype.onCardReady=function(){};o.prototype.loadDependencies=function(){return Promise.resolve()};o.prototype.getCard=function(){return this._oCardInterface};o.prototype._setCard=function(t,e){this._oCard=t;this._oCardInterface=e};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/Host", ["sap/ui/integration/library","sap/ui/core/Element"],function(e,t){"use strict";var r=t.extend("sap.ui.integration.Host",{metadata:{library:"sap.ui.integration",properties:{actions:{type:"sap.ui.integration.CardMenuAction[]"},resolveDestination:{type:"function",invalidate:false,parameters:{destinationName:{type:"string"},card:{type:"sap.ui.integration.widgets.Card"}}}},events:{action:{allowPreventDefault:true,parameters:{card:{type:"sap.ui.core.Control"},actionConfig:{type:"object"},actionSource:{type:"sap.ui.core.Control"},parameters:{type:"object"},type:{type:"sap.ui.integration.CardActionType"}}},cardConfigurationChange:{parameters:{card:{type:"sap.ui.core.Control"},changes:{type:"object"}}},cardStateChanged:{parameters:{card:{type:"sap.ui.core.Control"}}},message:{parameters:{data:{type:"object"}}}}}});r.prototype.init=function(){this._handlePostMessageBound=this._handlePostMessage.bind(this)};r.prototype.getDestination=function(e,t){var r=this.getResolveDestination(),n;if(typeof r!=="function"){return Promise.reject("Could not resolve destination '"+e+"'. There is no 'resolveDestination' callback function configured in the host.")}n=r(e,t);if(n===null||n===undefined){return Promise.reject("Destination '"+e+"' could not be resolved by the host.")}if(n instanceof Promise){return n}return Promise.resolve(n)};r.prototype.getCsrfToken=function(e){return Promise.resolve()};r.prototype.csrfTokenFetched=function(e,t){};r.prototype.csrfTokenExpired=function(e){};r.prototype.getContextValue=function(e){if(!e){return Promise.resolve(null)}return Promise.resolve(null)};r.prototype.getDestinations=function(){return Promise.resolve([])};r.prototype.getContexts=function(){return Promise.resolve({})};r.prototype.useExperimentalCaching=function(){this.bUseExperimentalCaching=true;this.subscribeForMessages()};r.prototype.stopUsingExperimentalCaching=function(){this.bUseExperimentalCaching=false;this.unsubscribeForMessages()};r.prototype.modifyRequestHeaders=function(e,t,r){if(this.bUseExperimentalCaching){return this._prepareCacheHeaders(e,t)}return e};r.prototype._prepareCacheHeaders=function(e,t){var r=t.request.cache,n=[];if(r.enabled===false){n.push("max-age=0");n.push("no-store")}else{n.push("max-age="+parseInt(r.maxAge||0));if(r.staleWhileRevalidate){n.push("x-stale-while-revalidate")}}if(n.length){e["Cache-Control"]=n.join(", ")}e["x-sap-card"]="true";e["x-use-cryptocache"]="true";return e};r.prototype.subscribeForMessages=function(){if(!navigator||!navigator.serviceWorker){return}navigator.serviceWorker.addEventListener("message",this._handlePostMessageBound)};r.prototype.unsubscribeForMessages=function(){if(!navigator||!navigator.serviceWorker){return}navigator.serviceWorker.removeEventListener("message",this._handlePostMessageBound)};r.prototype._handlePostMessage=function(e){this.fireMessage({data:e.data})};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/bindingFeatures/DateRange", ["sap/ui/core/date/UniversalDateUtils","sap/base/Log"],function(e,n){"use strict";var r={start:function(e,n){var r=this._getRange(e,n);if(!r){return null}return r[0]},end:function(e,n){var r=this._getRange(e,n);if(!r){return null}return r[1]},_getRange:function(r,t){var a=e.ranges[r];if(!a){n.error("The requested date range type '"+r+"' is not found","sap.ui.integration.widgets.Card");return null}return a(t)}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/AdaptiveContent", ["sap/ui/integration/library","sap/ui/core/library","sap/ui/dom/includeScript","sap/ui/integration/cards/BaseContent","sap/ui/integration/cards/adaptivecards/elements/hostConfig","sap/m/VBox","sap/ui/core/HTML","sap/ui/core/Core","sap/ui/model/json/JSONModel","sap/base/Log"],function(t,e,n,i,a,r,o,s,d,p){"use strict";var u,l,c,g,h,f,C,y,m,_;var v=e.MessageType;var b=i.extend("sap.ui.integration.cards.AdaptiveContent",{metadata:{library:"sap.ui.integration"},renderer:{apiVersion:2,render:function(t,e){var n=i.getMetadata().getRenderer();return n.render.apply(this,arguments)}}});b.prototype.init=function(){i.prototype.init.apply(this,arguments);this.setComponentsReady(false);this._bAdaptiveCardElementsReady=false;this._setupCardContent();s.attachThemeChanged(function(){if(this.getDomRef()){this._adjustHostConfig();this.invalidate()}}.bind(this))};b.prototype.onAfterRendering=function(){this._renderMSCardContent(this._oCardTemplate||this._oCardConfig)};b.prototype.loadDependencies=function(t){this._loadWebcomponents();var e=[];e.push(new Promise(function(t,e){sap.ui.require(["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/thirdparty/adaptivecards-templating","sap/ui/integration/cards/adaptivecards/elements/UI5InputText","sap/ui/integration/cards/adaptivecards/elements/UI5InputNumber","sap/ui/integration/cards/adaptivecards/elements/UI5InputChoiceSet","sap/ui/integration/cards/adaptivecards/elements/UI5InputTime","sap/ui/integration/cards/adaptivecards/elements/UI5InputDate","sap/ui/integration/cards/adaptivecards/elements/UI5InputToggle","sap/ui/integration/cards/adaptivecards/overwrites/ActionRender"],function(e,n,i,a,r,o,s,d,p){u=e;l=n;g=i;h=a;f=r;C=o;y=s;m=d;_=p;this._setupAdaptiveCardDependency();t()}.bind(this),e)}.bind(this)));if(t.get("/sap.card/configuration/enableMarkdown")){e.push(new Promise(function(t,e){sap.ui.require(["sap/ui/integration/thirdparty/markdown-it"],function(e){c=e;t()},e)}))}return Promise.all(e)};b.prototype._setupCardContent=function(){var t=new o(this.getId()+"content",{preferDOM:false,content:"<div>&nbsp;</div>"});this.setAggregation("_content",new r({items:[t]}))};b.prototype.setConfiguration=function(t){this._oCardConfig=t;if(t&&t.request&&t.request.url){this._loadManifestFromUrl(t.request.url);return}this._handleMarkDown();this._setupMSCardContent()};b.prototype.getConfiguration=function(){return this._oCardConfig};b.prototype._handleMarkDown=function(){var t=this;u.AdaptiveCard.onProcessMarkdown=function(e,n){var i=t.getParent(),a=i&&i.getManifestEntry("/sap.card/configuration/enableMarkdown");if(a){n.outputHtml=(new c).render(e);n.didProcess=true;return n}}};b.prototype._loadManifestFromUrl=function(t){var e=new d,n=this;e.loadData(t).then(function(){n._oCardConfig=Object.assign(n._oCardConfig,e.getData())}).then(function(){n._handleMarkDown();n._setupMSCardContent()}).then(function(){e.destroy();e=null}).catch(function(){p.error("No JSON file found on this URL. Please provide a correct path to the JSON-serialized card object model file.")})};b.prototype._setupAdaptiveCardDependency=function(){this.adaptiveCardInstance=new u.AdaptiveCard;this._doMSCardsOverwrites();this._adjustHostConfig();this._handleActions();this._replaceElements();this._isRtl()};b.prototype._doMSCardsOverwrites=function(){u.Action.prototype.render=_};b.prototype._adjustHostConfig=function(){this.adaptiveCardInstance.hostConfig=new u.HostConfig(a())};b.prototype._isRtl=function(){this.adaptiveCardInstance.isRtl=function(){return s.getConfiguration().getRTL()}};b.prototype._handleActions=function(){this.adaptiveCardInstance.onExecuteAction=function(e){var n,i,a;if(e instanceof u.OpenUrlAction){i={url:e.url};n=t.CardActionType.Navigation}else if(e instanceof u.SubmitAction){this.getModel("form").setProperty("/",e.data);n=t.CardActionType.Submit}else{return}a=this.getActions();if(a){a.fireAction(this,n,i)}}.bind(this)};b.prototype.onActionSubmitStart=function(t){this.getParent().setBusy(true)};b.prototype.onActionSubmitEnd=function(t,e){var n=s.getLibraryResourceBundle("sap.ui.integration"),i=e?n.getText("CARDS_ADAPTIVE_ACTION_SUBMIT_ERROR"):n.getText("CARDS_ADAPTIVE_ACTION_SUBMIT_SUCCESS"),a=e?v.Error:v.Success;this.showMessage(i,a);this.getParent().setBusy(false)};b.prototype._replaceElements=function(){u.GlobalRegistry.elements.unregister("Input.Text");u.GlobalRegistry.elements.register("Input.Text",g);u.GlobalRegistry.elements.unregister("Input.Number");u.GlobalRegistry.elements.register("Input.Number",h);u.GlobalRegistry.elements.unregister("Input.ChoiceSet");u.GlobalRegistry.elements.register("Input.ChoiceSet",f);u.GlobalRegistry.elements.unregister("Input.Time");u.GlobalRegistry.elements.register("Input.Time",C);u.GlobalRegistry.elements.unregister("Input.Date");u.GlobalRegistry.elements.register("Input.Date",y);u.GlobalRegistry.elements.unregister("Input.Toggle");u.GlobalRegistry.elements.register("Input.Toggle",m)};b.prototype.setCardDataProvider=function(t){this._oCardDataProvider=t};b.prototype._setupMSCardContent=function(){var t=this._oCardConfig,e,n=this._oCardDataProvider;if(!this.adaptiveCardInstance||!t){return}e=t.$data||t.data;if(!e&&!n){this._oCardTemplate=null;this._renderMSCardContent(t);return}if(t.$data){e={json:e}}this._setDataConfiguration(e)};b.prototype.onDataChanged=function(){var t=this.getBindingContext().getPath(),e=this.getModel().getProperty(t);this._oCardTemplate=this._setTemplating(this._oCardConfig,e);this.getAggregation("_loadingProvider").setLoading(false);this.invalidate()};b.prototype._renderMSCardContent=function(t){var e=this.getAggregation("_content").getItems()[0].$(),n=!!this.isLoading();this.setBusy(n);this.getAggregation("_content").toggleStyleClass("sapFCardContentHidden",n);if(this.adaptiveCardInstance&&t&&e.length){this.adaptiveCardInstance.parse(t);e.html(this.adaptiveCardInstance.render());this._bAdaptiveCardElementsReady=true;this._fireCardReadyEvent();if(this.adaptiveCardInstance.renderedElement){this.adaptiveCardInstance.renderedElement.tabIndex=-1}}};b.prototype._fireCardReadyEvent=function(){if(this._bAdaptiveCardElementsReady&&this.getComponentsReady()){this._bReady=true;this.fireReady()}};b.prototype._setTemplating=function(t,e){var n=new l.Template(t);return n.expand({$root:e})};b.prototype._loadWebcomponents=function(){if(this.getComponentsReady()){p.debug("WebComponents were already loaded");this._fireCardReadyEvent();return}setTimeout(function(){if(!window.customElements.get("ui5-button")){n({id:"webcomponents-bundle",attributes:{type:"module"},url:sap.ui.require.toUrl("sap/ui/integration/thirdparty/webcomponents/bundle.esm.js")})}this.setComponentsReady(true);this._fireCardReadyEvent()}.bind(this))};b.prototype.setComponentsReady=function(t){this._bComponentsReady=t;return this};b.prototype.getComponentsReady=function(){return!!this._bComponentsReady};return b});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/AnalyticalContent", ["./AnalyticalContentRenderer","./BaseContent","sap/ui/integration/library","sap/ui/integration/util/BindingResolver","sap/base/Log","sap/base/util/merge","sap/ui/core/Core"],function(t,e,a,i,n,r,o){"use strict";var s=a.CardActionArea;var l,p,c,d;var u={Top:"top",Bottom:"bottom",Left:"left",Right:"right"};var g={TopLeft:"topLeft",Center:"center"};var v={Left:"left",Center:"center",Right:"right"};var h={Line:"line",StackedColumn:"stacked_column",StackedBar:"stacked_bar",Donut:"donut"};var f={Chart:"Chart",Full:"Full"};var m=e.extend("sap.ui.integration.cards.AnalyticalContent",{metadata:{library:"sap.ui.integration"},renderer:t});m.prototype.exit=function(){e.prototype.exit.apply(this,arguments);if(this._oPopover){this._oPopover.destroy()}};m.prototype.loadDependencies=function(t){return new Promise(function(t,e){o.loadLibrary("sap.viz",{async:true}).then(function(){sap.ui.require(["sap/viz/ui5/controls/VizFrame","sap/viz/ui5/controls/common/feeds/FeedItem","sap/viz/ui5/controls/Popover","sap/viz/ui5/data/FlattenedDataset"],function(e,a,i,n){l=e;p=a;d=i;c=n;t()},function(t){e(t)})}).catch(function(){e("Analytical content type is not available with this distribution.")})})};m.prototype.onDataChanged=function(){this._createChart();var t=this.getAggregation("_content");if(t){var e=t._getVizDataset(),a=e&&e._FlatTableD&&e._FlatTableD._data&&Array.isArray(e._FlatTableD._data)&&!e._FlatTableD._data.length;if(a){this.getParent()._handleError("No data available",true)}}};m.prototype._createChart=function(){var t=this.getParsedConfiguration();if(!t.chartType){n.error('"sap.card".content.chartType is mandatory property.',null,"sap.ui.integration.widgets.Card");return}var e=i.resolveValue(t,this,"/");var a=new l({uiConfig:{applicationSet:"fiori"},height:"100%",width:"100%",vizType:h[e.chartType]||e.chartType,vizProperties:this._getVizProperties(e),dataset:this._getDataset(t,e),feeds:this._getFeeds(e)});this.setAggregation("_content",a);this._attachActions(t);if(e.popover&&e.popover.active){this._attachPopover()}};m.prototype._attachActions=function(t){var e={area:s.Content,actions:t.actions,control:this};if(t.actionableArea===f.Chart){e.eventName="selectData";e.actionControl=this.getAggregation("_content");this._oActions.setBindingPathResolver(function(t){var e=t.getParameter("data")[0].data._context_row_number;return this.getBindingContext().getPath()+"/"+e}.bind(this))}else{e.eventName="press"}this._oActions.attach(e)};m.prototype._attachPopover=function(){if(this._oPopover){this._oPopover.destroy()}this._oPopover=new d;this._oPopover.connect(this.getAggregation("_content").getVizUid())};m.prototype._getVizProperties=function(t){if(!t){return null}var e=t.title,a=t.legend,i=t.plotArea;var o={title:{style:{fontWeight:"normal"},layout:{respectPlotPosition:false}},legend:{},legendGroup:{layout:{}},plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}},categoryAxis:{title:{}},valueAxis:{title:{}},interaction:{noninteractiveMode:true}};if(t.actions||t.popover){var s=t.actionableArea===f.Chart||t.popover&&t.popover.active;o.interaction.noninteractiveMode=!s}if(e){o.title.text=e.text;o.title.visible=e.visible;o.title.alignment=v[e.alignment];n.warning('"sap.card".content.title is deprecated. Use "sap.card".content.chartProperties instead',null,"sap.ui.integration.widgets.Card")}if(a){o.legend.visible=a.visible;o.legendGroup.layout.position=u[a.position];o.legendGroup.layout.alignment=g[a.alignment];n.warning('"sap.card".content.legend is deprecated. Use "sap.card".content.chartProperties instead',null,"sap.ui.integration.widgets.Card")}if(i){if(i.dataLabel){o.plotArea.dataLabel=i.dataLabel}if(i.categoryAxisText){o.categoryAxis.title.visible=i.categoryAxisText.visible}if(i.valueAxisText){o.valueAxis.title.visible=i.valueAxisText.visible}n.warning('"sap.card".content.plotArea is deprecated. Use "sap.card".content.chartProperties instead',null,"sap.ui.integration.widgets.Card")}r(o,t.chartProperties);return o};m.prototype._getDataset=function(t,e){var a,i;if(t.dimensions){i=t.dimensions.map(function(t,a){return{name:e.dimensions[a].name||e.dimensions[a].label,value:t.value,displayValue:t.displayValue,dataType:t.dataType}})}if(t.measures){a=t.measures.map(function(t,a){return{name:e.measures[a].name||e.measures[a].label,value:t.value}})}return new c({measures:a,dimensions:i,data:{path:this.getBindingContext().getPath()}})};m.prototype._getFeeds=function(t){var e=t.feeds;if(t.measureAxis||t.dimensionAxis){n.warning('"sap.card".content.measureAxis and "sap.card".content.dimensionAxis are deprecated. Use "sap.card".content.feeds instead',null,"sap.ui.integration.widgets.Card");e=[{uid:t.measureAxis,type:"Measure",values:t.measures.map(function(t){return t.label})},{uid:t.dimensionAxis,type:"Dimension",values:t.dimensions.map(function(t){return t.label})}]}return e.map(function(t){return new p(t)})};return m});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/AnalyticalContentRenderer", ["./BaseContentRenderer"],function(e){"use strict";var n=e.extend("sap.ui.integration.cards.AnalyticalContentRenderer",{apiVersion:2,MIN_ANALYTICAL_CONTENT_HEIGHT:"14rem"});n.getMinHeight=function(e,t){if(e.minHeight){return e.minHeight}return n.MIN_ANALYTICAL_CONTENT_HEIGHT};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/AnalyticsCloudContent", ["./AnalyticsCloudContentRenderer","./BaseContent","sap/ui/integration/library","sap/ui/core/HTML","sap/ui/integration/util/BindingResolver","sap/base/Log"],function(t,i,r,h,e,a){"use strict";var s=r.CardActionArea;var n=i.extend("sap.ui.integration.cards.AnalyticsCloudContent",{metadata:{library:"sap.ui.integration"},renderer:t});n.prototype.init=function(){i.prototype.init.apply(this,arguments);var t=this.getId()+"-highchartContainer";this._oHighchartContainer=new h(t,{content:"<div id="+t+" class='sapFCardAnalyticsCloudContentHCC'></div>"});this.setAggregation("_content",this._oHighchartContainer)};n.prototype.exit=function(){i.prototype.exit.apply(this,arguments);if(this._oHighchart){this._oHighchart.destroy();this._oHighchart=null}if(this._oHighchartContainer){this._oHighchartContainer.destroy();this._oHighchartContainer=null}};n.prototype.loadDependencies=function(t){return this._loadHighcharts()};n.prototype.setConfiguration=function(t){i.prototype.setConfiguration.apply(this,arguments);t=this.getParsedConfiguration();this.fireEvent("_actionContentReady");this._oActions.attach({area:s.Content,actions:t.actions,control:this})};n.prototype.onAfterRendering=function(){this._createHighchart()};n.prototype._loadHighcharts=function(){var t=this.getCardInstance(),i=n.SAC_DESTINATION_KEY,r=t.resolveDestination(i);return r.then(function(t){return n.loadHighcharts(t)},function(t){return Promise.reject("Destination with key '"+i+"' is required for AnalyticsCloud card. It could not be resolved. Reason: '"+t+"'")})};n.prototype._createHighchart=function(){if(this._bIsBeingDestroyed){return}var t=this.getCardInstance(),i=this.getParsedConfiguration(),r=this.getBindingContext(),h,s;if(!t.isReady()){t.attachEventOnce("_ready",this._createHighchart,this);return}if(!window.Highcharts){this.handleError("There was a problem with loading Highcharts library. Could not initialize AnalyticsCloud card content.");return}if(!this._oHighchartContainer){a.error("Highcharts container is not created or destroyed.");return}if(r){h=r.getPath()}s=e.resolveValue(i.options,this,h);this._oHighchart=new window.Highcharts.Chart(this._oHighchartContainer.getId(),s)};n.SAC_DESTINATION_KEY="sac";n.HIGHCHART_MODULES={"highcharts/highstock":{amd:true,exports:"Highcharts"},"highcharts/highcharts-more":{deps:["highcharts/highstock"]},"highcharts/solid-gauge":{deps:["highcharts/highstock","highcharts/highcharts-more"]},"highcharts/histogram-bellcurve":{deps:["highcharts/highstock"]},"highcharts/no-data-to-display":{deps:["highcharts/highstock"]},"highcharts/wordcloud":{deps:["highcharts/highstock"]},"highcharts/variable-pie":{deps:["highcharts/highstock"]},"highcharts/heatmap":{deps:["highcharts/highstock"]},"highcharts/treemap":{deps:["highcharts/highstock"]},"highcharts/variwide":{deps:["highcharts/highstock"]},"highcharts/pattern-fill":{deps:["highcharts/highstock"]},"highcharts/highcharts-3d":{deps:["highcharts/highstock"]},"highcharts/grouped-categories":{deps:["highcharts/highstock"]}};n.loadHighcharts=function(t){var i=t.trim().replace(/\/$/,""),r=i,h=this._isHighchartsIncluded(r),e=this._isHighchartsIncludedByThirdParty();if(h){return this._pLoadModules}if(e){return Promise.resolve()}this._sIncludedFrom=r;this._pLoadModules=this._loadModules(r);return this._pLoadModules};n._isHighchartsIncluded=function(t){var i=this._sIncludedFrom;if(i&&i===t){return true}if(i&&i!==t){a.warning("Highcharts library is already included from '"+i+"'. The included version will be used and will not load from '"+t+"'","sap.ui.integration.widgets.Card#AnalyticsCloud");return true}return false};n._isHighchartsIncludedByThirdParty=function(){if(window.Highcharts){a.warning("Highcharts library is already included on the page. The included version will be used and will not load another one.","sap.ui.integration.widgets.Card#AnalyticsCloud");return true}return false};n._loadModules=function(t){var i=this.HIGHCHART_MODULES,r=Object.getOwnPropertyNames(i);sap.ui.loader.config({paths:{highcharts:t+"/highcharts"},async:true,shim:i});return this._require(r).catch(function(){return Promise.reject("There was a problem with loading of the Highcharts library files.")})};n._require=function(t){return new Promise(function(i,r){sap.ui.require(t,function(){i(arguments)},function(t){r(t)})})};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/AnalyticsCloudContentRenderer", ["./BaseContentRenderer"],function(e){"use strict";var n=e.extend("sap.ui.integration.cards.AnalyticsCloudContentRenderer",{apiVersion:2,MIN_ANALYTICS_CLOUD_CONTENT_HEIGHT:"14rem"});n.getMinHeight=function(e,t){if(e.minHeight){return e.minHeight}return n.MIN_ANALYTICS_CLOUD_CONTENT_HEIGHT};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/BaseContent", ["./BaseContentRenderer","sap/m/MessageStrip","sap/m/VBox","sap/m/library","sap/ui/core/Core","sap/ui/core/Control","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/integration/model/ObservableModel","sap/ui/base/ManagedObjectObserver","sap/ui/integration/util/LoadingProvider","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/base/util/merge"],function(t,e,i,n,a,o,r,s,d,g,h,p,u,c){"use strict";var l=s.InvisibleMessageMode;var f=o.extend("sap.ui.integration.cards.BaseContent",{metadata:{library:"sap.ui.integration",aggregations:{_content:{multiple:false,visibility:"hidden"},_loadingProvider:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"},_loadingPlaceholder:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"},_messageContainer:{type:"sap.m.VBox",multiple:false,visibility:"hidden"}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}},events:{press:{},ready:{}}},renderer:t});f.prototype.init=function(){this._oAwaitedEvents=new Set;this._bReady=false;this._mObservers={};this.setAggregation("_loadingProvider",new h)};f.prototype.ontap=function(t){if(!t.isMarked()){this.firePress({})}};f.prototype.exit=function(){this.hideLoadingPlaceholders();this._oAwaitedEvents=null;if(this._mObservers){Object.keys(this._mObservers).forEach(function(t){this._mObservers[t].disconnect();delete this._mObservers[t]},this)}this._oServiceManager=null;this._oDataProviderFactory=null;this._oIconFormatter=null;if(this._oDataProvider){this._oDataProvider.destroy();this._oDataProvider=null}if(this._oActions){this._oActions.destroy();this._oActions=null}this._sContentBindingPath=null};f.prototype.loadDependencies=function(t){return Promise.resolve()};f.prototype.getActions=function(){return this._oActions};f.prototype.setActions=function(t){this._oActions=t};f.prototype.awaitEvent=function(t){if(this._oAwaitedEvents.has(t)){return}this._bReady=false;this._oAwaitedEvents.add(t);this.showLoadingPlaceholders();this.attachEventOnce(t,function(){this._oAwaitedEvents.delete(t);if(this._oAwaitedEvents.size===0){this._bReady=true;this.hideLoadingPlaceholders();this.fireReady()}}.bind(this))};f.prototype.setConfiguration=function(t,e){this._oConfiguration=t;this.awaitEvent("_dataReady");this.awaitEvent("_actionContentReady");if(!t){return this}var i=this.getAggregation("_loadingProvider").createContentPlaceholder(t,e,this.getCardInstance());this.setAggregation("_loadingPlaceholder",i);this._setDataConfiguration(t.data);return this};f.prototype.getConfiguration=function(){return this._oConfiguration};f.prototype.getParsedConfiguration=function(){var t=c({},this._oConfiguration),e=t.data;delete t.data;t=p.createBindingInfos(t,this.getCardInstance().getBindingNamespaces());if(e){t.data=e}return t};f.prototype.getStaticConfiguration=function(){return this.getConfiguration()};f.prototype.showMessage=function(t,i){var n=this._getMessageContainer();var a=new e({text:p.createBindingInfos(t,this.getCardInstance().getBindingNamespaces()),type:i,showCloseButton:true,showIcon:true,close:function(){this._getMessageContainer().destroy()}.bind(this)}).addStyleClass("sapFCardContentMessage");n.destroyItems();n.addItem(a);if(this.getDomRef().contains(document.activeElement)){r.getInstance().announce(t,l.Assertive)}else{r.getInstance().announce(t,l.Polite)}};f.prototype._setDataConfiguration=function(t){var e=this.getCardInstance(),i;if(!t){this._sContentBindingPath=null;this.fireEvent("_dataReady");return}this._sContentBindingPath=u.resolveValue(t.path||"/",this.getCardInstance());this.bindObject(this._sContentBindingPath);if(this._oDataProvider){this._oDataProvider.destroy()}this._oDataProvider=this._oDataProviderFactory.create(t,this._oServiceManager);this.getAggregation("_loadingProvider").setDataProvider(this._oDataProvider);if(t.name){i=e.getModel(t.name)}else if(this._oDataProvider){i=new d;this.setModel(i)}if(!i){this.fireEvent("_dataReady");return}i.attachEvent("change",function(){if(!this.isDestroyed()){this.onDataChanged();this.onDataRequestComplete()}}.bind(this));if(this._oDataProvider){this._oDataProvider.attachDataRequested(function(){this.onDataRequested()}.bind(this));this._oDataProvider.attachDataChanged(function(t){i.setData(t.getParameter("data"))});this._oDataProvider.attachError(function(t){this.handleError(t.getParameter("message"));this.onDataRequestComplete()}.bind(this));this._oDataProvider.triggerDataUpdate()}else{this.fireEvent("_dataReady")}};f.prototype.onDataRequested=function(){this.awaitEvent("_dataReady")};f.prototype.onDataRequestComplete=function(){var t=this.getCardInstance();this.fireEvent("_dataReady");if(t){t._fireContentDataChange()}};f.prototype.refreshData=function(){if(this._oDataProvider){this._oDataProvider.triggerDataUpdate()}};f.prototype.showLoadingPlaceholders=function(){var t=this.getAggregation("_loadingProvider"),e=this.getCardInstance();if(!t){return}t.setLoading(true);if(e){e.addActiveLoadingProvider(t)}};f.prototype.hideLoadingPlaceholders=function(){var t=this.getAggregation("_loadingProvider"),e=this.getCardInstance();if(!t||!t.getLoading()){return}t.setLoading(false);if(e){e.removeActiveLoadingProvider(t)}};f.prototype.onDataChanged=function(){};f.prototype._bindAggregationToControl=function(t,e,i){var n;if(!i){return}if(!i.path){i.path=this._sContentBindingPath}if(!i.path){n=this.getCardInstance().getBindingContext();i.path=n&&n.getPath()}if(!i.path){return}e.bindAggregation(t,i);this._observeAggregation(t,e)};f.prototype._observeAggregation=function(t,e){var i=this.getCardInstance().getModel("parameters"),n;if(this._mObservers[t]){return}n=new g(function(n){var a;if(n.name!==t){return}if(!(n.mutation==="insert"||n.mutation==="remove")){return}a=e.getMetadata().getAggregation(t).get(e);i.setProperty("/visibleItems",a.length)});n.observe(e,{aggregations:[t]});this._mObservers[t]=n};f.prototype.isReady=function(){return this._bReady};f.prototype.handleError=function(t){this.fireEvent("_error",{logMessage:t})};f.prototype.setServiceManager=function(t){this._oServiceManager=t;return this};f.prototype.setDataProviderFactory=function(t){this._oDataProviderFactory=t;return this};f.prototype.setIconFormatter=function(t){this._oIconFormatter=t;return this};f.prototype.isLoading=function(){var t=this.getAggregation("_loadingProvider"),e=this.getCardInstance();return!t.isDataProviderJson()&&(t.getLoading()||e&&e.isLoading())};f.prototype.attachPress=function(){var t=Array.prototype.slice.apply(arguments);t.unshift("press");o.prototype.attachEvent.apply(this,t);this.invalidate();return this};f.prototype.detachPress=function(){var t=Array.prototype.slice.apply(arguments);t.unshift("press");o.prototype.detachEvent.apply(this,t);this.invalidate();return this};f.prototype.onActionSubmitStart=function(t){};f.prototype.onActionSubmitEnd=function(t,e){};f.prototype.validateControls=function(){};f.prototype.getCardInstance=function(){return a.byId(this.getCard())};f.prototype.isSkeleton=function(){var t=this.getCardInstance();return t&&t.isSkeleton()};f.prototype.sliceData=function(t,e){};f.prototype.getDataLength=function(){return 0};f.prototype._getMessageContainer=function(){var t=this.getAggregation("_messageContainer");if(!t){t=new i({renderType:n.FlexRendertype.Bare,alignItems:n.FlexAlignItems.Center}).addStyleClass("sapFCardContentMessageContainer");this.setAggregation("_messageContainer",t)}return t};return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/BaseContentRenderer", ["sap/ui/core/Renderer"],function(e){"use strict";var t=e.extend("sap.ui.integration.cards.BaseContentRenderer",{apiVersion:2});t.DEFAULT_MIN_HEIGHT="5rem";t.render=function(e,t){var n="sapFCard",a=t.getMetadata().getName(),i=a.slice(a.lastIndexOf(".")+1),r=t.getParent(),s=r&&r.isA("sap.f.ICard"),o=i!=="AdaptiveContent"&&s&&t.isLoading(),g=t.getAggregation("_messageContainer");n+=i;e.openStart("div",t).class(n).class("sapFCardBaseContent");if(t.hasListeners("press")){e.class("sapFCardClickable")}if(s&&r.getHeight()==="auto"){var d=this.getMinHeight(t.getParsedConfiguration(),t,r);e.style("min-height",d)}if(o){e.class("sapFCardContentLoading")}e.openEnd();if(o){e.renderControl(t.getAggregation("_loadingPlaceholder"))}if(g){e.renderControl(g)}this.renderContent(e,t);e.close("div")};t.renderContent=function(e,t){e.renderControl(t.getAggregation("_content"))};t.getMinHeight=function(e,t){return this.DEFAULT_MIN_HEIGHT};t.isCompact=function(e){var t=e,n=e.getParent();if(!e.getDomRef()&&n&&n.isA("sap.f.ICard")){t=n}return t.$().closest(".sapUiSizeCompact").hasClass("sapUiSizeCompact")};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/BaseListContent", ["sap/ui/integration/cards/BaseContent","sap/ui/integration/util/BindingResolver","sap/ui/integration/library","sap/base/Log","sap/ui/model/Sorter"],function(t,e,i,r,n){"use strict";var a=t.extend("sap.ui.integration.cards.BaseListContent",{metadata:{library:"sap.ui.integration"},renderer:{apiVersion:2}});a.prototype.init=function(){t.prototype.init.apply(this,arguments);this._oAwaitingPromise=null};a.prototype.exit=function(){t.prototype.exit.apply(this,arguments);this._oAwaitingPromise=null};a.prototype.setConfiguration=function(e,i){t.prototype.setConfiguration.apply(this,arguments);e=this.getConfiguration();if(!e){return this}var r=this.getInnerList(),n=this.getCard()?this.getCardInstance().hasPaginator():false,a=e.maxItems;if(!Number.isNaN(parseInt(a))){a=parseInt(a)}if(r&&a&&!n){r.applySettings({growing:true,growingThreshold:a});r.addStyleClass("sapFCardMaxItems")}return this};a.prototype.getInnerList=function(){return null};a.prototype._checkHiddenNavigationItems=function(t){if(!t.actions){return}if(!this.getInnerList()){return}var i=this.getInnerList(),n=this.isA("sap.ui.integration.cards.TimelineContent")?i.getContent():i.getItems(),a=[],s=t.actions[0],o,g=0;if(!s||!s.service||s.type!=="Navigation"){return}if(s.service==="object"){o=s.service.name}else{o=s.service}n.forEach(function(t){var i=e.resolveValue(s.parameters,this,t.getBindingContext().getPath());a.push(this._oServiceManager.getService(o).then(function(t){if(!t.hidden){return false}return t.hidden({parameters:i})}).then(function(e){t.setVisible(!e);if(!e){g++}}).catch(function(t){r.error(t)}))}.bind(this));this.awaitEvent("_filterNavItemsReady");var p=this._oAwaitingPromise=Promise.all(a).then(function(){if(this._oAwaitingPromise===p){if(this.getModel("parameters")){this.getModel("parameters").setProperty("/visibleItems",g)}this.fireEvent("_filterNavItemsReady")}}.bind(this))};a.prototype._handleNoItemsError=function(t){if(!this.getInnerList()){return}var e=this.getInnerList(),i=e.getBinding(e.getMetadata().getDefaultAggregationName()),r=i.getModel(),n=i.getPath(),a=r.getProperty(n);if(a&&a.length===0){this.getParent()._handleError("No items available",true)}};a.prototype._getGroupSorter=function(t){var i=false;if(t.order.dir&&t.order.dir==="DESC"){i=true}var r=new n(t.order.path,i,function(i){return e.resolveValue(t.title,i.getModel(),i.getPath())});return r};a.prototype.sliceData=function(t,e){this.getModel().sliceData(t,e)};a.prototype.getDataLength=function(){var t=this.getModel().getProperty(this.getInnerList().getBindingContext().getPath());if(Array.isArray(t)){return t.length}return Object.getOwnPropertyNames(t).length};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/CalendarContent", ["./CalendarContentRenderer","sap/ui/core/ResizeHandler","sap/ui/integration/library","sap/ui/integration/cards/BaseContent","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/f/CalendarAppointmentInCard","sap/f/CalendarInCard","sap/f/PlanningCalendarInCardLegend","sap/m/library","sap/m/Button","sap/m/FlexBox","sap/ui/core/format/DateFormat","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/DateTypeRange","sap/ui/core/date/UniversalDate","sap/ui/unified/CalendarLegendItem","sap/ui/core/Configuration"],function(t,e,a,i,n,s,o,r,l,p,d,m,h,g,u,c,_,f,D,y,C,I,A){"use strict";var T=a.CardActionArea;var S=i.extend("sap.ui.integration.cards.CalendarContent",{renderer:t,metadata:{library:"sap.ui.integration",properties:{visibleAppointmentsCount:{type:"int",group:"Data",defaultValue:2},noAppointmentsText:{type:"string",group:"Misc",defaultValue:null}},aggregations:{appointments:{type:"sap.f.CalendarAppointmentInCard",multiple:true,singularName:"appointment"}}}});S.prototype._createCardContent=function(){this._oCalendar=new r(this.getId()+"-navigation",{startDateChange:function(t){var e=t.getSource()._getFocusedDate().toLocalJSDate();this._handleStartDateChange(e)}.bind(this),select:function(t){var e=t.getSource().getSelectedDates()[0].getStartDate();this._setParameters(t,t.getParameter("startDate"));this._refreshVisibleAppointments(e);this.invalidate();this._handleSelect(e)}.bind(this)});this._oLegend=new l(this.getId()+"-legend",{columnWidth:"7.5rem",standardItems:[]});this._oCalendar.setLegend(this._oLegend);this._oContent=new m(this.getId()+"-wrapper",{items:[this._oCalendar,this._oLegend]});this.setAggregation("_content",this._oContent);this._oFormatAria=h.getDateTimeInstance({pattern:"EEEE dd/MM/YYYY 'at' "+L.call(this).getTimePattern("medium")})};S.prototype.init=function(){this._aVisibleAppointments=[];i.prototype.init.apply(this,arguments);this._createCardContent()};S.prototype.exit=function(){if(this._sTwoColumnsResizeListener){e.deregister(this._sTwoColumnsResizeListener);this._sTwoColumnsResizeListener=undefined}i.prototype.exit.apply(this,arguments);if(this._oAppointmentTemplate){this._oAppointmentTemplate.destroy();this._oAppointmentTemplate=null}if(this._oSpecialDateTemplate){this._oSpecialDateTemplate.destroy();this._oSpecialDateTemplate=null}if(this._oCalendarLegendItemTemplate){this._oCalendarLegendItemTemplate.destroy();this._oCalendarLegendItemTemplate=null}if(this._oAppointmentLegendItemTemplate){this._oAppointmentLegendItemTemplate.destroy();this._oAppointmentLegendItemTemplate=null}if(this._bDataInitiallyLoaded){this._bDataInitiallyLoaded=null}};S.prototype.onDataChanged=function(){var t=this._oCalendar.getSelectedDates()[0]&&this._oCalendar.getSelectedDates()[0].getStartDate();if(!t){return}if(!this._bDataInitiallyLoaded){this._handleSelect(t);this._handleStartDateChange(t);this._bDataInitiallyLoaded=true}this._setParameters();this._refreshVisibleAppointments(t);this.invalidate()};S.prototype.onBeforeRendering=function(){var t=this._oCalendar.getSelectedDates().length?this._oCalendar.getSelectedDates()[0].getStartDate():this._oCalendar.getStartDate();this._setParameters();this._refreshVisibleAppointments(t);this.getModel("parameters").setProperty("/visibleItems",this._iVisibleItems);this.getModel("parameters").setProperty("/allItems",this._iAllItems)};S.prototype.onAfterRendering=function(){i.prototype.onAfterRendering.call(this,arguments);if(!this._sTwoColumnsResizeListener){this._sTwoColumnsResizeListener=e.register(this,this.resizeHandler);this.resizeHandler({control:this,target:this.getDomRef()})}};S.prototype.resizeHandler=function(t){t.control.toggleStyleClass("sapMPCInCardTwoColumns",t.target.getBoundingClientRect().width>576)};S.prototype.setConfiguration=function(t){i.prototype.setConfiguration.apply(this,arguments);t=this.getParsedConfiguration();this.fireEvent("_actionContentReady");if(!t){return this}if(t.item){this._addItem(t.item)}if(t.specialDate){this._addSpecialDate(t.specialDate)}if(t.legendItem){this._addLegendItem(t.legendItem)}if(t.date){this._addDate(t.date)}if(t.maxItems){this._addMaxItems(t.maxItems)}if(t.maxLegendItems){this._addMaxLegendItems(t.maxLegendItems)}if(t.noItemsText){this._addNoItemsText(t.noItemsText)}if(t.moreItems&&t.moreItems.actions){this._oActions.attach({area:T.Content,actions:t.moreItems.actions,control:this._getMoreButton()})}return this};S.prototype._setParameters=function(t,e){var a,i,n,s,o;if(e){a=e}else if(this._oCalendar.getSelectedDates().length){a=this._oCalendar.getSelectedDates()[0].getStartDate()}else{a=this._oCalendar.getStartDate()}i=new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime();n=new Date(a.getFullYear(),a.getMonth(),a.getDate()+1).getTime();s=this.getAppointments();if(s){o=s.filter(function(t){var e=t.getStartDate().getTime(),a=t.getEndDate().getTime();if(e>=i&&e<n||a>i&&a<=n||e<i&&a>n){return t}})}else{o=[]}this._iAllItems=o.length;this._iMaxItems=this.getVisibleAppointmentsCount();this._iVisibleItems=Math.min(this._iMaxItems,this._iAllItems);if(this.getModel("parameters")){this.getModel("parameters").setProperty("/visibleItems",this._iVisibleItems);this.getModel("parameters").setProperty("/allItems",this._iAllItems)}};S.prototype._refreshVisibleAppointments=function(t){this._aVisibleAppointments=this._calculateVisibleAppointments(this.getAppointments(),t)};S.prototype._calculateVisibleAppointments=function(t,e){var a=this._isAppointmentInSelectedDate(e);var i=function(t,a){var i=t.getEndDate(),n=new Date;if(e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear()){return this._iAllItems-a<this._iVisibleItems||i.getTime()>n.getTime()}return true};var n=t.filter(a,this).sort(this._sortByStartHourCB).filter(i,this).slice(0,this._iVisibleItems);return n};S.prototype._sortByStartHourCB=function(t,e){return t.getStartDate().getTime()-e.getStartDate().getTime()||e.getEndDate().getTime()-t.getEndDate().getTime()};S.prototype._isAppointmentInSelectedDate=function(t){return function(e){var a=e.getStartDate().getTime(),i=e.getEndDate().getTime(),n=t.getTime(),s=C.getInstance(new Date(t.getTime())),o,r,l,p;s.setDate(s.getDate()+1);o=s.getTime();r=a<n&&i>o;l=a>=n&&a<o;p=i>n&&i<=o;return r||l||p}};S.prototype._getVisibleAppointments=function(){return this._aVisibleAppointments};S.prototype.formatDate=function(t){var e=h.getDateTimeInstance({pattern:"yyyy-MM-dd'T'HH:mm:ss.SSSXXX"}).parse(t);if(!e){e=h.getInstance({pattern:"yyyy-MM-dd"}).parse(t)}return e};S.prototype._addItem=function(t){var e={title:t.template.title,text:t.template.text,type:t.template.type},a;if(t.template.startDate){e.startDate=n.formattedProperty(t.template.startDate,this.formatDate)}if(t.template.endDate){e.endDate=n.formattedProperty(t.template.endDate,this.formatDate)}if(t.template.icon&&t.template.icon.src){e.icon=n.formattedProperty(t.template.icon.src,function(t){return this._oIconFormatter.formatSrc(t)}.bind(this))}this._oAppointmentTemplate=new o(e);var i=this.getActions();i.attach({area:T.ContentItem,actions:t.template.actions,control:this,actionControl:this._oAppointmentTemplate,enabledPropertyName:"clickable",enabledPropertyValue:true,disabledPropertyValue:false});a={path:t.path,template:this._oAppointmentTemplate};this._bindAggregationToControl("appointments",this,a)};S.prototype._addSpecialDate=function(t){var e=t.template,a;if(e.startDate){e.startDate=n.formattedProperty(e.startDate,this.formatDate)}if(e.endDate){e.endDate=n.formattedProperty(e.endDate,this.formatDate)}this._oSpecialDateTemplate=new y(e);a={path:t.path,template:this._oSpecialDateTemplate};this._bindAggregationToControl("specialDates",this._oCalendar,a)};S.prototype._addLegendItem=function(t){var e={text:t.template.text,type:t.template.type},a={text:t.template.text,type:t.template.type},i,n;this._oCalendarLegendItemTemplate=new I(e);i={path:t.path,template:this._oCalendarLegendItemTemplate,filters:new c({path:"category",operator:_.Contains,value1:"calendar"})};this._bindAggregationToControl("items",this._oLegend,i);this._oAppointmentLegendItemTemplate=new I(a);n={path:t.path,template:this._oAppointmentLegendItemTemplate,filters:new c({path:"category",operator:_.Contains,value1:"appointment"})};this._bindAggregationToControl("appointmentItems",this._oLegend,n)};S.prototype._addDate=function(t){if(s.isBindingInfo(t)){if(!t){return}var e=new y;e.bindProperty("startDate",n.formattedProperty(t,this.formatDate));this._oCalendar.addSelectedDate(e)}else{this._oCalendar.addSelectedDate(new y({startDate:this.formatDate(t)}));var a=this.formatDate(t);this._handleSelect(a);this._handleStartDateChange(a);this._bDataInitiallyLoaded=true}};S.prototype._addMaxItems=function(t){if(s.isBindingInfo(t)){t&&this.bindProperty("visibleAppointmentsCount",t)}else{this.setVisibleAppointmentsCount(t)}};S.prototype._addMaxLegendItems=function(t){if(s.isBindingInfo(t)){t&&this._oLegend.bindProperty("visibleLegendItemsCount",t)}else{this._oLegend.setVisibleLegendItemsCount(t)}};S.prototype._addNoItemsText=function(t){if(s.isBindingInfo(t)){t&&this.bindProperty("noAppointmentsText",t)}else{this.setNoAppointmentsText(t)}};S.prototype._getMoreButton=function(){if(!this._oMoreAppsButton){this._oMoreAppsButton=new d({text:"More"})}return this._oMoreAppsButton};S.prototype._bNeedForMoreButton=function(){return this._iAllItems>this.getVisibleAppointmentsCount()};S.prototype._getCurrentAppointment=function(){var t=this._getVisibleAppointments(),e=new Date,a,i,n,s,o=this._oCalendar.getSelectedDates().length?this._oCalendar.getSelectedDates()[0].getStartDate():this._oCalendar.getStartDate();if(o.getDate()===e.getDate()&&o.getMonth()===e.getMonth()&&o.getFullYear()===e.getFullYear()){for(s=t.length-1;s>=0;s--){a=t[s];i=a.getStartDate().getTime();n=a.getEndDate().getTime();if(e.getTime()>i&&e.getTime()<n){return a}}}};S.prototype._handleStartDateChange=function(t){var e=this.getActions(),a=f.fromLocalJSDate(t),i=D._getFirstDateOfWeek(D._getFirstDateOfMonth(a)),n=new f(t.getFullYear(),t.getMonth()+1,1),s;n.setDate(n.getDate()-1);s=D._getFirstDateOfWeek(n);s.setDate(s.getDate()+6);e.fireAction(this,"MonthChange",{firstDate:i.toLocalJSDate(),lastDate:s.toLocalJSDate()})};S.prototype._handleSelect=function(t){var e=this.getActions();e.fireAction(this,"DateChange",{selectedDate:t})};function L(){if(!this._oLocaleData){var t=b.call(this);var e=new g(t);this._oLocaleData=u.getInstance(e)}return this._oLocaleData}function b(){if(!this._sLocale){this._sLocale=A.getFormatSettings().getFormatLocale().toString()}return this._sLocale}return S});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/CalendarContentRenderer", ["./BaseContentRenderer","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ui/unified/library","sap/ui/unified/CalendarLegendRenderer"],function(e,t,a,n,r){"use strict";var i=n.CalendarDayType;var p=e.extend("sap.ui.integration.cards.CalendarContentRenderer",{apiVersion:2});p.renderContent=function(e,t){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.integration"),n=t.getId();e.openStart("div",n+"card-group");e.attr("role","group");e.attr("aria-label",a.getText("CARDS_CALENDAR"));e.class("sapFCalCard");e.openEnd();e.openStart("div",n+"card-layout");e.class("sapFCalCardLayout");e.openEnd();e.openStart("div",n+"left-side");e.class("sapFCalCardLeftSide");e.openEnd();e.renderControl(t._oCalendar);e.openStart("div",n+"card-legend");e.attr("aria-label",a.getText("CARDS_CALENDAR_LEGEND"));e.openEnd();e.renderControl(t._oLegend);e.close("div");e.openStart("div","card-line-separator");e.class("sapFCalCardLineSeparator");e.openEnd();e.close("div");e.close("div");e.openStart("div",n+"right-side");e.class("sapFCalCardRightSide");e.openEnd();p.renderAppointments(e,t);if(t._bNeedForMoreButton()){e.renderControl(t._getMoreButton())}e.close("div");e.close("div");e.close("div")};p.renderAppointments=function(e,t){var a=t._getVisibleAppointments(),n=t._getCurrentAppointment(),r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.integration");e.openStart("div",t.getId()+"appointments-list");e.attr("role","list");e.attr("aria-label",r.getText("CARDS_CALENDAR_APPOINTMENTS"));e.class("sapFCalCardAppList");e.openEnd();if(!a.length){e.openStart("div");e.class("sapFCalCardNoItemsText");e.openEnd();e.text(t.getNoAppointmentsText());e.close("div")}a.forEach(function(a){p.renderAppointment(e,t,a,n==a)});e.close("div")};p.renderAppointment=function(e,t,a,n){var r=t._oCalendar.getSelectedDates()[0].getStartDate();e.openStart("div");e.attr("role","listitem");e.class("sapUiCalendarAppContainer");if(n){e.class("sapUiCalendarAppCurrent")}e.openEnd();e.openStart("div");e.class("sapUiCalendarAppContainerLeft");e.openEnd();e.openStart("div");e.class("sapUiCalendarAppStart");e.openEnd();e.text(a._getDateRangeIntersectionText(r).start);e.close("div");e.openStart("div");e.class("sapUiCalendarAppEnd");e.openEnd();e.text(a._getDateRangeIntersectionText(r).end);e.close("div");e.close("div");e.openStart("div");e.class("sapUiCalendarAppContainerRight");e.openEnd();this._renderAppointment(e,t,a,r);e.close("div");p.renderAdditionalAriaLabel(e,t,a);e.close("div")};p._renderAppointment=function(e,t,a,n){var r=a.getId();var l=a.getTitle();var o=a.getText();var d=a.getType();var s=a.getIcon();var c=!l||!o;e.openStart("div",a);e.class("sapUiCalendarApp");if(a.getClickable()){e.attr("tabindex","0")}else{e.class("sapUiCalendarAppDisabled")}e.accessibilityState(a,p.getAccProps(a));if(d&&d!=i.None){e.class("sapUiCalendarApp"+d)}if(c){e.class("sapUiCalendarAppOneLine")}e.openEnd();e.openStart("div");e.class("sapUiCalendarAppCont");e.openEnd();if(s){var g=["sapUiCalendarAppIcon"];var v={};v["id"]=r+"-Icon";v["title"]=null;v["role"]="img";e.icon(s,g,v)}e.openStart("div");e.class("sapUiCalendarAppTitleWrapper");e.openEnd();if(l){e.openStart("span",r+"-Title");e.class("sapUiCalendarAppTitle");e.openEnd();e.text(l);e.close("span")}if(o){e.openStart("span",r+"-Text");e.class("sapUiCalendarAppText");e.openEnd();e.text(o);e.close("span")}e.close("div");e.close("div");e.close("div")};p.renderAdditionalAriaLabel=function(e,t,a){var n=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),r=t._oFormatAria,p=a.getType(),l=t._oLegend?t._oLegend.getAppointmentItems():[];var o=n.getText("CALENDAR_START_TIME")+": "+r.format(a.getStartDate());o=o+"; "+n.getText("CALENDAR_END_TIME")+": "+r.format(a.getEndDate());if(p&&p!=i.None){o=o+"; "+this.getAriaTextForType(p,l)}e.openStart("span",a.getId()+"-Descr");e.class("sapUiInvisibleText");e.openEnd();e.text(o);e.close("span")};p.getAriaTextForType=function(e,t){var a,n,i,p;if(t&&t.length){for(var p=0;p<t.length;p++){i=t[p];if(i.getType()===e){a=i.getText();break}}}if(!a){n=r.getTypeAriaText(e);if(n){a=n.getText()}}return a};p.getAccProps=function(e){var t=e.getId();var n={labelledby:{value:a.getStaticId("sap.ui.unified","APPOINTMENT")+" "+t+"-Descr",append:true},selected:null};if(e.getTitle()){n["labelledby"].value=n["labelledby"].value+" "+t+"-Title"}if(e.getText()){n["labelledby"].value=n["labelledby"].value+" "+t+"-Text"}if(e.getSelected()){n["labelledby"].value=n["labelledby"].value+" "+a.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED")}return n};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/ComponentContent", ["sap/ui/integration/cards/BaseContent","./ComponentContentRenderer","sap/ui/core/ComponentContainer","sap/ui/core/Component"],function(n,t,e,a){"use strict";var i=n.extend("sap.ui.integration.cards.ComponentContent",{metadata:{library:"sap.ui.integration"},renderer:t});a._fnOnInstanceCreated=function(n){var t=n.getComponentData();if(t&&t["__sapUiIntegration_card"]&&n.onCardReady){n.onCardReady(t["__sapUiIntegration_card"])}};i.prototype.setConfiguration=function(t){n.prototype.setConfiguration.apply(this,arguments);t=this.getParsedConfiguration();if(!t){return}var a=new e({manifest:t.componentManifest,async:true,settings:{componentData:{__sapUiIntegration_card:this.getCardInstance()}},componentCreated:function(){this.fireEvent("_actionContentReady");this.fireEvent("_updated")}.bind(this),componentFailed:function(){this.fireEvent("_actionContentReady");this.handleError("Card content failed to create component")}.bind(this)});this.setAggregation("_content",a)};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/ComponentContentRenderer", ["./BaseContentRenderer"],function(e){"use strict";var n=e.extend("sap.ui.integration.cards.ComponentContentRenderer",{apiVersion:2});n.getMinHeight=function(n,t){if(n.minHeight){return n.minHeight}return e.getMinHeight.apply(this,arguments)};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/Footer", ["sap/ui/core/Control","sap/ui/core/Core","sap/base/util/merge","sap/ui/integration/controls/ActionsStrip","sap/ui/integration/controls/Paginator","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver"],function(t,i,n,e,r,a,o){"use strict";var s=t.extend("sap.ui.integration.cards.Footer",{metadata:{properties:{configuration:{type:"object"}},aggregations:{actionsStrip:{type:"sap.ui.integration.controls.ActionsStrip",multiple:false},paginator:{type:"sap.ui.integration.controls.Paginator",multiple:false}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}},renderer:{apiVersion:2,render:function(t,i){var n=i.getActionsStrip(),e=i.getPaginator();t.openStart("div",i).class("sapFCardFooter");if(n){t.class("sapFCardFooterWithActionsStrip")}if(i.getCardInstance().isLoading()&&i._hasBinding()){t.class("sapFCardFooterLoading")}t.openEnd();if(e){t.renderControl(e)}if(n){t.renderControl(n)}t.close("div")}}});s.prototype._hasBinding=function(){var t=a.createBindingInfos(this.getConfiguration(),this.getCardInstance().getBindingNamespaces());return(t.actionsStrip||[]).some(function(t){for(var i in t){if(o.isBindingInfo(t[i])){return true}}return false})};s.prototype.getCardInstance=function(){return i.byId(this.getCard())};s.prototype.setEnabled=function(t){var i=this.getActionsStrip();if(!i){return}if(t){i.enableItems()}else{i.disableItems()}};s.prototype.getStaticConfiguration=function(){var t=n({},this.getConfiguration()),i=this.getPaginator();if(i){t.paginator=i.getStaticConfiguration()}return t};s.create=function(t,i){return new s({configuration:i,card:t,actionsStrip:e.create(t,i.actionsStrip,true),paginator:r.create(t,i.paginator),visible:i.visible})};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/Header", ["sap/ui/core/Core","sap/ui/model/json/JSONModel","sap/base/util/merge","sap/f/cards/Header","sap/f/cards/HeaderRenderer","sap/m/library","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/LoadingProvider","sap/ui/integration/util/Utils"],function(t,i,e,a,o,r,n,s,d,c){"use strict";var l=r.AvatarColor;var h=a.extend("sap.ui.integration.cards.Header",{constructor:function(t,i,e){t=t||{};var o={title:t.title,titleMaxLines:t.titleMaxLines,subtitle:t.subTitle,subtitleMaxLines:t.subTitleMaxLines,dataTimestamp:t.dataTimestamp,visible:t.visible};if(t.status&&t.status.text&&!t.status.text.format){o.statusText=t.status.text}if(t.icon){var r=t.icon.initials||t.icon.text;var s=t.icon.backgroundColor||(r?l.Accent6:l.Transparent);o.iconSrc=t.icon.src;o.iconDisplayShape=t.icon.shape;o.iconInitials=r;o.iconAlt=t.icon.alt;o.iconBackgroundColor=s;o.iconVisible=t.icon.visible}if(o.iconSrc){o.iconSrc=n.formattedProperty(o.iconSrc,function(t){return e.formatSrc(t)})}o.toolbar=i;a.call(this,o);this._oConfiguration=t},metadata:{library:"sap.ui.integration",properties:{interactive:{type:"boolean",defaultValue:false}},aggregations:{_loadingProvider:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}},renderer:o});h.prototype.init=function(){a.prototype.init.call(this);this._bReady=false;this.setAggregation("_loadingProvider",new d);this._aReadyPromises=[];this._awaitEvent("_dataReady");this._awaitEvent("_actionHeaderReady");Promise.all(this._aReadyPromises).then(function(){this._bReady=true;this.fireEvent("_ready")}.bind(this))};h.prototype.exit=function(){a.prototype.exit.call(this);this._oServiceManager=null;this._oDataProviderFactory=null;if(this._oDataProvider){this._oDataProvider.destroy();this._oDataProvider=null}if(this._oActions){this._oActions.destroy();this._oActions=null}};h.prototype._isInteractive=function(){return this.getInteractive()};h.prototype.isReady=function(){return this._bReady};h.prototype.isLoading=function(){var t=this.getAggregation("_loadingProvider"),i=this.getCardInstance(),e=i&&i.isA("sap.ui.integration.widgets.Card")?i.isLoading():false;return!t.isDataProviderJson()&&(t.getLoading()||e)};h.prototype._handleError=function(t){this.fireEvent("_error",{logMessage:t})};h.prototype._awaitEvent=function(t){this._aReadyPromises.push(new Promise(function(i){this.attachEventOnce(t,function(){i()})}.bind(this)))};h.prototype.setServiceManager=function(t){this._oServiceManager=t;return this};h.prototype.setDataProviderFactory=function(t){this._oDataProviderFactory=t;return this};h.prototype.getStaticConfiguration=function(){var t=e({},this._oConfiguration),i=c.getNestedPropertyValue(t,"/status/text/format"),a;if(i){a=c.getStatusTextBindingInfo(i)}if(a){t.status.text=a}return t};h.prototype._setDataConfiguration=function(t){var e=this.getCardInstance(),a="/",o;if(t&&t.path){a=s.resolveValue(t.path,this.getCardInstance())}this.bindObject(a);if(this._oDataProvider){this._oDataProvider.destroy()}this._oDataProvider=e.getDataProviderFactory().create(t,this._oServiceManager);this.getAggregation("_loadingProvider").setDataProvider(this._oDataProvider);if(t&&t.name){o=e.getModel(t.name)}else if(this._oDataProvider){o=new i;this.setModel(o)}if(this._oDataProvider){this._oDataProvider.attachDataRequested(function(){this.showLoadingPlaceholders()}.bind(this));this._oDataProvider.attachDataChanged(function(t){o.setData(t.getParameter("data"));this.onDataRequestComplete()}.bind(this));this._oDataProvider.attachError(function(t){this._handleError(t.getParameter("message"));this.onDataRequestComplete()}.bind(this));this._oDataProvider.triggerDataUpdate()}else{this.fireEvent("_dataReady")}};h.prototype.refreshData=function(){if(this._oDataProvider){this._oDataProvider.triggerDataUpdate()}};h.prototype.showLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(true)};h.prototype.hideLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(false)};h.prototype.onDataRequestComplete=function(){var t=this.getCardInstance();if(t){t._fireDataChange()}this.fireEvent("_dataReady");this.hideLoadingPlaceholders()};h.prototype.getCardInstance=function(){return t.byId(this.getCard())};return h});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/ListContent", ["./BaseListContent","./ListContentRenderer","sap/ui/util/openWindow","sap/ui/core/ResizeHandler","sap/m/library","sap/m/List","sap/m/ObjectStatus","sap/ui/integration/library","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/ui/integration/controls/Microchart","sap/ui/integration/controls/MicrochartLegend","sap/ui/integration/controls/ListContentItem","sap/ui/integration/controls/ActionsStrip"],function(t,i,e,n,r,o,s,a,c,h,p,l,d,u){"use strict";var g=r.AvatarSize;var f=r.AvatarColor;var m=r.ListType;var _=r.ListSeparators;var y=a.CardActionArea;var v=r.EmptyIndicatorMode;var I="_legendColorsLoad";var b=t.extend("sap.ui.integration.cards.ListContent",{metadata:{library:"sap.ui.integration",aggregations:{_legend:{multiple:false,visibility:"hidden"}}},renderer:i});b.prototype.init=function(){t.prototype.init.apply(this,arguments);var i=this._getList();var e=this;this.setAggregation("_content",i);i.attachUpdateFinished(function(){if(e._iVisibleItems){var t=i.getItems();for(var n=e._iVisibleItems+1;n<t.length;n++){t[n].setVisible(false)}}})};b.prototype.exit=function(){t.prototype.exit.apply(this,arguments);if(this._oItemTemplate){this._oItemTemplate.destroy();this._oItemTemplate=null}if(this._iMicrochartsResizeHandler){n.deregister(this._iMicrochartsResizeHandler);this._iMicrochartsResizeHandler=undefined}};b.prototype.onAfterRendering=function(){this._resizeMicrocharts()};b.prototype.loadDependencies=function(t){if(!this.isSkeleton()&&t.get("/sap.card/content/item/chart")){return p.loadDependencies()}return Promise.resolve()};b.prototype.setConfiguration=function(i){t.prototype.setConfiguration.apply(this,arguments);i=this.getParsedConfiguration();if(!i){return this}if(i.items){this._setStaticItems(i.items);return this}if(i.item){this._setItem(i)}return this};b.prototype.getStaticConfiguration=function(){var t=this.getInnerList().getItems(),i=this.getParsedConfiguration(),e=t[0]&&t[0].isA("sap.m.GroupHeaderListItem"),n=[],r=[],o;t.forEach(function(t){if(t.isA("sap.m.GroupHeaderListItem")){if(o){r.push(o)}n=[];o={title:t.getTitle(),items:n}}else{n.push(h.resolveValue(i.item,this,t.getBindingContext().getPath()))}}.bind(this));if(o){r.push(o)}var s={};if(e){s.groups=r}else{s.groups=[{items:n}]}return s};b.prototype.onDataChanged=function(){this._handleNoItemsError(this.getParsedConfiguration().item);this._checkHiddenNavigationItems(this.getParsedConfiguration().item)};b.prototype._getList=function(){if(this._bIsBeingDestroyed){return null}if(!this._oList){this._oList=new o({id:this.getId()+"-list",growing:false,showNoData:false})}return this._oList};b.prototype._setItem=function(t){var i=t.item,e=this._getList(),n=this.isSkeleton(),r={iconDensityAware:false,title:i.title&&(i.title.value||i.title),description:i.description&&(i.description.value||i.description),highlight:i.highlight,info:i.info&&i.info.value,infoState:i.info&&i.info.state,attributes:[]};if(i.icon){r.icon=c.formattedProperty(i.icon.src,function(t){return this._oIconFormatter.formatSrc(t)}.bind(this));r.iconAlt=i.icon.alt;r.iconDisplayShape=i.icon.shape;r.iconInitials=i.icon.initials||i.icon.text;r.iconVisible=i.icon.visible;if(r.title&&r.description){r.iconSize=g.S}else{r.iconSize=g.XS}r.iconSize=i.icon.size||r.iconSize;r.iconBackgroundColor=i.icon.backgroundColor||(r.iconInitials?undefined:f.Transparent)}if(i.attributesLayoutType){r.attributesLayoutType=i.attributesLayoutType}if(i.attributes){i.attributes.forEach(function(t){r.attributes.push(new s({text:t.value,state:t.state,emptyIndicatorMode:v.On,visible:t.visible}))})}if(!n){if(i.chart){r.microchart=this._createChartAndAddLegend(i.chart)}if(i.actionsStrip){r.actionsStrip=u.create(this.getCardInstance(),i.actionsStrip);e.setShowSeparators(_.All)}else{e.setShowSeparators(_.None)}}this._oItemTemplate=new d(r);this._oActions.attach({area:y.ContentItem,actions:i.actions,control:this,actionControl:this._oItemTemplate,enabledPropertyName:"type",enabledPropertyValue:m.Active,disabledPropertyValue:m.Inactive});var o=t.group;if(o){this._oSorter=this._getGroupSorter(o)}var a={template:this._oItemTemplate,sorter:this._oSorter};this._bindAggregationToControl("items",e,a)};b.prototype._createChartAndAddLegend=function(t){var i=p.create(t);this.destroyAggregation("_legend");if(t.type==="StackedBar"){var e=new l({chart:i.getChart(),colorsLoad:function(){this.fireEvent(I)}.bind(this)});e.initItemsTitles(t.bars,this.getBindingContext().getPath());this.setAggregation("_legend",e);this.awaitEvent(I)}return i};b.prototype._resizeMicrocharts=function(){var t=this.$().find(".sapUiIntMicrochartChart"),i=Number.MAX_VALUE;if(t.length===0){return}t.each(function(t,e){i=Math.min(i,e.offsetWidth)});t.find(".sapUiIntMicrochartChartInner").css("max-width",i+"px");if(!this._iMicrochartsResizeHandler){this._iMicrochartsResizeHandler=n.register(this,this._resizeMicrocharts.bind(this))}};b.prototype._setStaticItems=function(t){var i=this._getList();t.forEach(function(t){var n=new d({iconDensityAware:false,title:t.title?t.title:"",description:t.description?t.description:"",icon:t.icon?t.icon:"",infoState:t.infoState?t.infoState:"None",info:t.info?t.info:"",highlight:t.highlight?t.highlight:"None"});if(t.action){n.setType("Navigation");if(t.action.url){n.attachPress(function(){e(t.action.url,t.target||"_blank")})}}i.addItem(n)});this.fireEvent("_actionContentReady")};b.prototype.getInnerList=function(){return this._getList()};return b});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/ListContentRenderer", ["./BaseContentRenderer","../library"],function(t,e){"use strict";var i=e.AttributesLayoutType;var n=t.extend("sap.ui.integration.cards.ListContentRenderer",{apiVersion:2});n.renderContent=function(t,e){t.renderControl(e.getAggregation("_content"));if(e.getAggregation("_legend")){t.renderControl(e.getAggregation("_legend"))}};n.getMinHeight=function(t,e,i){var n=i.getContentPageSize(t),r;if(!t||!t.item||!n){return this.DEFAULT_MIN_HEIGHT}r=this.getItemMinHeight(t,e);return n*r+"rem"};n.getItemMinHeight=function(t,e){if(!t||!t.item){return 0}var n=this.isCompact(e),r=t.item,o=n?1:1.125,a=n?1:1.625,g;if(r.icon&&!r.description){a=n?0:.75;o=2}if(r.description){a=2;o+=n?2:1.875}if(r.attributes){a=2.25;g=r.attributes.length/2;if(r.attributesLayoutType===i.OneColumn){g=r.attributes.length}g=Math.ceil(g);o+=g*1.5}if(r.chart){o+=1}if(r.actionsStrip){a=1;o+=n?3:3.75}o+=a;return o};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/NumericHeader", ["sap/ui/core/Core","sap/base/util/extend","sap/f/cards/NumericHeader","sap/f/cards/NumericHeaderRenderer","sap/f/cards/NumericSideIndicator","sap/ui/model/json/JSONModel","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/LoadingProvider"],function(t,e,i,a,r,o,s,n){"use strict";var d=i.extend("sap.ui.integration.cards.NumericHeader",{constructor:function(t,a){t=t||{};var o={title:t.title,titleMaxLines:t.titleMaxLines,subtitle:t.subTitle,subtitleMaxLines:t.subTitleMaxLines,dataTimestamp:t.dataTimestamp,visible:t.visible};if(t.status&&t.status.text&&!t.status.text.format){o.statusText=t.status.text}e(o,{unitOfMeasurement:t.unitOfMeasurement,details:t.details,detailsMaxLines:t.detailsMaxLines,sideIndicatorsAlignment:t.sideIndicatorsAlignment});if(t.mainIndicator){o.number=t.mainIndicator.number;o.scale=t.mainIndicator.unit;o.trend=t.mainIndicator.trend;o.state=t.mainIndicator.state}if(t.sideIndicators){o.sideIndicators=t.sideIndicators.map(function(t){return new r(t)})}o.toolbar=a;i.call(this,o)},metadata:{library:"sap.ui.integration",properties:{interactive:{type:"boolean",defaultValue:false}},aggregations:{_loadingProvider:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}},renderer:a});d.prototype.init=function(){i.prototype.init.call(this);this._bReady=false;this.setAggregation("_loadingProvider",new n);this._aReadyPromises=[];this._awaitEvent("_dataReady");Promise.all(this._aReadyPromises).then(function(){this._bReady=true;this.fireEvent("_ready")}.bind(this))};d.prototype.exit=function(){i.prototype.exit.call(this);this._oServiceManager=null;this._oDataProviderFactory=null;if(this._oDataProvider){this._oDataProvider.destroy();this._oDataProvider=null}if(this._oActions){this._oActions.destroy();this._oActions=null}};d.prototype._isInteractive=function(){return this.getInteractive()};d.prototype.isReady=function(){return this._bReady};d.prototype.isLoading=function(){var t=this.getAggregation("_loadingProvider"),e=this.getCardInstance(),i=e&&e.isA("sap.ui.integration.widgets.Card")?e.isLoading():false;return!t.isDataProviderJson()&&(t.getLoading()||i)};d.prototype._awaitEvent=function(t){this._aReadyPromises.push(new Promise(function(e){this.attachEventOnce(t,function(){e()})}.bind(this)))};d.prototype.setServiceManager=function(t){this._oServiceManager=t;return this};d.prototype.setDataProviderFactory=function(t){this._oDataProviderFactory=t;return this};d.prototype._setDataConfiguration=function(t){var e=this.getCardInstance(),i="/",a;if(t&&t.path){i=s.resolveValue(t.path,this.getCardInstance())}this.bindObject(i);if(this._oDataProvider){this._oDataProvider.destroy()}this._oDataProvider=e.getDataProviderFactory().create(t,this._oServiceManager);this.getAggregation("_loadingProvider").setDataProvider(this._oDataProvider);if(t&&t.name){a=e.getModel(t.name)}else if(this._oDataProvider){a=new o;this.setModel(a)}if(this._oDataProvider){this._oDataProvider.attachDataRequested(function(){this.showLoadingPlaceholders()}.bind(this));this._oDataProvider.attachDataChanged(function(t){a.setData(t.getParameter("data"));this.onDataRequestComplete()}.bind(this));this._oDataProvider.attachError(function(t){this._handleError(t.getParameter("message"));this.onDataRequestComplete()}.bind(this));this._oDataProvider.triggerDataUpdate()}else{this.fireEvent("_dataReady")}};d.prototype._handleError=function(t){this.fireEvent("_error",{logMessage:t})};d.prototype.refreshData=function(){if(this._oDataProvider){this._oDataProvider.triggerDataUpdate()}};d.prototype.showLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(true)};d.prototype.hideLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(false)};d.prototype.onDataRequestComplete=function(){this.fireEvent("_dataReady");this.hideLoadingPlaceholders()};d.prototype.getCardInstance=function(){return t.byId(this.getCard())};return d});
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/integration/cards/ObjectContent", ["./BaseContent","./ObjectContentRenderer","sap/ui/integration/library","sap/m/library","sap/m/FlexItemData","sap/m/HBox","sap/m/VBox","sap/m/Text","sap/m/Avatar","sap/m/Link","sap/m/Label","sap/m/ObjectStatus","sap/m/ComboBox","sap/m/TextArea","sap/base/Log","sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/base/util/merge","sap/base/util/deepExtend","sap/ui/core/ResizeHandler","sap/ui/layout/AlignedFlowLayout","sap/ui/dom/units/Rem","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/Utils","sap/ui/integration/util/Forms","sap/f/AvatarGroup","sap/f/AvatarGroupItem","sap/f/cards/NumericIndicators","sap/f/cards/NumericSideIndicator","sap/f/library","sap/m/OverflowToolbar","sap/m/OverflowToolbarButton","sap/ui/core/ListItem"],function(e,t,a,i,r,n,o,s,l,p,u,d,c,f,h,m,g,v,b,y,C,I,_,w,S,x,A,F,B,G,E,O,P,L){"use strict";var j=i.AvatarSize;var T=i.AvatarColor;var V=i.ButtonType;var D=i.FlexRendertype;var R=i.FlexJustifyContent;var z=a.CardActionArea;var k=E.AvatarGroupType;var M=i.ToolbarStyle;var U=e.extend("sap.ui.integration.cards.ObjectContent",{metadata:{library:"sap.ui.integration"},renderer:t});U.prototype.exit=function(){e.prototype.exit.apply(this,arguments);delete this._aValidationControls;if(this._sResizeListenerId){y.deregister(this._sResizeListenerId);this._sResizeListenerId=""}};U.prototype.onDataChanged=function(){if(!this._hasData()){this.getParent()._handleError("No items available",true)}this._validateInputFields(false)};U.prototype.validateControls=function(){this._validateInputFields(true)};U.prototype._validationControlChanged=function(e){x.validateControl(e.getSource(),this.getCardInstance(),true)};U.prototype._validateInputFields=function(e){(this._aValidationControls||[]).forEach(function(t){x.validateControl(t,this.getCardInstance(),e)}.bind(this))};U.prototype._prepareValidationControl=function(e,t,a,i){var r=b({},t);e.attachEvent(a,this._validationControlChanged.bind(this));this._aValidationControls.push(e);if(r.validations){r.validations.forEach(function(e,t){if(e.pattern){e.pattern=this.getCardInstance().getManifestEntry(i+"/validations/"+t)["pattern"]}}.bind(this))}e._oItem=r};U.prototype._hasData=function(){var e=this.getConfiguration();if(!e.hasOwnProperty("hasData")){return true}var t=w.resolveValue(e.hasData,this,this.getBindingContext().getPath());if(Array.isArray(t)&&!t.length||g(t)&&m(t)){return false}return!!t};U.prototype.setConfiguration=function(t){e.prototype.setConfiguration.apply(this,arguments);t=this.getParsedConfiguration();if(!t){return this}this._aValidationControls=[];if(t.groups){this._addGroups(t)}return this};U.prototype.getStaticConfiguration=function(){var e=this.getParsedConfiguration(),t;if(!this.getBindingContext()){return e}else{t=this.getBindingContext().getPath()}if(e.groups){e.groups.forEach(function(e){var a=[];if(e.items){e.items.forEach(function(e){var i=t+e.path,r=this._resolveGroupItem(e,i);a.push(r)}.bind(this))}e.items=a}.bind(this))}return e};U.prototype._resolveGroupItem=function(e,t){var a={},i=[];if(e.type==="ButtonGroup"||e.type==="IconGroup"){var r=e.template,n=this.getModel().getProperty(t);n.forEach(function(e,a){var n=w.resolveValue(r,this,t+"/"+a+"/");i.push(n)}.bind(this));a=v({},e);a.items=i;delete a.path;delete a.template;return a}else{return e}};U.prototype._getRootContainer=function(){var e=this.getAggregation("_content");if(!e){e=new o({renderType:D.Bare});this.setAggregation("_content",e);this._sResizeListenerId=y.register(e,this._onResize.bind(this))}return e};U.prototype._addGroups=function(e){var t=this._getRootContainer(),a,i=true,n=e.groups||[];this._formElementsIds=new Set;n.forEach(function(e,o){var s=this._createGroup(e,"/sap.card/content/groups/"+o);if(e.alignment==="Stretch"){s.setLayoutData(new r({growFactor:1}));t.addItem(s);i=true}else{if(i){a=this._createAFLayout();t.addItem(a);i=false}a.addContent(s)}if(o===n.length-1){s.addStyleClass("sapFCardObjectGroupLastInColumn")}},this);this._oActions.attach({area:z.Content,actions:e.actions,control:this})};U.prototype._createGroup=function(e,t){var a;if(typeof e.visible=="string"){a=!S.hasFalsyValueAsString(e.visible)}else{a=e.visible}var i=new o({visible:a,renderType:D.Bare}).addStyleClass("sapFCardObjectGroup");if(e.title){i.addItem(new s({text:e.title,maxLines:e.titleMaxLines||1}).addStyleClass("sapFCardObjectItemTitle sapMTitle sapMTitleStyleAuto"));i.addStyleClass("sapFCardObjectGroupWithTitle")}e.items.forEach(function(a,r){a.labelWrapping=e.labelWrapping;this._createGroupItems(a,t+"/items/"+r).forEach(i.addItem,i)},this);return i};U.prototype._createGroupItems=function(e,t){var a=e.label,i,r,s;if(typeof e.visible=="string"){r=!S.hasFalsyValueAsString(e.visible)}else{r=e.visible}if(a){a=_.formattedProperty(a,function(e){return e&&(e[e.length-1]===":"?e:e+":")});i=new u({text:a,visible:r,wrapping:e.labelWrapping}).addStyleClass("sapFCardObjectItemLabel");i.addEventDelegate({onBeforeRendering:function(){i.setVisible(i.getVisible()&&!!i.getText())}})}s=this._createItem(e,r,i,t);if(s){s.addStyleClass("sapFCardObjectItemValue")}if(e.icon){var l=new o({renderType:D.Bare,justifyContent:R.Center,items:[i,s]}).addStyleClass("sapFCardObjectItemPairContainer");var p=new n({visible:r,renderType:D.Bare,items:[this._createGroupItemAvatar(e.icon),l]}).addStyleClass("sapFCardObjectItemLabel");return[p]}else{return[i,s]}};U.prototype._createGroupItemAvatar=function(e){var t=_.formattedProperty(e.src,function(e){return this._oIconFormatter.formatSrc(e)}.bind(this));var a=e.initials||e.text;var i=new l({displaySize:e.size||j.XS,src:t,initials:a,displayShape:e.shape,tooltip:e.alt,backgroundColor:e.backgroundColor||(a?undefined:T.Transparent),visible:e.visible}).addStyleClass("sapFCardObjectItemAvatar sapFCardIcon");return i};U.prototype._createItem=function(e,t,a,i){var r,n=e.value,o=e.tooltip,s;switch(e.type){case"NumericData":r=this._createNumericDataItem(e,t);break;case"Status":r=this._createStatusItem(e,t);break;case"IconGroup":r=this._createIconGroupItem(e,t);break;case"ButtonGroup":r=this._createButtonGroupItem(e,t);break;case"ComboBox":r=this._createComboBoxItem(e,t,a,i);break;case"TextArea":r=this._createTextAreaItem(e,t,a,i);break;case"link":h.warning("Usage of Object Group Item property 'type' with value 'link' is deprecated. Use Card Actions for navigation instead.",null,"sap.ui.integration.widgets.Card");r=new p({href:e.url||n,text:n,tooltip:o,target:e.target||"_blank",visible:_.reuse(t)});break;case"email":h.warning("Usage of Object Group Item property 'type' with value 'email' is deprecated. Use Card Actions for navigation instead.",null,"sap.ui.integration.widgets.Card");var l=[];if(e.value){l.push(e.value)}if(e.emailSubject){l.push(e.emailSubject)}s=_.formattedProperty(l,function(e,t){if(t){return"mailto:"+e+"?subject="+t}else{return"mailto:"+e}});r=new p({href:s,text:n,tooltip:o,visible:_.reuse(t)});break;case"phone":h.warning("Usage of Object Group Item property 'type' with value 'phone' is deprecated. Use Card Actions for navigation instead.",null,"sap.ui.integration.widgets.Card");s=_.formattedProperty(n,function(e){return"tel:"+e});r=new p({href:s,text:n,tooltip:o,visible:_.reuse(t)});break;default:r=this._createTextItem(e,t,a)}return r};U.prototype._createNumericDataItem=function(e,t){var a=new o({visible:_.reuse(t)});var i=new B({number:e.mainIndicator.number,numberSize:e.mainIndicator.size,scale:e.mainIndicator.unit,trend:e.mainIndicator.trend,state:e.mainIndicator.state}).addStyleClass("sapUiIntOCNumericIndicators");a.addItem(i);if(e.sideIndicators){e.sideIndicators.forEach(function(e){i.addSideIndicator(new G({title:e.title,number:e.number,unit:e.unit,state:e.state}))})}if(e.details){a.addItem(new s({text:e.details,maxLines:1}).addStyleClass("sapUiIntOCNumericIndicatorsDetails"))}return a};U.prototype._createStatusItem=function(e,t){var a=new d({text:e.value,visible:_.reuse(t),state:e.state});return a};U.prototype._createTextItem=function(e,t,a){var i=e.value,r=e.tooltip,o;if(i&&e.actions){o=new p({text:i,tooltip:r,visible:_.reuse(t)});if(a){o.addAriaLabelledBy(a)}else{h.warning("Missing label for Object group item with actions.",null,"sap.ui.integration.widgets.Card")}this._oActions.attach({area:z.ContentItemDetail,actions:e.actions,control:this,actionControl:o,enabledPropertyName:"enabled"});o=new n({renderType:D.Bare,items:o})}else if(i){o=new s({text:i,visible:_.reuse(t),maxLines:e.maxLines})}return o};U.prototype._createButtonGroupItem=function(e,t){var a=e.template;if(!a){return null}var i=new O({visible:_.reuse(t),style:M.Clear});i.addStyleClass("sapUiIntCardObjectButtonGroup");var r=new P({icon:_.formattedProperty(a.icon,function(e){return this._oIconFormatter.formatSrc(e)}.bind(this)),text:a.text||a.tooltip,tooltip:a.tooltip||a.text,type:V.Transparent,visible:a.visible});if(a.actions){r.attachPress(function(e){this._onButtonGroupPress(e,a.actions)}.bind(this))}i.bindAggregation("content",{path:e.path||"/",template:r,templateShareable:false});return i};U.prototype._onButtonGroupPress=function(e,t){var a=e.getSource();var i=w.resolveValue(t,a,a.getBindingContext().getPath());var r=i[0];this.getActions().fireAction(this,r.type,r.parameters)};U.prototype._createIconGroupItem=function(e,t){var a=e.template;if(!a){return null}var i=new A({avatarDisplaySize:e.size||j.XS,groupType:k.Individual,visible:_.reuse(t)});i._oShowMoreButton.setType(V.Transparent);i._oShowMoreButton.setEnabled(false);if(a.actions){i.attachPress(function(e){this._onIconGroupPress(e,a.actions)}.bind(this))}else{i._setInteractive(false)}var r=new F({src:_.formattedProperty(a.icon.src,function(e){return this._oIconFormatter.formatSrc(e)}.bind(this)),initials:a.icon.initials||a.icon.text,tooltip:a.icon.alt});i.bindAggregation("items",{path:e.path||"/",template:r,templateShareable:false});return i};U.prototype._onIconGroupPress=function(e,t){if(e.getParameter("overflowButtonPressed")){}else{var a=e.getParameter("eventSource");var i=w.resolveValue(t,a,a.getBindingContext().getPath());var r=i[0];this.getActions().fireAction(this,r.type,r.parameters)}};U.prototype._createComboBoxItem=function(e,t,a,i){var r=this.getCardInstance(),n=r.getModel("form"),o={visible:_.reuse(t),placeholder:e.placeholder,required:x.getRequiredValidationValue(e)},s,l,p;if(e.selectedKey){o.selectedKey=e.selectedKey}else if(e.value){o.value=e.value}s=new c(o);if(a){a.setLabelFor(s)}if(e.item){l=new L({key:e.item.template.key,text:e.item.template.title});s.bindItems({path:e.item.path||"/",template:l,templateShareable:false})}if(!e.id){h.error("Each input element must have an ID.","sap.ui.integration.widgets.Card");return s}else if(this._formElementsIds.has(e.id)){h.error("Duplicate form element ID - "+"'"+e.id+"'","sap.ui.integration.widgets.Card")}this._formElementsIds.add(e.id);p=function(){n.setProperty("/"+e.id,{key:s.getSelectedKey(),value:s.getValue()})};s.attachChange(p);s.addEventDelegate({onAfterRendering:p});this._prepareValidationControl(s,e,"change",i);return s};U.prototype._createTextAreaItem=function(e,t,a,i){var r=this.getCardInstance(),n=r.getModel("form"),o=new f({required:x.getRequiredValidationValue(e),value:e.value,visible:_.reuse(t),rows:e.rows,placeholder:e.placeholder}),s;if(a){a.setLabelFor(o)}if(!e.id){h.error("Each input element must have an ID.","sap.ui.integration.widgets.Card");return o}else if(this._formElementsIds.has(e.id)){h.error("Duplicate form element ID - "+"'"+e.id+"'","sap.ui.integration.widgets.Card")}this._formElementsIds.add(e.id);s=function(){n.setProperty("/"+e.id,o.getValue())};o.attachChange(s);o.addEventDelegate({onAfterRendering:s});this._prepareValidationControl(o,e,"liveChange",i);return o};U.prototype._createAFLayout=function(){var e=new C;e.addEventDelegate({onAfterRendering:function(){this.getContent().forEach(function(e){if(!e.getVisible()){document.getElementById("sap-ui-invisible-"+e.getId()).parentElement.classList.add("sapFCardInvisibleContent")}})}},e);return e};U.prototype._onResize=function(e){if(e.size.width===e.oldSize.width){return}var t=this._getRootContainer().getItems();t.forEach(function(a,i){if(a.isA("sap.ui.layout.AlignedFlowLayout")){this._onAlignedFlowLayoutResize(a,e,i===t.length-1)}}.bind(this))};U.prototype._onAlignedFlowLayoutResize=function(e,t,a){var i=e.getMinItemWidth(),r,n=e.getContent().filter(function(e){return e.getVisible()}).length;if(i.lastIndexOf("rem")!==-1){r=I.toPx(i)}else if(i.lastIndexOf("px")!==-1){r=parseFloat(i)}var o=Math.floor(t.size.width/r);if(o>n){o=n}var s=o-1,l=Math.ceil(n/o);e.getContent().forEach(function(e,t){e.addStyleClass("sapFCardObjectSpaceBetweenGroup");if(s===t&&s<n){e.removeStyleClass("sapFCardObjectSpaceBetweenGroup");s+=o}if(a&&t+1>(l-1)*o){e.addStyleClass("sapFCardObjectGroupLastInColumn")}else{e.removeStyleClass("sapFCardObjectGroupLastInColumn")}})};return U});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/ObjectContentRenderer", ["./BaseContentRenderer"],function(e){"use strict";var n=e.extend("sap.ui.integration.cards.ObjectContentRenderer",{apiVersion:2,MIN_OBJECT_CONTENT_HEIGHT:"3rem"});n.getMinHeight=function(e,t){return n.MIN_OBJECT_CONTENT_HEIGHT};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/TableContent", ["./BaseListContent","./TableContentRenderer","sap/ui/integration/library","sap/m/Table","sap/m/Column","sap/m/ColumnListItem","sap/m/Text","sap/m/Link","sap/m/ProgressIndicator","sap/m/ObjectIdentifier","sap/m/ObjectStatus","sap/m/Avatar","sap/ui/core/library","sap/m/library","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/BindingHelper","sap/base/Log"],function(t,e,i,r,n,a,o,s,l,c,d,u,p,h,g,f,m){"use strict";var v=h.AvatarSize;var y=h.AvatarColor;var C=p.VerticalAlign;var b=h.ListSeparators;var w=h.ListType;var A=i.CardActionArea;var I=t.extend("sap.ui.integration.cards.TableContent",{metadata:{library:"sap.ui.integration"},renderer:e});I.prototype.exit=function(){t.prototype.exit.apply(this,arguments);if(this._oItemTemplate){this._oItemTemplate.destroy();this._oItemTemplate=null}};I.prototype._getTable=function(){if(this._bIsBeingDestroyed){return null}var t=this.getAggregation("_content");if(!t){t=new r({id:this.getId()+"-Table",showSeparators:b.None});this.setAggregation("_content",t)}return t};I.prototype.setConfiguration=function(e){t.prototype.setConfiguration.apply(this,arguments);e=this.getParsedConfiguration();if(!e){return this}if(e.rows&&e.columns){this._setStaticColumns(e.rows,e.columns);return this}if(e.row&&e.row.columns){this._setColumns(e.row)}return this};I.prototype.getStaticConfiguration=function(){var t=this.getInnerList().getItems(),e=this.getParsedConfiguration(),i=t[0]&&t[0].isA("sap.m.GroupHeaderListItem"),r=[],n=[],a=[],o,s;(e.row.columns||[]).forEach(function(t){t=g.resolveValue(t,this,this.getBindingContext().getPath());r.push({title:t.title,width:t.width,hAlign:t.hAlign,visible:t.visible,identifier:t.identifier})}.bind(this));t.forEach(function(t){if(t.isA("sap.m.GroupHeaderListItem")){if(s){a.push(s)}n=[];s={title:t.getTitle(),rows:n}}else{o=g.resolveValue(e.row,this,t.getBindingContext().getPath());(o.columns||[]).forEach(function(t){delete t.title;delete t.width;delete t.hAlign;delete t.visible;delete t.identifier});n.push(o)}}.bind(this));if(s){a.push(s)}var l={headers:r};if(i){l.groups=a}else{l.groups=[{rows:n}]}return l};I.prototype.onDataChanged=function(){this._handleNoItemsError(this.getParsedConfiguration().row);this._checkHiddenNavigationItems(this.getParsedConfiguration().row)};I.prototype._setColumns=function(t){var e=[],i=this._getTable(),r=t.columns;r.forEach(function(t){i.addColumn(new n({header:new o({text:t.title}),width:t.width,hAlign:t.hAlign,visible:t.visible}));e.push(this._createCell(t))}.bind(this));this._oItemTemplate=new a({cells:e,vAlign:C.Middle});this._oActions.attach({area:A.ContentItem,actions:t.actions,control:this,actionControl:this._oItemTemplate,enabledPropertyName:"type",enabledPropertyValue:w.Active,disabledPropertyValue:w.Inactive});var s=this.getParsedConfiguration().group;if(s){this._oSorter=this._getGroupSorter(s)}var l={template:this._oItemTemplate,sorter:this._oSorter};this._bindAggregationToControl("items",i,l)};I.prototype._setStaticColumns=function(t,e){var i=this._getTable();e.forEach(function(t){i.addColumn(new n({header:new o({text:t.title}),width:t.width,hAlign:t.hAlign}))});t.forEach(function(t){var e=new a({vAlign:C.Middle});if(t.cells&&Array.isArray(t.cells)){for(var r=0;r<t.cells.length;r++){e.addCell(this._createCell(t.cells[r]))}}if(t.actions&&Array.isArray(t.actions)){this._oActions.attach({area:A.ContentItem,actions:t.actions,control:this,actionControl:e,enabledPropertyName:"type",enabledPropertyValue:w.Active,disabledPropertyValue:w.Inactive})}i.addItem(e)}.bind(this));this.fireEvent("_actionContentReady")};I.prototype._createCell=function(t){var e;if(t.identifier){if(typeof t.identifier=="object"){if(!g.isBindingInfo(t.identifier)){m.warning("Usage of object type for column property 'identifier' is deprecated.",null,"sap.ui.integration.widgets.Card")}if(t.identifier.url){t.actions=[{type:"Navigation",parameters:{url:t.identifier.url,target:t.identifier.target}}]}}e=new c({title:t.value});if(t.actions){e.setTitleActive(true);this._oActions.attach({area:A.ContentItemDetail,actions:t.actions,control:this,actionControl:e,enabledPropertyName:"titleActive",eventName:"titlePress"})}return e}if(t.url){m.warning("Usage of column property 'url' is deprecated. Use card actions for navigation.",null,"sap.ui.integration.widgets.Card");t.actions=[{type:"Navigation",parameters:{url:t.url,target:t.target}}]}if(t.actions){e=new s({text:t.value});this._oActions.attach({area:A.ContentItemDetail,actions:t.actions,control:this,actionControl:e,enabledPropertyName:"enabled"});return e}if(t.state){return new d({text:t.value,state:t.state})}if(t.value){return new o({text:t.value})}if(t.icon){var i=f.formattedProperty(t.icon.src,function(t){return this._oIconFormatter.formatSrc(t)}.bind(this));var r=t.icon.initials||t.icon.text;return new u({src:i,displayShape:t.icon.shape,displaySize:t.icon.size||v.XS,tooltip:t.icon.alt,initials:r,backgroundColor:t.icon.backgroundColor||(r?undefined:y.Transparent),visible:t.icon.visible}).addStyleClass("sapFCardIcon")}if(t.progressIndicator){return new l({percentValue:t.progressIndicator.percent,displayValue:t.progressIndicator.text,state:t.progressIndicator.state})}};I.prototype.getInnerList=function(){return this._getTable()};return I});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/TableContentRenderer", ["./BaseContentRenderer","../library"],function(e,t){"use strict";var n=e.extend("sap.ui.integration.cards.TableContentRenderer",{apiVersion:2});n.getMinHeight=function(e,t,n){var r=n.getContentPageSize(e);if(!r){return this.DEFAULT_MIN_HEIGHT}var i=this.isCompact(t),a=i?2:2.75,s=i?2:2.75;return r*a+s+"rem"};n.getItemMinHeight=function(e,t){if(!e||!e.row){return 0}var n=this.isCompact(t);return n?2:2.75};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/TimelineContent", ["./BaseListContent","./TimelineContentRenderer","sap/ui/integration/library","sap/ui/core/Core","sap/ui/integration/util/BindingHelper"],function(e,t,i,n,o){"use strict";var r=i.CardActionArea;var a,s;var m=e.extend("sap.ui.integration.cards.TimelineContent",{metadata:{library:"sap.ui.integration"},renderer:t});m.prototype.exit=function(){e.prototype.exit.apply(this,arguments);if(this._oTimeLineItemTemplate){this._oTimeLineItemTemplate.destroy();this._oTimeLineItemTemplate=null}};m.prototype.loadDependencies=function(e){return new Promise(function(e,t){n.loadLibrary("sap.suite.ui.commons",{async:true}).then(function(){sap.ui.require(["sap/suite/ui/commons/Timeline","sap/suite/ui/commons/TimelineItem"],function(t,i){a=t;s=i;e()},function(e){t(e)})}).catch(function(){t("Timeline content type is not available with this distribution.")})})};m.prototype._getTimeline=function(){var e=this.getAggregation("_content");if(this._bIsBeingDestroyed){return null}if(!e){e=new a({id:this.getId()+"-Timeline",showHeaderBar:false,enableScroll:false,growingThreshold:0});this.setAggregation("_content",e)}return e};m.prototype.setConfiguration=function(t){e.prototype.setConfiguration.apply(this,arguments);t=this.getParsedConfiguration();if(!t){return this}if(t.items){this._setStaticItems(t.items);return this}if(t.item){this._setItem(t.item)}return this};m.prototype.onDataChanged=function(){this._handleNoItemsError(this.getParsedConfiguration().item);this._checkHiddenNavigationItems(this.getParsedConfiguration().item)};m.prototype._setItem=function(e){var t={userNameClickable:false,title:e.title&&e.title.value,text:e.description&&e.description.value,dateTime:e.dateTime&&e.dateTime.value,userName:e.owner&&e.owner.value,icon:e.icon&&e.icon.src};if(e.ownerImage&&e.ownerImage.value){t.userPicture=o.formattedProperty(e.ownerImage.value,function(e){return this._oIconFormatter.formatSrc(e)}.bind(this))}this._oTimeLineItemTemplate=new s(t);this._oActions.attach({area:r.ContentItem,actions:e.actions,control:this,actionControl:this._oTimeLineItemTemplate,eventName:"select"});var i={template:this._oTimeLineItemTemplate};this._bindAggregationToControl("content",this._getTimeline(),i);return this};m.prototype._setStaticItems=function(e){var t=this._getTimeline(),i;e.forEach(function(e){i=new s({title:e.title,text:e.description,userPicture:e.ownerImage,dateTime:e.dateTime,userName:e.owner,icon:e.icon});t.addContent(i)})};m.prototype.getInnerList=function(){return this._getTimeline()};return m});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/TimelineContentRenderer", ["./BaseContentRenderer"],function(e){"use strict";var t=e.extend("sap.ui.integration.cards.TimelineContentRenderer",{apiVersion:2});t.getMinHeight=function(e,t,n){var i=n.getContentPageSize(e);if(!i){return this.DEFAULT_MIN_HEIGHT}var r=this.getItemMinHeight(e,t);return i*r+"rem"};t.getItemMinHeight=function(e,t){if(!e||!e.item){return 0}return e.item.ownerImage?7:5.625};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/WebPageContent", ["./BaseContent","./WebPageContentRenderer","sap/ui/core/Core","sap/ui/integration/util/BindingHelper"],function(e,t,i,r){"use strict";var o="_frameLoaded";var n=15*1e3;var a=i.getLibraryResourceBundle("sap.ui.integration");var s=e.extend("sap.ui.integration.cards.WebPageContent",{metadata:{properties:{minHeight:{type:"sap.ui.core.CSSSize",defaultValue:t.MIN_WEB_PAGE_CONTENT_HEIGHT,bindable:true},src:{type:"sap.ui.core.URI",defaultValue:"",bindable:true},sandbox:{type:"string",defaultValue:"",bindable:true}},library:"sap.ui.integration"},renderer:t});s.prototype.init=function(){e.prototype.init.apply(this,arguments);this._onFrameLoadedBound=this._onFrameLoaded.bind(this);this._sPrevSrc=this.getSrc()};s.prototype.exit=function(){e.prototype.exit.apply(this,arguments);if(this._iLoadTimeout){clearTimeout(this._iLoadTimeout)}};s.prototype.onBeforeRendering=function(){e.prototype.onBeforeRendering.apply(this,arguments);if(this.getDomRef()){this.getDomRef("frame").removeEventListener("load",this._onFrameLoadedBound)}};s.prototype.onAfterRendering=function(){e.prototype.onAfterRendering.apply(this,arguments);this.getDomRef("frame").addEventListener("load",this._onFrameLoadedBound);this._checkSrc()};s.prototype.setConfiguration=function(t){e.prototype.setConfiguration.apply(this,arguments);t=this.getParsedConfiguration();this.fireEvent("_actionContentReady");if(!t){return this}var i=r.formattedProperty(t.src,function(e){return this._oIconFormatter.formatSrc(e)}.bind(this));if(i){this.bindSrc(i)}if(typeof t.sandbox==="object"){this.bindSandbox(r.reuse(t.sandbox))}else{this.setSandbox(t.sandbox)}if(typeof t.minHeight==="object"){this.bindMinHeight(r.reuse(t.minHeight))}else{this.setMinHeight(t.minHeight)}return this};s.prototype._checkSrc=function(){var e=this.getSrc();if(e===""){this.handleError("Src of WebPage content is empty",a.getText("CARD_WEB_PAGE_EMPTY_URL_ERROR"));return}if(!e.startsWith("https://")){this.handleError("Please use a secure URL (https://)",a.getText("CARD_WEB_PAGE_HTTPS_URL_ERROR"));return}if(this._sPrevSrc!==e){this._raceFrameLoad();this._sPrevSrc=e}};s.prototype._raceFrameLoad=function(){this.awaitEvent(o);this._iLoadTimeout=setTimeout(function(){var e=n/1e3;this.handleError("Failed to load '"+this.getSrc()+"' after "+e+" seconds.",a.getText("CARD_WEB_PAGE_TIMEOUT_ERROR",[e]))}.bind(this),n)};s.prototype._onFrameLoaded=function(){this.fireEvent(o);clearTimeout(this._iLoadTimeout)};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/WebPageContentRenderer", ["./BaseContentRenderer","sap/ui/integration/util/BindingResolver"],function(e,t){"use strict";var n="2px";var i=e.extend("sap.ui.integration.cards.WebPageContentRenderer",{apiVersion:2,MIN_WEB_PAGE_CONTENT_HEIGHT:"150px"});i.renderContent=function(e,t){e.openStart("iframe",t.getId()+"-frame").class("sapUiIntWPCFrame");e.style("height","calc("+t.getMinHeight()+" - "+n+")").attr("src",t.getSrc()).attr("tabindex","0").attr("sandbox",t.getSandbox()).openEnd().close("iframe")};i.getMinHeight=function(e,n){if(e.minHeight){return t.resolveValue(e.minHeight,n)}return i.MIN_WEB_PAGE_CONTENT_HEIGHT};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/actions/BaseAction", ["sap/ui/base/ManagedObject","sap/ui/core/Core","sap/ui/integration/util/BindingResolver"],function(e,t,i){"use strict";var n=e.extend("sap.ui.integration.cards.actions.BaseAction",{metadata:{library:"sap.ui.integration",properties:{config:{type:"object"},parameters:{type:"object"},actionHandler:{type:"object"}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false},source:{type:"sap.ui.base.EventProvider",multiple:false}}}});n.prototype.execute=function(){};n.prototype.getResolvedConfig=function(){var e=this.getSourceInstance(),t=e.getBindingContext(),n;if(t){n=e.getBindingContext().getPath()}return i.resolveValue(this.getConfig(),e,n)};n.prototype.getCardInstance=function(){return t.byId(this.getCard())};n.prototype.getSourceInstance=function(){return t.byId(this.getSource())};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/actions/CardActions", ["sap/ui/integration/library","sap/base/Log","sap/ui/base/ManagedObject","sap/ui/integration/cards/actions/CustomAction","sap/ui/integration/cards/actions/DateChangeAction","sap/ui/integration/cards/actions/MonthChangeAction","sap/ui/integration/cards/actions/SubmitAction","sap/ui/integration/cards/actions/NavigationAction","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/base/strings/capitalize","sap/base/util/deepClone","sap/ui/integration/cards/actions/ShowCardAction","sap/ui/integration/cards/actions/HideCardAction"],function(e,t,n,a,i,r,o,s,c,l,d,u,f,p){"use strict";function g(e){if(e&&typeof e==="object"){return e.name}return e}var h=e.CardActionArea,v=e.CardActionType;var b=n.extend("sap.ui.integration.cards.actions.CardActions",{metadata:{library:"sap.ui.integration",properties:{card:{type:"object"},bindingPathResolver:{type:"function"}}}});b.prototype.attach=function(e){var t=e.control,n=e.area;e.actionControl=e.actionControl||e.control;e.enabledPropertyValue=e.enabledPropertyValue!==undefined?e.enabledPropertyValue:true;e.disabledPropertyValue=e.disabledPropertyValue||false;e.eventName=e.eventName||"press";if(!e.actions){this._fireActionReady(t,n);return}var a=e.actions[0];if(a&&a.type){e.action=a;this._attachAction(e)}else{this._fireActionReady(t,n)}};b.prototype._attachAction=function(e){var t=e.action,n=e.area,a=e.control,i=e.enabledPropertyName,r=true,o=this._isSingleAction(n),s=true;if(i){r=false;if(t.service&&!o){this._setControlEnabledStateUsingService(e)}else{this._setControlEnabledState(e)}}if(t.service&&o){this._getSingleActionEnabledState(t,a).then(function(t){if(t){this._attachEventListener(e)}this._fireActionReady(a,n)}.bind(this));return}if(r){s=t.enabled!==false&&t.enabled!=="false"}if(s){this._attachEventListener(e)}this._fireActionReady(a,n)};b.prototype._setControlEnabledStateUsingService=function(e){var t=e.action,a=e.control,i=e.actionControl,r=e.enabledPropertyName,o=e.enabledPropertyValue,s=e.disabledPropertyValue,c=n.bindingParser("{path:''}");c.formatter=function(e){var n=this.getBindingContext(),i,r;if(n){i=n.getPath()}r=l.resolveValue(t.parameters,a,i);if(e.__resolved){if(!e.__enabled||e.__enabled==="false"){return s}return o}if(!e.__promise){e.__promise=true;a._oServiceManager.getService(g(t.service)).then(function(t){if(t){t.enabled({parameters:r}).then(function(t){e.__resolved=true;e.__enabled=t;a.getModel().checkUpdate(true)}).catch(function(){e.__resolved=true;e.__enabled=false})}else{e.__resolved=true;e.__enabled=false}})}return s};i.bindProperty(r,c)};b.prototype._setControlEnabledState=function(e){var t=e.action,n=e.actionControl,a=e.enabledPropertyName,i=e.enabledPropertyValue,r=e.disabledPropertyValue,o,s;if(typeof t.enabled==="object"){o=c.formattedProperty(t.enabled,function(e){if(!e||e==="false"){return r}return i})}if(o){n.bindProperty(a,o)}else{s=t.enabled===false||t.enabled==="false"?r:i;n.setProperty(a,s)}};b.prototype._getSingleActionEnabledState=function(e,t){var n=t.getBindingContext(),a,i;if(n){i=n.getPath()}a=l.resolveValue(e.parameters,t,i);return new Promise(function(n){t._oServiceManager.getService(g(e.service)).then(function(e){if(e){e.enabled({parameters:a}).then(function(e){n(e)}).catch(function(){n(false)})}else{n(false)}}).catch(function(){n(false)})})};b.prototype._fireActionReady=function(e,t){var n=t===h.Header;var a=n?"_actionHeaderReady":"_actionContentReady";e.fireEvent(a)};b.prototype._resolveBindingPath=function(e){var t=e.getSource().getBindingContext(),n;if(this.getBindingPathResolver()){n=this.getBindingPathResolver()(e)}else if(t){n=t.getPath()}return n};b.prototype._handleServiceAction=function(e,n,a){var i=e.getSource();var r=this._resolveBindingPath(e);a._oServiceManager.getService(g(n.service)).then(function(e){if(e){e.navigate({parameters:l.resolveValue(n.parameters,i,r)})}}).catch(function(e){t.error("Navigation service unavailable",e)}).finally(function(){this._processAction(i,n,r)}.bind(this))};b.prototype._attachEventListener=function(e){var t=e.action;e.actionControl["attach"+d(e.eventName)](function(n){var a=n.getSource();if(t.service){this._handleServiceAction(n,t,e.control)}else{this._processAction(a,t,this._resolveBindingPath(n))}}.bind(this))};b.prototype._processAction=function(e,t,n){var a=this._getHostInstance(),i=this.getCard();b.fireAction({card:i,host:a,action:t,parameters:l.resolveValue(t.parameters,e,n),source:e})};b.prototype._getHostInstance=function(){var e=this.getCard();if(e){return e.getHostInstance()}return null};b.prototype.fireAction=function(e,t,n){b.fireAction({card:this.getCard(),host:this._getHostInstance(),action:{type:t},parameters:n,source:e})};b.fireAction=function(e){var t=e.host,n=e.card,a=n.getAggregation("_extension"),i=e.action.type,r=u(e.parameters,100)||{},o={type:i,card:n,actionSource:e.source},s,c;if(i===v.Submit){r.data=n.getModel("form").getData()}o.parameters=r;s=Object.assign({},o,{manifestParameters:r});c=n.fireAction(s);if(!c){return false}if(t){c=t.fireAction(o)}if(!c){return false}if(a){c=a.fireAction(o)}if(c){var l=b._createHandler(e);if(l){l.execute();l.destroy()}}return c};b.prototype._isSingleAction=function(e){return[h.Header,h.Content,h.ContentItemDetail,h.ActionsStrip].indexOf(e)>-1};b._createHandler=function(e){var n=null;switch(e.action.type){case v.Custom:n=a;break;case v.DateChange:n=i;break;case v.HideCard:n=p;break;case v.MonthChange:n=r;break;case v.Navigation:n=s;break;case v.ShowCard:n=f;break;case v.Submit:n=o;break;default:t.error("Unknown action type '"+e.action.type+"'. Expected one of "+Object.values(v).join(", "),null,"sap.ui.integration.widgets.Card")}if(n){return new n({config:e.action,parameters:e.parameters,actionHandler:e.card.getManifestEntry("/sap.card/configuration/actionHandlers/"+e.action.type.toLowerCase()),card:e.card,source:e.source})}return null};return b});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/actions/CustomAction", ["./BaseAction"],function(t){"use strict";var i=t.extend("sap.ui.integration.cards.actions.CustomAction",{metadata:{library:"sap.ui.integration"}});i.prototype.execute=function(){var t=this.getConfig();if(typeof t.action==="function"){t.action(this.getCardInstance(),this.getSourceInstance())}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/actions/DateChangeAction", ["./BaseAction"],function(a){"use strict";var t=a.extend("sap.ui.integration.cards.actions.DateChangeAction",{metadata:{library:"sap.ui.integration"}});return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/actions/HideCardAction", ["./BaseAction","sap/m/Dialog"],function(t,e){"use strict";var a=t.extend("sap.ui.integration.cards.actions.HideCardAction",{metadata:{library:"sap.ui.integration"}});a.prototype.execute=function(){var t=this.getCardInstance(),a=t.getParent(),n=t.getHostInstance();if(n&&n.onHideCard){n.onHideCard(t);return}if(a instanceof e){a.close();a.attachAfterClose(function(){t.destroy()})}else{t.destroy()}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/actions/MonthChangeAction", ["./BaseAction"],function(t){"use strict";var a=t.extend("sap.ui.integration.cards.actions.MonthChangeAction",{metadata:{library:"sap.ui.integration"}});return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/actions/NavigationAction", ["./BaseAction","sap/ui/util/openWindow"],function(t,e){"use strict";var i=t.extend("sap.ui.integration.cards.actions.NavigationAction",{metadata:{library:"sap.ui.integration"}});i.prototype.execute=function(){var t=this.getResolvedConfig();if(t.service){return}var e=this.getParameters(),i,n,r,a;if(e){r=e.url;a=e.target}i=t.url||r;n=t.target||a||"_blank";if(i){this._openUrl(i,n)}};i.prototype._openUrl=function(t,i){e(t,i)};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/actions/ShowCardAction", ["./BaseAction","sap/m/Dialog","sap/ui/core/Core","sap/ui/dom/jquery/Focusable"],function(e,t,a){"use strict";var o=e.extend("sap.ui.integration.cards.actions.ShowCardAction",{metadata:{library:"sap.ui.integration"}});o.prototype.execute=function(){var e=this.getParameters()||{},t=this.getCardInstance(),o=t.getHostInstance(),i;if(e._cardId){i=a.byId(e._cardId)}else{i=t._createChildCard(e)}if(o&&o.onShowCard){o.onShowCard(i,e);return}this._openDialog(i,t)};o.prototype._openDialog=function(e,a){var o=new t({content:[e],showHeader:false,ariaLabelledBy:e.getId(),escapeHandler:function(t){e.hide();t.resolve()}});o.addStyleClass("sapUiIntCardDialog");a.addDependent(o);e.startManifestProcessing();e.attachManifestApplied(function(){o.open()});e.attachEvent("_ready",function(){setTimeout(function(){this._setFocus(e,o)}.bind(this),0)}.bind(this));o.attachAfterClose(function(){o.destroy()})};o.prototype._setFocus=function(e,t){var a=e.getAggregation("_filter"),o=e.getAggregation("_content"),i=e.getAggregation("_footer"),n;n=a&&a.$().firstFocusableDomRef()||o&&o.$().firstFocusableDomRef()||i&&i.$().firstFocusableDomRef();if(n){t.setInitialFocus(n.id);n.focus()}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/actions/SubmitAction", ["./BaseAction","sap/base/Log","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/Utils"],function(t,e,n,i,a){"use strict";var r=t.extend("sap.ui.integration.cards.actions.SubmitAction",{metadata:{library:"sap.ui.integration"}});r.prototype.execute=function(){var t=this.getCardInstance(),n=this.getActionHandler();if(!t.validateControls()){return}if(!n){return}var i=this.getCardInstance()._oDataProviderFactory,a=t.getModel("form").getData();this._onActionSubmitStart(a);var r=i.create({request:this._createRequest(n,a)},undefined,undefined,true);r.getData().then(function(t){this._onActionSubmitEnd(t,null)}.bind(this),function(t){e.error(t);this._onActionSubmitEnd(null,{error:t})}.bind(this)).finally(function(){i.remove(r)})};r.prototype._onActionSubmitStart=function(t){var e=this.getSourceInstance();if(e.isA("sap.ui.integration.cards.BaseContent")){e.onActionSubmitStart(t)}};r.prototype._onActionSubmitEnd=function(t,e){var n=this.getSourceInstance();if(n.isA("sap.ui.integration.cards.BaseContent")){n.onActionSubmitEnd(t,e)}};r.prototype._createRequest=function(t,e){var r={mode:t.mode||"cors",url:t.url,method:t.method||"POST",parameters:t.parameters||e,headers:t.headers,xhrFields:{withCredentials:!!t.withCredentials}};r=i.resolveValue(n.createBindingInfos(r,this.getCardInstance().getBindingNamespaces()),this.getSourceInstance());a.makeUndefinedValuesNull(r.parameters);return r};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/adaptivecards/elements/UI5InputChoiceSet", ["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites"],function(e,t){"use strict";function i(){e.ChoiceSetInput.apply(this,arguments)}i.prototype=Object.create(e.ChoiceSetInput.prototype);i.prototype.overrideInternalRender=function(){var i=e.TextInput.prototype.overrideInternalRender.call(this,arguments);t.overwriteLabel(this);t.overwriteRequired(this);return i};i.prototype.internalRender=function(){if(!this.isMultiSelect){if(this.isCompact){this._selectElement=document.createElement("ui5-select");this._selectElement.id=this.id;this._selectElement.addEventListener("change",function(){this.valueChanged()}.bind(this));for(var e=0;e<this.choices.length;e++){var t=document.createElement("ui5-option");t.value=this.choices[e].value;t.innerHTML=this.choices[e].title;if(this.choices[e].value===this.defaultValue){t.selected=true}this._selectElement.appendChild(t)}return this._selectElement}var i=document.createElement("div");i.classList.add("sapFCardAdaptiveContentChoiceSetWrapper");i.id=this.id;i.setAttribute("role","radiogroup");i.addEventListener("change",function(){this.valueChanged()}.bind(this));this._toggleInputs=[];for(var n=0;n<this.choices.length;n++){var s=document.createElement("ui5-radio-button");s.value=this.choices[n].value;s.text=this.choices[n].title;s.name=this.id;s.wrappingType=this.wrap?"Normal":"None";if(this.choices[n].value===this.defaultValue){s.checked=true}this._toggleInputs.push(s);i.appendChild(s)}return i}var r=this.defaultValue?this.defaultValue.split(","):null;var l=document.createElement("div");l.classList.add("sapFCardAdaptiveContentChoiceSetWrapper");l.setAttribute("role","group");l.id=this.id;l.addEventListener("change",function(){this.valueChanged()}.bind(this));this._toggleInputs=[];for(var a=0;a<this.choices.length;a++){var o=document.createElement("ui5-checkbox");o.value=this.choices[a].value;o.text=this.choices[a].title;o.name=this.id;o.wrappingType=this.wrap?"Normal":"None";if(r&&r.indexOf(this.choices[a].value)>=0){o.checked=true}this._toggleInputs.push(o);l.appendChild(o)}return l};Object.defineProperty(i.prototype,"value",{get:function e(){var t;if(!this.isMultiSelect){if(this.isCompact){return this._selectElement.selectedOption?this._selectElement.selectedOption.value:null}else{if(!this._toggleInputs||this._toggleInputs.length===0){return null}for(t=0;t<this._toggleInputs.length;t++){if(this._toggleInputs[t].checked){return this._toggleInputs[t].value}}return null}}else{if(!this._toggleInputs||this._toggleInputs.length===0){return null}var i="";for(t=0;t<this._toggleInputs.length;t++){if(this._toggleInputs[t].checked){if(i!==""){i+=this.hostConfig.choiceSetInputValueSeparator}i+=this._toggleInputs[t].value}}return i===""?null:i}}});i.prototype.updateInputControlAriaLabelledBy=function(){var e=!this.isMultiSelect&&this.isCompact?"accessible-name-ref":"aria-labelledby";t.overwriteAriaLabelling(this,e)};i.prototype.showValidationErrorMessage=function(){if(!this._toggleInputs||!this._toggleInputs.length){return}this._toggleInputs.forEach(function(e){e.valueState="Error"})};i.prototype.resetValidationFailureCue=function(){e.TextInput.prototype.resetValidationFailureCue.call(this,arguments);if(!this._toggleInputs||!this._toggleInputs.length){return}this._toggleInputs.forEach(function(e){e.valueState="None"})};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/adaptivecards/elements/UI5InputDate", ["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites"],function(t,e){"use strict";function n(){t.DateInput.apply(this,arguments)}n.prototype=Object.create(t.DateInput.prototype);n.prototype.overrideInternalRender=function(){var n=t.TextInput.prototype.overrideInternalRender.call(this,arguments);e.overwriteLabel(this);e.overwriteRequired(this);return n};n.prototype.internalRender=function(){this._dateInputElement=document.createElement("ui5-date-picker");this._dateInputElement.id=this.id;this._dateInputElement.placeholder=this.placeholder;this._dateInputElement.formatPattern="yyyy-MM-dd";this._dateInputElement.value=this.defaultValue||"";this._dateInputElement.minDate=this.min||"";this._dateInputElement.maxDate=this.max||"";e.createValueStateElement(this,this._dateInputElement);this._dateInputElement.addEventListener("input",function(){this.valueChanged()}.bind(this));return this._dateInputElement};n.prototype.updateInputControlAriaLabelledBy=function(){e.overwriteAriaLabelling(this,"accessible-name-ref")};n.prototype.showValidationErrorMessage=function(){if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="Error"}};n.prototype.resetValidationFailureCue=function(){t.TextInput.prototype.resetValidationFailureCue.call(this,arguments);if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="None"}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/adaptivecards/elements/UI5InputNumber", ["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites"],function(e,t){"use strict";function n(){e.NumberInput.apply(this,arguments)}n.prototype=Object.create(e.NumberInput.prototype);n.prototype.overrideInternalRender=function(){var n=e.TextInput.prototype.overrideInternalRender.call(this,arguments);t.overwriteLabel(this);t.overwriteRequired(this);return n};n.prototype.internalRender=function(){this._numberInputElement=document.createElement("ui5-step-input");this._numberInputElement.id=this.id;this._numberInputElement.placeholder=this.placeholder||"";this._numberInputElement.value=this.defaultValue||"";this._numberInputElement.min=this.min;this._numberInputElement.max=this.max;this._numberInputElement.style.width="13.125rem";t.createValueStateElement(this,this._numberInputElement);this._numberInputElement.addEventListener("input",function(e){this.valueChanged()}.bind(this));return this._numberInputElement};Object.defineProperty(n.prototype,"value",{get:function(){return this._numberInputElement?this._numberInputElement.value:undefined}});n.prototype.updateInputControlAriaLabelledBy=function(){t.overwriteAriaLabelling(this,"accessible-name-ref")};n.prototype.showValidationErrorMessage=function(){if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="Error"}};n.prototype.resetValidationFailureCue=function(){e.TextInput.prototype.resetValidationFailureCue.call(this,arguments);if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="None"}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/adaptivecards/elements/UI5InputText", ["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites"],function(e,t){"use strict";function r(){e.TextInput.apply(this,arguments)}r.prototype=Object.create(e.TextInput.prototype);r.prototype.overrideInternalRender=function(){var r=e.TextInput.prototype.overrideInternalRender.call(this,arguments);t.overwriteLabel(this);t.overwriteRequired(this);return r};r.prototype.internalRender=function(){if(this.isMultiline){var e=document.createElement("ui5-textarea");e.id=this.id;e.placeholder=this.placeholder||"";e.value=this.defaultValue||"";e.maxlength=this.maxLength||null;t.createValueStateElement(this,e);e.addEventListener("input",function(){this.valueChanged()}.bind(this));return e}var r=document.createElement("ui5-input");switch(this.style){case 1:r.type="Tel";break;case 2:r.type="URL";break;case 3:r.type="Email";break;default:r.type="Text"}r.id=this.id;r.placeholder=this.placeholder||"";r.value=this.defaultValue||"";r.maxlength=this.maxLength||null;t.createValueStateElement(this,r);r.addEventListener("input",function(){this.valueChanged()}.bind(this));return r};r.prototype.updateInputControlAriaLabelledBy=function(){t.overwriteAriaLabelling(this,"accessible-name-ref")};r.prototype.showValidationErrorMessage=function(){if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="Error"}};r.prototype.resetValidationFailureCue=function(){e.TextInput.prototype.resetValidationFailureCue.call(this,arguments);if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="None"}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/adaptivecards/elements/UI5InputTime", ["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites"],function(e,t){"use strict";function n(){e.TimeInput.apply(this,arguments)}var i="HH:mm";n.prototype=Object.create(e.TimeInput.prototype);n.prototype.overrideInternalRender=function(){var n=e.TextInput.prototype.overrideInternalRender.call(this,arguments);t.overwriteLabel(this);t.overwriteRequired(this);return n};n.prototype.internalRender=function(){var e="ui5-time-picker";this._timeInputElement=document.createElement(e);this._timeInputElement.id=this.id;this._timeInputElement.value=this.defaultValue||"";this._timeInputElement.formatPattern=i;t.createValueStateElement(this,this._timeInputElement);this._timeInputElement.addEventListener("input",function(e){this.valueChanged()}.bind(this));return this._timeInputElement};n.prototype.updateInputControlAriaLabelledBy=function(){t.overwriteAriaLabelling(this,"aria-labelledby")};n.prototype.showValidationErrorMessage=function(){if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="Error"}};n.prototype.resetValidationFailureCue=function(){e.TextInput.prototype.resetValidationFailureCue.call(this,arguments);if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="None"}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/adaptivecards/elements/UI5InputToggle", ["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites"],function(e,t){"use strict";function n(){e.ToggleInput.apply(this,arguments)}n.prototype=Object.create(e.ToggleInput.prototype);n.prototype.overrideInternalRender=function(){var n=e.TextInput.prototype.overrideInternalRender.call(this,arguments);t.overwriteLabel(this);t.overwriteRequired(this);return n};n.prototype.internalRender=function(){this._checkboxInputElement=document.createElement("ui5-checkbox");this._checkboxInputElement.id=this.id;this._checkboxInputElement.text=this.title||"";this._checkboxInputElement.wrappingType=this.wrap?"Normal":"None";this._checkboxInputElement.checked=false;if(this.defaultValue===this.valueOn){this._checkboxInputElement.checked=true}this._checkboxInputElement.addEventListener("change",function(){this.valueChanged()}.bind(this));return this._checkboxInputElement};n.prototype.updateInputControlAriaLabelledBy=function(){t.overwriteAriaLabelling(this,"aria-labelledby")};n.prototype.showValidationErrorMessage=function(){if(this._checkboxInputElement){this._checkboxInputElement.valueState="Error"}};n.prototype.resetValidationFailureCue=function(){e.TextInput.prototype.resetValidationFailureCue.call(this,arguments);if(this._checkboxInputElement){this._checkboxInputElement.valueState="None"}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/adaptivecards/elements/hostConfig", ["sap/ui/core/theming/Parameters"],function(e){"use strict";return function(){return{spacing:{small:8,default:16,medium:32,large:48,extraLarge:48,padding:16},separator:{lineThickness:1,lineColor:e.get("sapUiToolbarSeparatorColor")},supportsInteractivity:true,fontTypes:{default:{fontFamily:e.get("sapUiFontFamily"),fontSizes:{small:12,default:14,medium:14,large:16,extraLarge:20}},monospace:{}},containerStyles:{default:{backgroundColor:"transparent",foregroundColors:{default:{default:e.get("sapUiBaseText"),subtle:e.get("sapUiContentLabelColor")},accent:{default:e.get("sapUiInformativeText")},attention:{default:e.get("sapUiNegativeText")},good:{default:e.get("sapUiPositiveText")},warning:{default:e.get("sapUiCriticalText")}}},emphasis:{backgroundColor:e.get("sapTile_Background"),foregroundColors:{default:{default:e.get("sapUiBaseText")},accent:{default:e.get("sapUiInformativeText")},attention:{default:e.get("sapUiNegativeText")},good:{default:e.get("sapUiPositiveText")},warning:{default:e.get("sapUiCriticalText")}}},accent:{backgroundColor:e.get("sapUiInformationBG"),foregroundColors:{default:{default:e.get("sapUiBaseText")},accent:{default:e.get("sapUiInformativeText")},attention:{default:e.get("sapUiNegativeText")},good:{default:e.get("sapUiPositiveText")},warning:{default:e.get("sapUiCriticalText")}}},good:{backgroundColor:e.get("sapUiSuccessBG"),foregroundColors:{default:{default:e.get("sapUiBaseText")},accent:{default:e.get("sapUiInformativeText")},attention:{default:e.get("sapUiNegativeText")},good:{default:e.get("sapUiPositiveText")},warning:{default:e.get("sapUiCriticalText")}}},attention:{backgroundColor:e.get("sapUiErrorBG"),foregroundColors:{default:{default:e.get("sapUiBaseText")},accent:{default:e.get("sapUiInformativeText")},attention:{default:e.get("sapUiNegativeText")},good:{default:e.get("sapUiPositiveText")},warning:{default:e.get("sapUiCriticalText")}}},warning:{backgroundColor:e.get("sapUiWarningBG"),foregroundColors:{default:{default:e.get("sapUiBaseText")},accent:{default:e.get("sapUiInformativeText")},attention:{default:e.get("sapUiNegativeText")},good:{default:e.get("sapUiPositiveText")},warning:{default:e.get("sapUiCriticalText")}}}}}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/adaptivecards/overwrites/ActionRender", ["sap/ui/integration/thirdparty/adaptivecards"],function(t){"use strict";return function(e){if(e===0){e="ac-pushButton"}var i=this.parent.hostConfig;var s=document.createElement("ui5-button");this.addCssClasses(s);s.setAttribute("aria-label",this.title);s.type="button";s.style.display="flex";s.style.alignItems="center";s.style.justifyContent="center";var n=this.style;if(n==="positive"){s.setAttribute("design","Positive")}else if(n==="destructive"){s.setAttribute("design","Negative")}var l=this.title;var a=document.createElement("div");a.style.overflow="hidden";a.style.textOverflow="ellipsis";if(!(i.actions.iconPlacement===t.ActionIconPlacement.AboveTitle||i.actions.allowTitleToWrap)){a.style.whiteSpace="nowrap"}if(l){a.innerText=this.title}if(!this.iconUrl){s.classList.add("noIcon");s.appendChild(a)}else{var o=document.createElement("img");o.src=this.iconUrl;o.style.width=i.actions.iconSize+"px";o.style.height=i.actions.iconSize+"px";o.style.flex="0 0 auto";if(i.actions.iconPlacement===t.ActionIconPlacement.AboveTitle){s.classList.add("iconAbove");s.style.flexDirection="column";if(l){o.style.marginBottom="4px"}}else{s.classList.add("iconLeft");if(l){o.style.marginRight="4px"}}s.appendChild(o);s.appendChild(a)}this._renderedElement=s}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites", ["sap/ui/core/InvisibleText","sap/ui/core/Core"],function(e,r){"use strict";var t={};t.overwriteRequired=function(t){var n=t._renderedInputControlElement.getAttribute("role");if(n==="radiogroup"){return}t.renderedInputControlElement.removeAttribute("aria-required");if(!n){t.renderedInputControlElement.required=t.isRequired;return}if(n==="group"&&t.isRequired){var i=new e({id:t._renderedInputControlElement.id+"-InvisibleText",text:r.getLibraryResourceBundle("sap.ui.integration").getText("ADAPTIVE_CARDS_REQUIRED_FIELD")}).toStatic().getId();t.renderedInputControlElement.setAttribute("aria-describedby",i)}};t.overwriteLabel=function(e){if(!e._renderedLabelElement){return}var r=document.createElement("ui5-label");r.id=e._renderedLabelElement.id;r.innerText=e.label;r.for=e._renderedInputControlElement.id;r.required=e.isRequired;r.style.marginBottom=e.hostConfig.getEffectiveSpacing(e.hostConfig.inputs.label.inputSpacing)+"px";e._renderedLabelElement.remove();e._renderedLabelElement=r;e._outerContainerElement.insertBefore(e._renderedLabelElement,e.inputControlContainerElement)};t.overwriteAriaLabelling=function(e,r){if(!e._renderedInputControlElement){return}if(e._renderedLabelElement){e._renderedInputControlElement.setAttribute(r,e._renderedLabelElement.id)}else{e._renderedInputControlElement.removeAttribute(r)}};t.createValueStateElement=function(e,r){if(!e.errorMessage){return}var t=document.createElement("div");t.setAttribute("slot","valueStateMessage");t.innerText=e.errorMessage;r.appendChild(t)};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/filters/BaseFilter", ["sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/InvisibleText","sap/base/Log","sap/ui/core/Icon","sap/m/HBox","sap/m/Text","sap/ui/integration/model/ObservableModel","sap/ui/integration/util/LoadingProvider"],function(t,e,a,i,r,o,n,s,d){"use strict";var l=t.extend("sap.ui.integration.cards.filters.BaseFilter",{metadata:{abstract:true,library:"sap.ui.integration",properties:{key:{type:"string",defaultValue:""},config:{type:"object",defaultValue:"null"},value:{type:"object",defaultValue:null}},aggregations:{_loadingProvider:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"},_label:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}},renderer:{apiVersion:2,render:function(t,e){var a=e.isLoading();t.openStart("div",e).class("sapFCardFilter");if(a){t.class("sapFCardFilterLoading")}t.openEnd();if(e._hasError()){t.renderControl(e._getErrorMessage())}else{t.renderControl(e.getField())}t.close("div")}}});l.prototype.init=function(){this.setAggregation("_loadingProvider",new d);this.attachEventOnce("_dataReady",function(){this.fireEvent("_ready")})};l.prototype.exit=function(){if(this._oDataProvider){this._oDataProvider.destroy();this._oDataProvider=null}};l.prototype.isLoading=function(){var t=this.getAggregation("_loadingProvider");return!t.isDataProviderJson()&&t.getLoading()};l.prototype.getField=function(){return null};l.prototype.createLabel=function(t){if(t.label){this.setAggregation("_label",new a({text:t.label}).toStatic());return this.getAggregation("_label")}return null};l.prototype.showLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(true)};l.prototype.hideLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(false)};l.prototype.onDataChanged=function(){};l.prototype.setValueFromOutside=function(t){};l.prototype.getValueForModel=function(){};l.prototype.refreshData=function(){if(this._oDataProvider){this._oDataProvider.triggerDataUpdate()}};l.prototype.getCardInstance=function(){return e.byId(this.getCard())};l.prototype._hasError=function(){return!!this._bError};l.prototype._getErrorMessage=function(){var t=e.getLibraryResourceBundle("sap.ui.integration").getText("CARD_FILTER_DATA_LOAD_ERROR");return new o({justifyContent:"Center",alignItems:"Center",items:[new r({src:"sap-icon://message-error",size:"1rem"}).addStyleClass("sapUiTinyMargin"),new n({text:t})]})};l.prototype._handleError=function(t){i.error(t);this._bError=true;this.invalidate()};l.prototype._onDataRequestComplete=function(){this.fireEvent("_dataReady");this.hideLoadingPlaceholders()};l.prototype._setDataConfiguration=function(t){var e=this.getCardInstance(),a;if(!t){this.fireEvent("_dataReady");return}if(this._oDataProvider){this._oDataProvider.destroy()}this._oDataProvider=e.getDataProviderFactory().create(t,null,true);this.getAggregation("_loadingProvider").setDataProvider(this._oDataProvider);if(t.name){a=e.getModel(t.name)}else if(this._oDataProvider){a=new s;this.setModel(a)}a.attachEvent("change",function(){this.onDataChanged()}.bind(this));this._oDataProvider.attachDataRequested(function(){this.showLoadingPlaceholders()}.bind(this));this._oDataProvider.attachDataChanged(function(t){a.setData(t.getParameter("data"));this._onDataRequestComplete()}.bind(this));this._oDataProvider.attachError(function(t){this._handleError(t.getParameter("message"));this._onDataRequestComplete()}.bind(this));this._oDataProvider.triggerDataUpdate()};l.prototype._syncValue=function(){var t=this.getValueForModel(),e=this.getCardInstance(),a={},i;this.setValue(t);if(e){i="/sap.card/configuration/filters/"+this.getKey()+"/value";a[i]=t.value;e._fireConfigurationChange(a);e.resetPaginator()}};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/filters/DateRangeFilter", ["./BaseFilter","sap/base/Log","sap/ui/core/library","sap/m/DynamicDateRange","sap/m/DynamicDateUtil","sap/ui/integration/util/BindingResolver"],function(t,e,a,r,n,i){"use strict";var o=a.ValueState;var s=new Date(-864e13);var u=new Date("1753-01-01");var l=new Date(864e13);var g=new Date("9999-12-31");var p={DATE:"date",TODAY:"today",YESTERDAY:"yesterday",TOMORROW:"tomorrow",DATERANGE:"dateRange",FROM:"from",TO:"to",YEARTODATE:"yearToDate",LASTDAYS:"lastDays",LASTWEEKS:"lastWeeks",LASTMONTHS:"lastMonths",LASTQUARTERS:"lastQuarters",LASTYEARS:"lastYears",NEXTDAYS:"nextDays",NEXTWEEKS:"nextWeeks",NEXTMONTHS:"nextMonths",NEXTQUARTERS:"nextQuarters",NEXTYEARS:"nextYears",TODAYFROMTO:"todayFromTo",THISWEEK:"thisWeek",LASTWEEK:"lastWeek",NEXTWEEK:"nextWeek",SPECIFICMONTH:"specificMonth",THISMONTH:"thisMonth",LASTMONTH:"lastMonth",NEXTMONTH:"nextMonth",THISQUARTER:"thisQuarter",LASTQUARTER:"lastQuarter",NEXTQUARTER:"nextQuarter",QUARTER1:"quarter1",QUARTER2:"quarter2",QUARTER3:"quarter3",QUARTER4:"quarter4",THISYEAR:"thisYear",LASTYEAR:"lastYear",NEXTYEAR:"nextYear"};function T(t){return p[t]}var S=t.extend("sap.ui.integration.cards.filters.DateRangeFilter",{metadata:{library:"sap.ui.integration",aggregations:{_ddr:{type:"sap.m.DynamicDateRange",multiple:false,visibility:"hidden"}}},renderer:{apiVersion:2}});S.prototype.getField=function(){return this._getDdr()};S.prototype.setValueFromOutside=function(t){e.error("Setting a filter value programatically on a DateRangeFilter is currently unsupported.",null,"sap.ui.integration.widgets.Card")};S.prototype.getValueForModel=function(){var t=this._getDdr().getValue();var e;var a;var r;if(t){e={option:T(t.operator),values:t.values.slice()};var i=n.toDates(t),o=i[0].getJSDate?i[0].getJSDate():i[0],p=t.operator==="TO"||t.operator==="FROM"?0:1,S=i[p]&&i[p].getJSDate?i[p].getJSDate():i[p];a={start:o.toISOString(),end:S.toISOString()};r={start:o.toISOString(),end:S.toISOString()};if(t.operator==="TO"){a.start=s.toISOString();r.start=u.toISOString()}if(t.operator==="FROM"){a.end=l.toISOString();r.end=g.toISOString()}}return{value:e,range:a,rangeOData:r}};S.prototype._getDdr=function(){var t=this.getAggregation("_ddr");if(!t){t=this._createDdr();this.setAggregation("_ddr",t)}return t};S.prototype._createDdr=function(){var t=Object.assign({},this.getConfig());var e;if(t.value){t.value=i.resolveValue(t.value,this.getCardInstance());var a=t.value.option.toUpperCase();var s=n.getOption(a).getValueTypes();e={operator:a,values:t.value.values.map(function(t,e){if(s[e]==="date"){return new Date(t)}return t})}}t.options=t.options||this._getDefaultOptions();t.options=t.options.map(function(t){return t.toUpperCase()});var u=new r({value:e,options:t.options}).addStyleClass("sapFCardDateRangeField");u.attachChange(function(t){if(t.getParameter("valid")){u.setValueState(o.None);this._syncValue()}else{u.setValueState(o.Error)}}.bind(this));var l=this.createLabel(t);if(l){u.addAriaLabelledBy(l)}return u};S.prototype._getDefaultOptions=function(){return["date","today","dateRange","from","to","lastDays","nextDays","lastWeeks","nextWeeks"]};S.prototype.getOptions=function(){return p};return S});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/filters/FilterBar", ["sap/ui/core/Control"],function(e){"use strict";var t=e.extend("sap.ui.integration.cards.filters.FilterBar",{metadata:{library:"sap.ui.integration",properties:{},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t).class("sapFCardFilterBar").openEnd();e.renderControl(t.getContent());e.close("div")}}});t.prototype.showLoadingPlaceholders=function(){this._getFilters().forEach(function(e){e.showLoadingPlaceholders()})};t.prototype.hideLoadingPlaceholders=function(){this._getFilters().forEach(function(e){e.hideLoadingPlaceholders()})};t.prototype.refreshData=function(){this._getFilters().forEach(function(e){e.refreshData()})};t.prototype._getFilters=function(){var e=this.getContent();return e.getItems?e.getItems():e.getContent()};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/filters/FilterBarFactory", ["./FilterBar","./SearchFilter","./SelectFilter","./DateRangeFilter","sap/ui/base/Object","sap/m/library","sap/m/HBox","sap/ui/layout/AlignedFlowLayout"],function(e,t,a,r,n,i,s,l){"use strict";var o=i.FlexWrap;var u=i.FlexRendertype;var c=n.extend("sap.ui.integration.util.FilterBarFactory",{metadata:{library:"sap.ui.integration"},constructor:function(e){n.call(this);this._oCard=e}});c.prototype.create=function(t,a){var r=[],n=[],i,c,d,p,f=null;for(c in t){i=t[c];f=this._getClass(i.type);d=new f({card:this._oCard,key:c,config:i,value:{model:"filters",path:"/"+c}});a.setProperty("/"+c,d.getValueForModel());this._awaitEvent(n,d,"_ready");d._setDataConfiguration(i.data);r.push(d)}if(!r.length){return null}if(r.length>1){p=new l({content:r,minItemWidth:"10rem",maxItemWidth:"20rem"});r.forEach(function(e){e.getField().setWidth("100%")});p.addStyleClass("sapFCardFilterBarAFLayout")}else{p=new s({wrap:o.Wrap,renderType:u.Bare,items:r})}p.addStyleClass("sapFCardFilterBarContent");var h=new e({content:p});Promise.all(n).then(function(){h.fireEvent("_filterBarDataReady")});return h};c.prototype._awaitEvent=function(e,t,a){e.push(new Promise(function(e){t.attachEventOnce(a,function(){e()})}))};c.prototype._getClass=function(e){e=e||"select";switch(e.toLowerCase()){case"string":case"integer":case"select":return a;case"daterange":return r;case"search":return t;default:return undefined}};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/filters/SearchFilter", ["./BaseFilter","sap/m/SearchField"],function(e,t){"use strict";var i=e.extend("sap.ui.integration.cards.filters.SearchFilter",{metadata:{library:"sap.ui.integration",aggregations:{_searchField:{type:"sap.m.SearchField",multiple:false,visibility:"hidden"}}},renderer:{apiVersion:2}});i.prototype.getField=function(){return this._getSearchField()};i.prototype.setValueFromOutside=function(e){this._getSearchField().setValue(e);this._syncValue()};i.prototype.getValueForModel=function(){return{value:this._escapeDoubleQuotes(this._getSearchField().getValue())}};i.prototype._getSearchField=function(){var e=this.getAggregation("_searchField");if(!e){e=this._createSearchField();this.setAggregation("_searchField",e)}return e};i.prototype._createSearchField=function(){var e=this.getConfig();var i=new t({value:e.value,placeholder:e.placeholder});var a=this.createLabel(e);if(a){i.addAriaLabelledBy(a)}i.attachChange(function(){this._syncValue()}.bind(this));return i};i.prototype._escapeDoubleQuotes=function(e){return e.replaceAll('"','\\"')};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/cards/filters/SelectFilter", ["./BaseFilter","sap/m/Select","sap/ui/core/ListItem","sap/ui/model/json/JSONModel","sap/ui/integration/util/BindingResolver","sap/base/util/merge"],function(e,t,i,a,l,r){"use strict";var s=e.extend("sap.ui.integration.cards.filters.SelectFilter",{metadata:{library:"sap.ui.integration",aggregations:{_select:{type:"sap.m.Select",multiple:false,visibility:"hidden"}}},renderer:{apiVersion:2}});s.prototype.exit=function(){e.prototype.exit.apply(this,arguments);if(this._oItemTemplate){this._oItemTemplate.destroy()}};s.prototype.getField=function(){return this._getSelect()};s.prototype.onDataChanged=function(){var e=this._getSelect();e.setSelectedKey(this.getValue().value)};s.prototype.getValueForModel=function(){var e=this._getSelect().getSelectedItem();if(e){return{value:e.getKey(),selectedItem:{title:e.getText(),key:e.getKey()}}}return{value:this._getSelect().getSelectedKey()}};s.prototype.setValueFromOutside=function(e){this._getSelect().setSelectedKey(l.resolveValue(e,this.getCardInstance()));this._syncValue()};s.prototype.getStaticConfiguration=function(){var e=this.getConfig();var t="/";var i;var a=[];var s;if(e.item&&e.item.path){t=e.item.path}i=this.getModel().getProperty(t);if(e.item&&e.item.template){s=e.item.template;a=i.map(function(e,i){var a=t==="/"?t+i:t+"/"+i;return l.resolveValue(s,this,a)}.bind(this))}else{a=i}a=a.map(function(e){return{key:e.key&&e.key.toString(),title:e.title&&e.title.toString()}});var n=r({},e);delete n.item;n.items=a;n.value=this.getValueForModel().value;return n};s.prototype._getSelect=function(){var e=this.getAggregation("_select");if(!e){e=this._createSelect();this.setAggregation("_select",e)}return e};s.prototype._createSelect=function(){var e=new t,r,s,n="/",o=this.getConfig(),p=this.createLabel(o);e.attachChange(function(e){this._syncValue()}.bind(this));if(o&&o.item){n=o.item.path||n}if(o&&o.item&&o.item.template){r=o.item.template.key;s=o.item.template.title}if(o&&o.items){r="{key}";s="{title}";this.setModel(new a(o.items))}this._oItemTemplate=new i({key:r,text:s});e.bindItems({path:n,template:this._oItemTemplate});e.setSelectedKey(l.resolveValue(o.value,this.getCardInstance()));if(p){e.addAriaLabelledBy(p)}return e};return s});
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/integration/controls/ActionsStrip", ["../library","sap/m/library","sap/ui/core/Core","sap/ui/core/Control","sap/ui/integration/cards/actions/CardActions","sap/ui/integration/util/BindingHelper","sap/m/Button","sap/ui/integration/controls/LinkWithIcon","sap/m/OverflowToolbarButton","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/m/ToolbarSpacer"],function(t,e,o,a,i,n,r,s,l,p,u,c){"use strict";var b=e.ToolbarStyle;var d=t.CardActionArea;var f=a.extend("sap.ui.integration.controls.ActionsStrip",{metadata:{library:"sap.ui.integration",properties:{disableItemsInitially:{type:"boolean",defaultValue:false}},aggregations:{_toolbar:{type:"sap.m.OverflowToolbar",multiple:false}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e).class("sapUiIntActionsStrip").openEnd();t.renderControl(e._getToolbar());t.close("div")}}});f.prototype._getToolbar=function(){var t=this.getAggregation("_toolbar");if(!t){t=new p({style:b.Clear});this.setAggregation("_toolbar",t)}return t};f.prototype._initButtons=function(t){if(!t||!t.length){return null}var e=this._getToolbar(),a=o.byId(this.getCard()),r=new i({card:a}),s=false,l;this._oActions=r;t=n.createBindingInfos(t,a.getBindingNamespaces());t.forEach(function(t){if(t.type==="ToolbarSpacer"){s=true;e.addContent(new c);return}var o=t.actions,a=new u({group:t.overflowGroup,priority:t.overflowPriority}),i;switch(t.type){case"Link":i=this._createLink(t);break;case"Button":default:i=this._createButton(t);break}i.setLayoutData(a);l={area:d.ActionsStrip,control:i,actions:o,enabledPropertyName:"enabled"};if(this.getDisableItemsInitially()){l.enabledPropertyValue=false;i._mActionsConfig=l;i._bIsDisabled=true}r.attach(l);e.addContent(i)}.bind(this));if(!s){e.insertContent(new c,0)}};f.prototype.disableItems=function(){var t=this._getToolbar().getContent();t.forEach(function(t){if(t.setEnabled&&!t._bIsDisabled){t.setEnabled(false);t._bIsDisabled=true}})};f.prototype.enableItems=function(){var t=this._getToolbar().getContent(),e=this._oActions,o;t.forEach(function(t){if(t.setEnabled&&t._bIsDisabled){o=t._mActionsConfig;if(o.action){o.enabledPropertyValue=true;e._setControlEnabledState(o)}else{t.setEnabled(true)}delete t._bIsDisabled}})};f.prototype._createLink=function(t){var e=new s({icon:t.icon,text:t.text,tooltip:t.tooltip,ariaHasPopup:t.ariaHasPopup,emphasized:t.emphasized,visible:t.visible});return e};f.prototype._createButton=function(t){var e;if(t.icon){e=new l({icon:t.icon,text:t.text||t.tooltip,tooltip:t.tooltip||t.text,type:t.buttonType,ariaHasPopup:t.ariaHasPopup,visible:t.visible});return e}e=new r({text:t.text,tooltip:t.tooltip,type:t.buttonType,ariaHasPopup:t.ariaHasPopup,visible:t.visible});return e};f.create=function(t,e,o){if(!e){return null}var a=new f({card:t,disableItemsInitially:o});a._initButtons(e);return a};return f});
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/integration/controls/ActionsToolbar", ["./ActionsToolbarRenderer","sap/base/strings/capitalize","sap/ui/core/Control","sap/m/library","sap/ui/core/library","sap/m/Button","sap/m/ActionSheet","sap/ui/base/ManagedObjectObserver","sap/ui/core/Core","sap/ui/integration/cards/actions/CardActions"],function(t,e,i,n,o,s,r,a,c,u){"use strict";var p=n.ButtonType;var g=o.aria.HasPopup;function h(t,e,i,n){return new Promise(function(o){var s;if(typeof i==="function"){s=i(n);if(s instanceof Promise){s.then(function(i){t.setProperty(e,i);o()});return}}else{s=i}t.setProperty(e,s);o()})}var l=i.extend("sap.ui.integration.controls.ActionsToolbar",{metadata:{library:"sap.ui.integration",properties:{},aggregations:{actionDefinitions:{type:"sap.ui.integration.ActionDefinition",multiple:true},_toolbar:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_actionSheet:{type:"sap.m.ActionSheet",multiple:false,visibility:"hidden"}}},renderer:t});l.prototype.init=function(){this.setAggregation("_actionSheet",new r);this._aActions=[];this._mActionObservers=new Map;this._oObserver=new a(this._observeActionsAggregation.bind(this));this._oObserver.observe(this,{aggregations:["actionDefinitions"]})};l.prototype.exit=function(){this._oCard=null;this._aActions=null;this._oObserver.disconnect();this._oObserver=null;this._mActionObservers.clear();this._mActionObservers=null};l.prototype.onBeforeRendering=function(){this._updateVisibility()};l.prototype.initializeContent=function(t){var e=this,i,n=[],o=[],s=this.getAggregation("_actionSheet"),r=t.getHostInstance(),a=t.getAggregation("_extension");if(r){o=o.concat(r.getActions()||[])}if(a){o=o.concat(a.getActions()||[])}this._aActions=o;o.forEach(function(t){i=e._createActionButton(t,false);n.push(i)});if(this._aButtons){this._aButtons.forEach(function(t){t.destroy()})}n.forEach(s.addButton,s);this._aButtons=n;this._refreshButtons().then(this._updateVisibility.bind(this))};l.prototype.setCard=function(t){this._oCard=t};l.prototype._open=function(){this._refreshButtons().then(function(){this.getAggregation("_actionSheet").openBy(this._getToolbar())}.bind(this))};l.prototype._getToolbar=function(){var t=this.getAggregation("_toolbar");if(!t){t=new s({id:this.getId()+"-overflowButton",icon:"sap-icon://overflow",type:p.Transparent,ariaHasPopup:g.Menu,press:function(t){this._open()}.bind(this)});this.setAggregation("_toolbar",t)}return t};l.prototype._refreshButtons=function(){var t=this._aActions,e=this._oCard,i=this._aButtons,n,o,s,r=[];for(s=0;s<t.length;s++){n=t[s];o=i[s];r.push(h(o,"enabled",n.enabled,e));r.push(h(o,"visible",n.visible,e))}return Promise.all(r)};l.prototype._createActionButton=function(t,e){var i=e?this._getActionConfig(t):t;var n=new s({icon:i.icon,text:i.text,tooltip:i.tooltip,type:i.buttonType,visible:e?i.visible:false,press:function(i){var n=e?this._getActionConfig(t):t;u.fireAction({card:this._oCard,host:this._oCard.getHostInstance(),action:n,parameters:n.parameters,source:i.getSource()})}.bind(this)});if(e){n.setEnabled(i.enabled)}return n};l.prototype._updateVisibility=function(){var t=this.getAggregation("_actionSheet").getButtons().some(function(t){return t.getVisible()});this.setVisible(t)};l.prototype._getActionConfig=function(t){var i=["visible","enabled","icon","text","tooltip","parameters","buttonType","type"].reduce(function(i,n){i[n]=t["get"+e(n)]();return i},{});i.action=function(){t.firePress()};return i};l.prototype._observeActionsAggregation=function(t){var e=t.child;if(t.mutation==="insert"){var i=this._createActionButton(e,true);this.getAggregation("_actionSheet").insertButton(i,this.indexOfActionDefinition(e));e.setAssociation("_menuButton",i);var n=new a(this._observeSingleAction.bind(this));n.observe(e,{properties:true,aggregations:["tooltip"]});this._mActionObservers.set(e.getId(),n);this._updateVisibility()}else if(t.mutation==="remove"){c.byId(e.getAssociation("_menuButton")).destroy();this._mActionObservers.get(e.getId()).disconnect();this._mActionObservers.delete(e.getId())}};l.prototype._observeSingleAction=function(t){var i=t.object,n=t.name,o=c.byId(i.getAssociation("_menuButton")),s=t.current;if(["type","parameters"].indexOf(n)!==-1){return}if(t.type==="aggregation"){s=t.child}if(n==="buttonType"){n="type"}o["set"+e(n)](s);this._updateVisibility()};l.prototype.setEnabled=function(t){var e=this._getToolbar();if(t){e.setEnabled(true)}else{this.getAggregation("_actionSheet").close();e.setEnabled(false)}};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/controls/ActionsToolbarRenderer", [],function(){"use strict";var n={apiVersion:2};n.render=function(n,e){n.openStart("div",e).class("sapUiIntActionsToolbar").openEnd();n.renderControl(e._getToolbar());n.close("div")};return n},true);
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/integration/controls/LinkWithIcon", ["./LinkWithIconRenderer","sap/ui/integration/library","sap/m/Link","sap/ui/core/Icon"],function(e,i,t,n){"use strict";var o=t.extend("sap.ui.integration.controls.LinkWithIcon",{metadata:{library:"sap.ui.integration",properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""}},aggregations:{_icon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}}},renderer:e});o.prototype.onBeforeRendering=function(){t.prototype.onBeforeRendering.apply(this,arguments);if(this.getIcon()){this._getIcon().setSrc(this.getIcon())}this.addStyleClass("sapUiIntCardLinkWithIcon")};o.prototype._getIcon=function(){var e=this.getAggregation("_icon");if(!e){e=new n;this.setAggregation("_icon",e)}return e};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/controls/LinkWithIconRenderer", ["sap/ui/integration/library","sap/ui/core/Renderer","sap/m/LinkRenderer"],function(e,r,n){"use strict";var i=r.extend(n);i.apiVersion=2;i.renderText=function(e,r){var i=r.getAggregation("_icon");if(i){e.renderControl(i)}n.renderText.apply(this,arguments)};return i},true);
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/integration/controls/ListContentItem", ["sap/ui/integration/library","./ListContentItemRenderer","sap/m/Avatar","sap/m/AvatarShape","sap/m/AvatarSize","sap/m/StandardListItem"],function(t,e,a,i,r,s){"use strict";var n=t.AttributesLayoutType;var o=s.extend("sap.ui.integration.controls.ListContentItem",{metadata:{library:"sap.ui.integration",properties:{iconAlt:{type:"string",defaultValue:""},iconDisplayShape:{type:"sap.m.AvatarShape",defaultValue:i.Square},iconInitials:{type:"string",defaultValue:""},iconSize:{type:"sap.m.AvatarSize",defaultValue:r.XS},iconBackgroundColor:{type:"sap.m.AvatarColor"},attributesLayoutType:{type:"sap.ui.integration.AttributesLayoutType",defaultValue:n.TwoColumns},iconVisible:{type:"boolean",defaultValue:true}},aggregations:{microchart:{type:"sap.ui.integration.controls.Microchart",multiple:false},actionsStrip:{type:"sap.ui.integration.controls.ActionsStrip",multiple:false},attributes:{type:"sap.m.ObjectStatus",multiple:true},_avatar:{type:"sap.m.Avatar",multiple:false,visibility:"hidden"}}},renderer:e});o.prototype._getAvatar=function(){var t=this.getAggregation("_avatar");if(!t){t=(new a).addStyleClass("sapFCardIcon");this.setAggregation("_avatar",t)}t.setSrc(this.getIcon()).setDisplayShape(this.getIconDisplayShape()).setTooltip(this.getIconAlt()).setInitials(this.getIconInitials()).setDisplaySize(this.getIconSize()).setBackgroundColor(this.getIconBackgroundColor()).setVisible(this.getIconVisible());return t};o.prototype._getVisibleAttributes=function(){return this.getAttributes().filter(function(t){return t.getVisible()})};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/controls/ListContentItemRenderer", ["sap/ui/integration/library","sap/ui/core/Renderer","sap/ui/core/Core","sap/ui/Device","sap/m/StandardListItemRenderer"],function(e,t,s,i,r){"use strict";var n=t.extend(r);n.apiVersion=2;var a=e.AttributesLayoutType;n.renderLIAttributes=function(e,t){r.renderLIAttributes.apply(this,arguments);e.class("sapUiIntLCI");if(t.getIcon()){e.class("sapUiIntLCIIconSize"+t.getIconSize())}if(t.getMicrochart()){e.class("sapUiIntLCIWithChart")}if(t.getActionsStrip()){e.class("sapUiIntLCIWithActionsStrip")}if(t._getVisibleAttributes().length){e.class("sapUiIntLCIWithAttributes")}};n.renderLIContent=function(e,t){var s=t.getInfo(),i=t.getTitle(),r=t.getDescription(),n=t.getAdaptTitleSize(),a=!i&&s;if(t.getIcon()||t.getIconInitials()){e.renderControl(t._getAvatar())}e.openStart("div").class("sapMSLIDiv");if(!r&&n&&s||a){e.class("sapMSLIInfoMiddle")}e.openEnd();this.renderTitleWrapper(e,t);if(i&&r){this.renderDescription(e,t)}if(a&&!t.getWrapping()){this.renderInfo(e,t)}e.close("div")};n.render=function(e,t){if(!t.getVisible()){this.renderInvisible(e,t);return}this.openItemTag(e,t);e.class("sapMLIB");e.class("sapMLIB-CTX");e.class("sapMLIBShowSeparator");e.class("sapMLIBType"+t.getType());e.class("sapMLIB");if(i.system.desktop&&t.isActionable()){e.class("sapMLIBActionable");e.class("sapMLIBHoverable")}if(t.getSelected()){e.class("sapMLIBSelected")}if(t.getListProperty("showUnread")&&t.getUnread()){e.class("sapMLIBUnread")}this.addFocusableClasses(e,t);this.renderTooltip(e,t);this.renderTabIndex(e,t);if(s.getConfiguration().getAccessibility()){e.accessibilityState(t,this.getAccessibilityState(t))}this.renderLIAttributes(e,t);e.openEnd();this.renderContentFormer(e,t);this.renderLIContentWrapper(e,t);this.renderContentLatter(e,t);this.renderItemAttributes(e,t);this.renderFooter(e,t);this.closeItemTag(e,t)};n.renderItemAttributes=function(e,t){var s=t._getVisibleAttributes(),i=t.getAttributesLayoutType(),r=s.length,n;if(!r){return}e.openStart("div").class("sapUiIntLCIAttrs").openEnd();for(n=0;n<r;n++){e.openStart("div").class("sapUiIntLCIAttrRow").openEnd();e.openStart("span").class("sapUiIntLCIAttrCell").openEnd();e.renderControl(s[n]);e.close("span");if(i===a.TwoColumns){n++;if(s[n]){e.openStart("span").class("sapUiIntLCIAttrCell").class("sapUiIntLCIAttrSecondCell").openEnd();e.renderControl(s[n]);e.close("span")}}e.close("div")}e.close("div")};n.renderFooter=function(e,t){var s=t.getMicrochart(),i=t.getActionsStrip();if(!s&&!i){return}e.openStart("div").class("sapUiIntLCIFooter").openEnd();if(s){e.renderControl(s)}if(i){e.renderControl(i)}e.close("div")};return n},true);
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/integration/controls/Microchart", ["sap/m/library","sap/ui/core/Control","sap/ui/core/Core","sap/ui/base/DataType","sap/base/Log"],function(a,e,r,t,i){"use strict";var o,l,s,n;var u=a.ValueColor;function c(a){if(!a||typeof a!=="string"){return a}var e=t.getType("sap.m.ValueColor").isValid(a);if(!e){i.error("The value for stacked bar color must be a valid 'sap.m.ValueColor'. Given '"+a+"'.","sap.ui.integration.controls.Microchart");return null}return a}var p=e.extend("sap.ui.integration.controls.Microchart",{metadata:{library:"sap.ui.integration",properties:{displayValue:{type:"string"},valueColor:{type:"sap.m.ValueColor",defaultValue:u.Neutral}},aggregations:{chart:{type:"sap.ui.core.Control",multiple:false}}},renderer:{apiVersion:2,render:function(a,e){var r="sapUiIntMicrochartValue"+e.getValueColor();a.openStart("div",e).class("sapUiIntMicrochartChartWrapper").openEnd();a.openStart("div").class("sapUiIntMicrochartChart").openEnd();a.openStart("div").class("sapUiIntMicrochartChartInner").openEnd().renderControl(e.getChart()).close("div");a.close("div");a.openStart("div").class("sapMSLIInfo").class(r).openEnd().text(e.getDisplayValue()).close("div");a.close("div")}}});p.loadDependencies=function(){return new Promise(function(a,e){r.loadLibrary("sap.suite.ui.microchart",{async:true}).then(function(){sap.ui.require(["sap/suite/ui/microchart/BulletMicroChart","sap/suite/ui/microchart/BulletMicroChartData","sap/suite/ui/microchart/StackedBarMicroChart","sap/suite/ui/microchart/StackedBarMicroChartBar"],function(e,r,t,i){o=e;l=r;s=t;n=i;a()},function(a){e(a)})}).catch(function(){e("The usage of Microcharts is not available with this distribution.")})})};p.create=function(a){var e,r;if(a.type==="Bullet"){var t=[];if(a.thresholds){t=a.thresholds.map(function(a){return new l({value:a.value,color:a.color})})}r=new o({size:"Responsive",minValue:a.minValue,maxValue:a.maxValue,targetValue:a.target,showTargetValue:!!a.target,scaleColor:"Light",scale:a.scale,actual:new l({value:a.value,color:a.color}),thresholds:t});e=new p({valueColor:a.color,displayValue:a.displayValue,chart:r})}if(a.type==="StackedBar"){var i=a.bars.map(function(a){var e=c(a.color);return new n({value:a.value,displayValue:a.displayValue,valueColor:e})});r=new s({size:"Responsive",bars:i,maxValue:a.maxValue});e=new p({displayValue:a.displayValue,chart:r})}return e};return p});
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/integration/controls/MicrochartLegend", ["./MicrochartLegendRenderer","sap/m/Text","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/theming/Parameters","sap/ui/integration/util/BindingHelper"],function(e,t,i,n,o,r){"use strict";var s=i.extend("sap.ui.integration.controls.MicrochartLegend",{metadata:{library:"sap.ui.integration",aggregations:{_titles:{type:"sap.m.Text",multiple:true,visibility:"hidden"}},associations:{chart:{type:"sap.ui.core.Control",multiple:false}},events:{colorsLoad:{}}},renderer:e});s.prototype.onBeforeRendering=function(){this._mLegendColors={};this._loadLegendColors()};s.prototype.onAfterRendering=function(){this._equalizeWidths()};s.prototype._equalizeWidths=function(){var e=this.$().children(".sapUiIntMicrochartLegendItem"),t=0;e.css("width","");e.each(function(){var e=this.getBoundingClientRect().width;if(e>t){t=e}});e.css("min-width",t+"px")};s.prototype.initItemsTitles=function(e,i){this.destroyAggregation("_titles");e.forEach(function(e,n){var o=r.prependRelativePaths(e.legendTitle,i+"/"+n);var s=new t({text:o});s.addEventDelegate({onAfterRendering:this._equalizeWidths},this);this.addAggregation("_titles",s)}.bind(this))};s.prototype._loadLegendColors=function(){var e=n.byId(this.getChart()),t=[],i;if(e){t=e._calculateChartData().map(function(e){return e.color}).filter(function(e){return e.startsWith("sapUi")})}if(t.length>0){i=o.get({name:t,callback:function(e){this._handleColorsLoad(t,e)}.bind(this)})}if(this._mLegendColors!==undefined){this._handleColorsLoad(t,i)}};s.prototype._handleColorsLoad=function(e,t){if(typeof t==="string"){this._mLegendColors={};this._mLegendColors[e[0]]=t}else if(t){this._mLegendColors=t}this.fireColorsLoad()};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/controls/MicrochartLegendRenderer", ["sap/m/library","sap/ui/core/Core"],function(e,r){"use strict";var n=e.ValueColor;var o={apiVersion:2};o.render=function(e,n){var t=r.byId(n.getChart()),a=[],i=n.getAggregation("_titles");if(t){a=t._calculateChartData().map(function(e){return e.color})}e.openStart("div",n).class("sapUiIntMicrochartLegend").openEnd();a.forEach(function(r,t){e.openStart("div").class("sapUiIntMicrochartLegendItem").openEnd();e.openStart("div");o.addColor(e,n,r);e.openEnd().close("div");e.renderControl(i[t]);e.close("div")});e.close("div")};o.addColor=function(e,r,o){if(n[o]){e.class("sapUiIntMicrochartLegendItem"+o)}else{var t=r._mLegendColors[o]||o;e.style("background",t)}};return o},true);
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/integration/controls/Paginator", ["../library","sap/m/library","sap/ui/base/EventProvider","sap/ui/core/Core","sap/ui/core/Control","sap/ui/core/Configuration","sap/ui/core/Icon","./PaginatorRenderer"],function(t,e,i,n,a,s,r,o){"use strict";var d=n.getConfiguration().getAnimationMode(),g=d!==s.AnimationMode.none&&d!==s.AnimationMode.minimal,h=200;var l=a.extend("sap.ui.integration.controls.Paginator",{metadata:{library:"sap.ui.integration",properties:{card:{type:"object"},pageNumber:{type:"int",defaultValue:0},pageCount:{type:"int",defaultValue:0},pageSize:{type:"int",defaultValue:0},totalCount:{type:"int"},skip:{type:"int"}},aggregations:{_prevIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_nextIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},events:{animationComplete:{}}},renderer:o});l.create=function(t,e){if(!e){return null}return new l({card:t,totalCount:e.totalCount,pageSize:e.pageSize,skip:e.skip})};l.prototype.init=function(){this._listUpdateFinishedHandler=this._listUpdateFinished.bind(this);this.setAggregation("_prevIcon",new r({src:"sap-icon://slim-arrow-left",useIconTooltip:false,decorative:false,press:this.previous.bind(this)}));this.setAggregation("_nextIcon",new r({src:"sap-icon://slim-arrow-right",useIconTooltip:false,decorative:false,press:this.next.bind(this)}))};l.prototype.exit=function(){var t=this.getCard(),e,n;if(t){if(this._dataChangedHandler){t.detachEvent("_contentDataChange",this._dataChangedHandler)}e=t.getCardContent();if(e){n=e.getAggregation("_content");if(n&&i.hasListener(n,"updateFinished",this._listUpdateFinishedHandler)){n.detachEvent("updateFinished",this._listUpdateFinishedHandler)}}}delete this._listUpdateFinishedHandler;delete this._iPreviousStartIndex;delete this._oClonedContent};l.prototype.isServerSide=function(){return this.getTotalCount()};l.prototype._dataChanged=function(){var t=this.getCard(),e=t.getCardContent(),n,a,s;if(!e||!e.isA("sap.ui.integration.cards.BaseContent")){this.setPageCount(0);return}this.setModel(e.getModel());n=e.getAggregation("_content");s=i.hasListener(n,"updateFinished",this._listUpdateFinishedHandler);if(this._hasAnimation()&&!s){n.attachEvent("updateFinished",this._listUpdateFinishedHandler);if(this.isServerSide()){e.getAggregation("_loadingProvider")._oContentPlaceholder.addDelegate({onAfterRendering:this.onPlaceholderAfterRendering.bind(this)})}}if(s){this._clearAnimation(this)}a=this.getTotalCount()||e.getDataLength();this.setPageCount(Math.ceil(a/this.getPageSize()));this.setPageNumber(Math.min(Math.max(0,this.getPageNumber()),this.getPageCount()-1));this.sliceData()};l.prototype.setCard=function(t){this.setProperty("card",t,true);this._dataChangedHandler=this._dataChanged.bind(this);if(t){t.attachEvent("_contentDataChange",this._dataChangedHandler)}return this};l.prototype.sliceData=function(){var t=this.getCard(),e,i,n;if(!t){return}e=t.getCardContent();i=this.getPageNumber()*this.getPageSize();n=this._iPreviousStartIndex!==undefined&&this._iPreviousStartIndex!==i;if(n){this._prepareAnimation(i)}if(this.isServerSide()){if(n){this.getModel("paginator").setData({skip:i,size:this.getPageSize(),pageIndex:this.getPageNumber()});if(this._hasAnimation()){e.getAggregation("_loadingProvider")._bAwaitPagination=true;t.getAggregation("_loadingProvider")._bAwaitPagination=true}}}else if(e.isA("sap.ui.integration.cards.BaseContent")){e.sliceData(i,i+this.getPageSize())}this._iPreviousStartIndex=i};l.prototype.reset=function(){this.setPageNumber(0).sliceData()};l.prototype._prepareAnimation=function(t){if(!this._hasAnimation()||this._isSkeletonCard()){return}var e=this.getCard().getCardContent().getDomRef(),i=e.cloneNode(true);this._bActiveAnimation=true;this._bReverseAnimation=this._iPreviousStartIndex>t;i.removeAttribute("id");i.querySelectorAll("*[id]").forEach(function(t){t.removeAttribute("id")});i.classList.add("sapFCardContentCloned");if(this._bReverseAnimation){i.classList.add("sapFCardContentReverseAnim")}if(this.isServerSide()){this._oClonedContent=i}else{e.classList.add("sapFCardContentOriginal");if(this._bReverseAnimation){e.classList.add("sapFCardContentReverseAnim")}e.parentElement.insertBefore(i,e)}};l.prototype._clearAnimation=function(){if(!this._hasAnimation()||!this._bActiveAnimation||this._isSkeletonCard()){return}var t=this.getCard(),e=t.getCardContent(),i=e.getDomRef(),n=i.previousSibling,a,s;a=t.getAggregation("_loadingProvider");s=e.getAggregation("_loadingProvider");if(s._bAwaitPagination){s._bAwaitPagination=false;a._bAwaitPagination=false}else{if(n){n.parentNode.removeChild(n)}i.classList.remove("sapFCardContentOriginal");i.classList.remove("sapFCardContentTransition");i.classList.remove("sapFCardContentReverseAnim");e.hideLoadingPlaceholders();a.setLoading(false);this._bActiveAnimation=false}this.fireAnimationComplete()};l.prototype._listUpdateFinished=function(){if(!this._bActiveAnimation||this.isServerSide()||this._isSkeletonCard()){return}var t=this.getCard().getCardContent(),e=t.getDomRef(),i=e.previousSibling;if(!i){return}i.addEventListener("transitionend",function(){i.parentNode.removeChild(i);e.classList.remove("sapFCardContentOriginal");e.classList.remove("sapFCardContentTransition");e.classList.remove("sapFCardContentReverseAnim");this._bActiveAnimation=false}.bind(this));e.classList.add("sapFCardContentTransition");i.classList.add("sapFCardContentTransition")};l.prototype._isSkeletonCard=function(){return this.getCard().isSkeleton()};l.prototype.onPlaceholderAfterRendering=function(){if(!this._oClonedContent||this._isSkeletonCard()){return}var t=this.getCard(),e=t.getCardContent(),i=e.getDomRef(),n=this._oClonedContent;i.classList.add("sapFCardContentOriginal");i.parentElement.insertBefore(n,i);if(this._bReverseAnimation){i.classList.add("sapFCardContentReverseAnim")}this._oClonedContent.addEventListener("transitionend",function(){setTimeout(this._clearAnimation.bind(this),h)}.bind(this));this._oClonedContent=null;setTimeout(function(){n.classList.add("sapFCardContentTransition");i.classList.add("sapFCardContentTransition")},30)};l.prototype._getNavigationArrow=function(t){return this.getAggregation("_"+t+"Icon")};l.prototype._hasAnimation=function(){return g&&this.getCard().getCardContent().isA("sap.ui.integration.cards.ListContent")};l.prototype._hasActiveLoadingProvider=function(){var t=this.getCard();return t&&t.hasActiveLoadingProvider()};l.prototype.previous=function(){if(this._bActiveAnimation||this._hasActiveLoadingProvider()){return}this.setPageNumber(Math.max(0,this.getPageNumber()-1));this.sliceData()};l.prototype.next=function(){if(this._bActiveAnimation||this._hasActiveLoadingProvider()){return}this.setPageNumber(Math.min(this.getPageCount()-1,this.getPageNumber()+1));this.sliceData()};l.prototype.onmousedown=function(t){var e=t.target,i=e.getAttribute("data-slide");if(i&&!e.classList.contains("sapMCrslActive")){this.setPageNumber(parseInt(i)-1);this.sliceData()}};l.prototype.getStaticConfiguration=function(){return{pageCount:this.getPageCount(),pageIndex:this.getPageNumber()}};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/controls/PaginatorRenderer", ["sap/m/library","sap/ui/core/Core","sap/base/strings/capitalize","sap/ui/core/InvisibleRenderer"],function(e,r,s,t){"use strict";var n=r.getLibraryResourceBundle("sap.m");var a=5;var o={apiVersion:2};o.render=function(e,r){var s=r.getId(),o=r.getPageNumber(),i=r.getPageCount(),p,l;if(i<=1){t.render(e,r,r.TagName);return}e.openStart("div",r).class("sapUiIntPaginator").openEnd();e.openStart("div").class("sapMCrslControls").openEnd();e.openStart("div").class("sapMCrslControlsContainer").openEnd();this._renderArrow(e,r,"previous");e.openStart("div",s+"-pageIndicator");if(i<a){e.class("sapMCrslBulleted").openEnd();for(p=0;p<i;p++){e.openStart("span").accessibilityState({role:"img",label:n.getText("CAROUSEL_POSITION",[p+1,i])});e.attr("data-slide",p+1);if(p===o){e.class("sapMCrslActive")}e.openEnd().text(p+1).close("span")}}else{e.class("sapMCrslNumeric").openEnd();l=n.getText("CAROUSEL_PAGE_INDICATOR_TEXT",[o+1,i]);e.openStart("span",s+"-"+"slide-number").openEnd().text(l).close("span")}e.close("div");this._renderArrow(e,r,"next");e.close("div").close("div").close("div")};o._renderArrow=function(e,r,t){e.openStart("div").class("sapMCrsl"+s(t.slice(0,4))).attr("title",n.getText("PAGINGBUTTON_"+t.toUpperCase())).openEnd();e.openStart("div").class("sapMCrslArrowInner").openEnd();e.renderControl(r._getNavigationArrow(t==="previous"?"prev":"next"));e.close("div").close("div")};return o},true);
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/integration/customElements/CustomElementBase", ["sap/ui/integration/util/Utils","sap/base/strings/hyphenate","sap/base/strings/camelize"],function(t,e,i){"use strict";function n(){if(this.constructor===n){throw new TypeError('Abstract class "CustomElementBase" cannot be instantiated directly.')}return Reflect.construct(HTMLElement,[],this.constructor)}n.prototype=Object.create(HTMLElement.prototype);n.prototype.constructor=n;n.prototype.connectedCallback=function(){this._init();this._upgradeAllProperties();this._oControlInstance.placeAt(this.firstElementChild);this._attachEventListeners()};n.prototype.disconnectedCallback=function(){if(this._oControlInstance){this._oControlInstance.destroy();delete this._oControlInstance}if(this.firstElementChild){this.removeChild(this.firstElementChild)}};n.prototype.attributeChangedCallback=function(e,o,s){this._init();var r=i(e);if(t.isJson(s)){s=JSON.parse(s)}if(this._mAllProperties[r]){this._mAllProperties[r].set(this._oControlInstance,s)}else if(this._mAllAssociations[r]){var a=document.getElementById(s);if(a instanceof n){s=document.getElementById(s)._getControl()}this._mAllAssociations[r].set(this._oControlInstance,s)}};n.prototype._init=function(){if(!this._oControlInstance){this._oControlInstance=new this._ControlClass}if(!this.firstElementChild){var t=document.createElement("div");this.appendChild(t)}};n.prototype._getControl=function(){this._init();return this._oControlInstance};n.prototype._attachEventListeners=function(){Object.keys(this._oMetadata.getEvents()).map(function(t){this._oControlInstance.attachEvent(t,function(e){this.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:true}))},this)}.bind(this))};n.prototype._upgradeAllProperties=function(){this._aAllProperties.forEach(this._upgradeProperty.bind(this))};n.prototype._upgradeProperty=function(t){if(this[t]){var e=this[t];delete this[t];this[t]=e}};n.generateAccessors=function(t,i){i.forEach(function(i){Object.defineProperty(t,i,{get:function(){return this.getAttribute(e(i))},set:function(t){if(typeof t==="object"){t=JSON.stringify(t)}this.setAttribute(e(i),t)}})})};n.define=function(t,e,i){i=i||[];n.awaitDependencies(i).then(function(){window.customElements.define(t,e)})};n.awaitDependencies=function(t){var e=t.map(function(t){return window.customElements.whenDefined(t)});return Promise.all(e)};n.extend=function(t,i){function o(){return n.apply(this,arguments)}o.prototype=Object.create(n.prototype);o.prototype.constructor=o;var s=o.prototype,r="";s._ControlClass=t;s._oMetadata=t.getMetadata();s._mAllAssociations=s._oMetadata.getAllAssociations();s._mAllProperties=s._oMetadata.getAllProperties();s._aAllProperties=[];if(i&&i.customProperties){s._mAllProperties=Object.assign(s._mAllProperties,i.customProperties)}for(r in s._mAllProperties){if(i&&i.privateProperties&&i.privateProperties.indexOf(r)!==-1){continue}s._aAllProperties.push(r)}for(r in s._mAllAssociations){s._aAllProperties.push(r)}Object.defineProperty(o,"observedAttributes",{get:function(){var t=s._aAllProperties.map(e);return t}});n.generateAccessors(s,s._aAllProperties);return o};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/Editor", ["sap/ui/core/Control","sap/ui/core/Core","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/merge","sap/ui/base/Interface","sap/ui/integration/Designtime","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/ODataModel","sap/ui/integration/util/Utils","sap/ui/integration/util/Destinations","sap/ui/integration/util/DataProviderFactory","sap/m/Label","sap/m/Title","sap/m/Panel","sap/m/HBox","sap/m/VBox","sap/ui/core/Icon","sap/m/ResponsivePopover","sap/m/Popover","sap/m/Text","sap/base/Log","sap/ui/core/Popup","sap/base/i18n/ResourceBundle","sap/ui/integration/editor/EditorResourceBundles","sap/ui/dom/includeStylesheet","sap/base/util/LoaderExtensions","sap/ui/core/theming/Parameters","sap/base/util/ObjectPath","sap/m/FormattedText","sap/m/MessageStrip","sap/m/ToolbarSpacer","sap/base/util/includes","sap/ui/model/resource/ResourceModel","./Manifest","./Merger","./Settings","sap/m/FlexItemData","sap/m/FlexBox","sap/m/Button","sap/m/OverflowToolbar","sap/m/IconTabBar","sap/m/IconTabFilter"],function(e,t,i,a,n,s,r,o,l,d,f,g,u,p,h,c,_,m,v,y,b,I,C,x,M,T,S,P,D,E,A,w,O,L,R,V,F,B,U,j,N,W,k){"use strict";var H=y.prototype.init;y.prototype.init=function(){H.apply(this,arguments);var e=this.oPopup._applyPosition,t=this;this.oPopup._applyPosition=function(){var i=t.close;t.close=function(){};e.apply(this,arguments);t.close=i}};function q(e){if(e&&e.nodeType!==1){return 0}var t=parseInt(window.getComputedStyle(e).getPropertyValue("z-index"));if(isNaN(t)){return q(e.parentNode)}return t+1}var J=/\{\{(?!parameters.)(?!destinations.)([^\}\}]+)\}\}/g,K=/\{\{parameters\.([^\}\}]+)/g,G=5e3,z=t.getLibraryResourceBundle("sap.ui.integration"),X="__strip0",Y="module:";var Z=e.extend("sap.ui.integration.editor.Editor",{metadata:{library:"sap.ui.integration",properties:{mode:{type:"string",defaultValue:"admin"},language:{type:"string",defaultValue:""},allowDynamicValues:{type:"boolean",defaultValue:false},allowSettings:{type:"boolean",defaultValue:false},designtime:{type:"object"},section:{type:"string",defaultValue:"sap.card"},host:{type:"string",defaultValue:""},baseUrl:{type:"sap.ui.core.URI",defaultValue:null},json:{type:"object"},previewPosition:{type:"string",defaultValue:"right"},width:{type:"sap.ui.core.CSSSize",defaultValue:""},height:{type:"sap.ui.core.CSSSize",defaultValue:""}},aggregations:{_formContent:{type:"sap.ui.core.Control",multiple:true,visibility:"hidden"},_preview:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_messageStrip:{type:"sap.m.MessageStrip",multiple:false,visibility:"hidden"},_extension:{type:"sap.ui.integration.editor.Extension",multiple:false,visibility:"hidden"}},events:{ready:{},manifestReady:{}}},renderer:{apiVersion:2,render:function(e,i){var n=i.getAggregation("_preview");var s=i.getMode()!=="translation"&&i.hasPreview();var r=i.getPreviewPosition();if(s&&(r==="top"||r==="bottom")){e.openStart("div",i);e.openEnd();if(i.isReady()&&r==="top"){e.renderControl(n);e.close("div")}}if(s&&r==="left"){e.openStart("div",i);e.class("sapUiIntegrationEditor");e.openEnd();if(i.isReady()){e.renderControl(n);e.close("div")}}else if(s&&(r==="bottom"||r==="top")){e.openStart("div");e.class("sapUiIntegrationEditor");e.openEnd()}else{e.openStart("div",i);e.class("sapUiIntegrationEditor");e.openEnd()}if(i.isReady()){e.openStart("div");e.class("sapUiIntegrationEditorForm");if(i.getMode()!=="translation"){e.class("settingsButtonSpace")}e.openEnd();if(i.getMode()!=="translation"){e.renderControl(i.getAggregation("_messageStrip"))}var o=i.getAggregation("_formContent");if(o){var l;var d;var f;var g;var u=[];var p=[];var h;var m=function(){if(u.length>0){var e=2-u.length;for(var t=0;t<e;t++){u.push(new _)}l.addContent(new U({alignItems:"Start",justifyContent:"SpaceBetween",items:u}));u=[]}};var v=function(){if(p.length>0){var e=2-p.length;for(var t=0;t<e;t++){p.push(new _)}d.addContent(new U({alignItems:"Start",justifyContent:"SpaceBetween",items:p}));p=[]}};var y=function(t){if(t.getContent().length>0){var i=t.getContent();if(i.length===1&&i[0].isA("sap.m.MessageStrip")){return}if(i[0].isA("sap.m.MessageStrip")){t.removeContent(0);t.addContent(i[0])}e.renderControl(t.getParent());if(t._messageStrip){e.renderControl(t._messageStrip)}}};var b=function(e,t){if(e&&t.getContent().length>0){var i=t.getContent();if(i[0].isA("sap.m.MessageStrip")){t.removeContent(0);t.addContent(i[0])}e.addContent(t.getParent());if(t._messageStrip){e.addContent(t._messageStrip)}}else{t=null}};var I=function(e,t){var i=e.getContent(),a;if(i.length>0){for(var n=0;n<i.length;n++){if(i[n].getAggregation("_field")&&i[n].getAggregation("_field").isA("sap.m.IconTabBar")){a=i[n].getAggregation("_field")}}}if(a&&t.getContent().length>0){a.addItem(t)}};for(var C=0;C<o.length;C++){var x=o[C];if(i.getMode()!=="translation"){if(x.isA("sap.ui.integration.editor.fields.GroupField")){var M=x.getAggregation("_field");if(d){v();if(M.isA("sap.m.Panel")&&d.isA("sap.m.Panel")){b(l,d)}else{I(l,d)}}var T=0;if(M.isA("sap.m.Panel")){T=M._level}else if(M.isA("sap.m.IconTabBar")){T="1"}if(T==="1"){if(u.length>0){m()}if(M.isA("sap.m.IconTabBar")){var S=l.getContent(),P=false,D;if(S.length>0){for(var E=0;E<S.length;E++){if(S[E].getAggregation("_field")&&S[E].getAggregation("_field").isA("sap.m.IconTabBar")){P=true;D=S[E].getAggregation("_field")}}}d=M.getItems()[0];d._subItems=d._subItems||[];if(!P){M.removeItem(M.getItems()[0]);if(M._messageStrip){l.addContent(M._messageStrip)}M.addStyleClass("sapUiIntegrationEditorSubTab");l.addContent(x)}else{D.addItem(M.getItems()[0]);M.destroy()}}else{d=M;d._subItems=d._subItems||[];d.addStyleClass("sapUiIntegrationEditorSubGroup")}}else{if(l){m();y(l);d=null}l=M;l._subItems=l._subItems||[];l.addStyleClass("sapUiIntegrationEditorItem")}if(C===o.length-1){m();y(l)}continue}if(x.isA("sap.m.FormattedText")){if(d){d.addContent(x.addStyleClass("sapUiIntegrationEditorHint"))}else{l.addContent(x.addStyleClass("sapUiIntegrationEditorHint"))}if(C===o.length-1){if(d){v();b(l,d)}m();y(l)}continue}var A=x._layout;if(x.isA("sap.m.Label")){x.addStyleClass("sapUiIntegrationEditorItemLabel");if(x.getRequired()){x.addStyleClass("sapUiIntegrationEditorItemLabelWithRequired")}if(A&&!a(A,{})){if(A.alignment&&A.alignment.label==="end"){x.setTextAlign("End")}g=x}else{if(x._cols===2){if(d){v()}else{m()}}else if(p.length===2){v()}else if(u.length===2){m()}if(d){d.addContent(x)}else{l.addContent(x)}}}else if(x.isA("sap.m.ToolbarSpacer")){if(x._hasLine){x.addStyleClass("sapUiIntegrationEditorSpacerWithLine")}else{x.addStyleClass("sapUiIntegrationEditorSpacerWithoutLine")}if(d){v();d.addContent(x)}else{m();l.addContent(x)}}else{var w=x.getConfiguration(),O=new c,L=.1,R=0,V;if(x._descriptionIcon){O.addItem(x._descriptionIcon);L+=.9}var F=t.byId(x.getAssociation("_messageIcon"));if(x.getAssociation("_messageIcon")&&F){O.addItem(F);L+=1.2}if(x._settingsButton){x._settingsButton.addStyleClass("sapUiIntegrationEditorSettingsButton");R=2}var j=new B({growFactor:10,maxWidth:"calc(100% - "+R+"rem)"});var N=new B({maxWidth:"calc(100% - "+L+"rem)"});if(g){var W,k,H="50%";if(A&&A["label-width"]){H=A["label-width"]}var q=parseInt(H);var J=100-q;if(x._cols===2){q=q-.5;J=J-.5}if(A.alignment&&A.alignment.field==="end"){x.addStyleClass("sapUiIntegrationEditorFieldAlignEnd")}if(A.alignment&&A.alignment.label==="end"){g.setLayoutData(new B({maxWidth:"calc(100% - "+L+"rem)",minWidth:"calc(100% - "+L+"rem)"}))}else{g.setLayoutData(N)}if(O.getItems().length>0){g.addStyleClass("sapUiIntegrationEditorItemLabelWithInfo");V=new c({items:[g,O]})}else{V=g}if(A&&A.position&&A.position==="field-label"){V.setLayoutData(j);k=new c({alignItems:"Start",justifyContent:"SpaceBetween",items:[V,x._settingsButton]});k.setLayoutData(new B({growFactor:q,maxWidth:q+"%"}));x.setLayoutData(new B({growFactor:J,maxWidth:J+"%"}));W=new c({alignItems:"Start",justifyContent:"SpaceBetween",items:[x,k]})}else{x.setLayoutData(j);k=new c({alignItems:"Start",justifyContent:"SpaceBetween",items:[x,x._settingsButton]});V.setLayoutData(new B({growFactor:q,maxWidth:q+"%"}));k.setLayoutData(new B({growFactor:J,maxWidth:J+"%"}));W=new c({alignItems:"Start",justifyContent:"SpaceBetween",items:[V,k]})}if(x._cols===1){if(d){if(p.length===2){v()}if(w.hint){var K=i._createHint(w.hint);var G=new _({items:[W,K.addStyleClass("sapUiIntegrationEditorHint")]});G.addStyleClass("col1");p.push(G)}else{W.addStyleClass("col1");p.push(W)}}else{if(u.length===2){m()}if(w.hint){var K=i._createHint(w.hint);var G=new _({items:[W,K.addStyleClass("sapUiIntegrationEditorHint")]});G.addStyleClass("col1");u.push(G)}else{W.addStyleClass("col1");u.push(W)}}}else if(d){v();d.addContent(W)}else{m();l.addContent(W)}g=null}else{var z;if(d){z=d.getContent().pop()}else{z=l.getContent().pop()}z.setLayoutData(N);if(O.getItems().length>0){z.addStyleClass("sapUiIntegrationEditorItemLabelWithInfo");V=new c({items:[z,O]})}else{V=z}V.setLayoutData(j);var X=new U({alignItems:"Start",justifyContent:"SpaceBetween",items:[V,x._settingsButton]});if(x._cols===1){var G=new _({items:[X,x]});if(w.hint){var K=i._createHint(w.hint);G.addItem(K.addStyleClass("sapUiIntegrationEditorHint"))}G.addStyleClass("col1");if(d){p.push(G)}else{u.push(G)}}else if(d){d.addContent(X);d.addContent(x)}else{l.addContent(X);l.addContent(x)}}if(d){d._subItems.push({settingspath:x.getConfiguration()._settingspath,itemId:x.getId()})}l._subItems.push({settingspath:x.getConfiguration()._settingspath,itemId:x.getId()})}if(C===o.length-1){if(d){v();if(d.isA("sap.m.Panel")){b(l,d)}else{I(l,d)}}m();y(l)}}else{if(C===0){f=x.getAggregation("_field");e.renderControl(x);x.addStyleClass("sapUiIntegrationEditorTranslationPanel");continue}if(x.isA("sap.ui.integration.editor.fields.GroupField")){var M=x.getAggregation("_field");if(d){if(M.isA("sap.m.Panel")&&d.isA("sap.m.Panel")){b(l,d)}else{I(l,d)}}var Y=0;if(M.isA("sap.m.Panel")){Y=M._level}else if(M.isA("sap.m.IconTabBar")){if(M.getItems().length>0&&M.getItems()[0]._level){Y=M.getItems()[0]._level}}if(Y==="1"){if(M.isA("sap.m.IconTabBar")){if(C!==o.length-1||C<o.length&&(o[C].isA("sap.m.IconTabBar")||o[C].isA("sap.m.Panel"))){var Z=l.getContent(),Q=false;if(Z.length>0){for(var $=0;$<Z.length;$++){if(Z[$].getAggregation("_field")&&Z[$].getAggregation("_field").isA("sap.m.IconTabBar")){Q=true}}}if(!Q){d=M.getItems()[0];M.removeItem(M.getItems()[0]);l.addContent(M.getParent())}else{d=M.getItems()[0]}}}else{d=M;d.addStyleClass("sapUiIntegrationEditorSubGroup")}}else{d=null;if(l&&l.getContent().length>0){f.addContent(l.getParent())}l=M;l.addStyleClass("sapUiIntegrationEditorSubGroup")}if(C===o.length-1){m();y(l)}continue}if(x.isA("sap.m.ToolbarSpacer")){continue}if(x.isA("sap.m.FormattedText")){continue}if(x.isA("sap.m.Label")){if(d){d.addContent(x)}else{l.addContent(x)}continue}if(x.isOrigLangField){h=x;continue}h.addStyleClass("sapUiIntegrationFieldTranslationText");var W=new c({items:[h,x]}).addStyleClass("notWrappingRow");if(d){d.addContent(W)}else{l.addContent(W)}if(C===o.length-1){if(d){if(d.isA("sap.m.Panel")){b(l,d)}else{I(l,d)}}f.addContent(l.getParent())}}}}e.close("div");if(s&&r==="right"){e.renderControl(n)}}e.close("div");if(i.isReady()&&s&&r==="bottom"){e.renderControl(n);e.close("div")}}}});Z.prototype.init=function(){this._ready=false;this._aFieldReadyPromise=[];this._oResourceBundle=t.getLibraryResourceBundle("sap.ui.integration");this._appliedLayerManifestChanges=[];this._currentLayerManifestChanges={};this._mDestinationDataProviders={};var e=new A({showIcon:false});e.addStyleClass("sapUiIntegrationEditorFieldMessageStrip");this.setAggregation("_messageStrip",e);X=e.getId();this.setLanguage(t.getConfiguration().getLanguage());this._oLimitedInterface=new s(this,["getParameters","resolveDestination","request","getModel"])};Z.prototype.getParameters=function(){if(!this._isManifestReady){I.error("The manifest is not ready. Consider using the 'manifestReady' event.","sap.ui.integration.editor.Editor");return null}var e=this._oEditorManifest.getProcessedParameters(),t={},i;for(i in e){t[i]=e[i].value}return t};Z.prototype.resolveDestination=function(e){return this._oDestinations.getUrl(e)};Z.prototype.isReady=function(){return this._ready};Z.prototype.hasPreview=function(){var e=this.getAggregation("_preview");if(e&&e.visible!==false){return true}return false};Z.prototype.flattenData=function(e,t,i,a){a=a||"";i=i||[];if(typeof e==="object"){if(!e[t]){for(var n in e){this.flattenData(e[n],t,i,a+"/"+n)}}else{if(e.type){i.push({path:e.pathvalue||a.substring(1),value:e.pathvalue||"{context>"+a.substring(1)+"/value}",object:e})}else{i.push({path:a.substring(1),object:e});for(var n in e){this.flattenData(e[n],t,i,a+"/"+n)}}}}return i};Z.prototype.setJson=function(e,t){this._ready=false;if(a(e,this._preIdOrSettings)){return this}this._preIdOrSettings=i(e,500);if(typeof e==="string"){try{e=JSON.parse(e)}catch(e){}}if(typeof e==="object"){if(e.manifestChanges){this._filterManifestChangesByLayer(e)}if(this._manifestModel){return}if(this._oDesigntimeInstance){this._oDesigntimeInstance.destroy()}if(e.host){this.setProperty("host",e.host)}if(e.baseUrl){this.setProperty("baseUrl",e.baseUrl)}this._appliedLayerManifestChanges=e.manifestChanges;this.createManifest(e,t)}};Z.prototype.createManifest=function(e,t){var i=this.getBaseUrl();var a={},s=e.manifest;this._isManifestReady=false;if(typeof s==="string"){a.manifestUrl=s;s=null}if(this._oEditorManifest){this._oEditorManifest.destroy()}this.destroyAggregation("_extension");var r=V.layers[this.getMode()];this._oEditorManifest=new R(this.getSection(),s,i,e.manifestChanges);this._oEditorManifest.load(a).then(function(){this._registerManifestModulePath();this._oInitialManifestModel=new o(this._oEditorManifest._oInitialJson);this.setProperty("json",this._oEditorManifest._oInitialJson,t);var e=this._oEditorManifest.oJson;var i=n({},e);this._beforeManifestModel=new o(i);if(r<V.layers["translation"]&&this._currentLayerManifestChanges){e=V.mergeDelta(e,[this._currentLayerManifestChanges],this.getSection())}this._manifestModel=new o(e);this._isManifestReady=true;this.fireManifestReady();var a=this._oEditorManifest.get("/sap.app/i18n");var s=this.getBaseUrl()+a;if(a&&M.getResourceBundleURL()!==s){M.setResourceBundleURL(s)}this._loadDefaultTranslations();this._createContextModel();if(this._oEditorManifest.getResourceBundle()){this._enhanceI18nModel(this._oEditorManifest.getResourceBundle())}return this._loadExtension().then(function(){this._initInternal()}.bind(this))}.bind(this))};Z.prototype._registerManifestModulePath=function(){if(!this._oEditorManifest){return}this._sAppId=this._oEditorManifest.get("/sap.app/id");if(this._sAppId){S.registerResourcePath(this._sAppId.replace(/\./g,"/"),this._oEditorManifest.getUrl()||"/")}else{I.error("sap.app/id entry in the manifest is mandatory")}};Z.prototype._loadDefaultTranslations=function(){if(this._defaultTranslationsLoaded){return}var e=t.getLibraryResourceBundle("sap.ui.integration");var i=new L({bundle:e});this.setModel(i,"i18n");this._oResourceBundle=e;this._defaultTranslationsLoaded=true};Z.prototype._enhanceI18nModel=function(e){var t=this.getModel("i18n");if(t.getResourceBundle().oUrlInfo.url!==e.oUrlInfo.url){t.enhance(e);this._oResourceBundle=t.getResourceBundle()}};Z.prototype._loadExtension=function(){var e=this._oEditorManifest.get(this.getConfigurationPath()+"/extension")||this._oEditorManifest.get("/"+this.getSection()+"/extension"),t;if(!e){I.info("Extension is not defined in manifest, do not load it.");return new Promise(function(e,t){e()})}if(e.startsWith(Y)){t=e.replace(Y,"")}else{t=this._sAppId.replace(/\./g,"/")+"/"+e}return new Promise(function(i,a){sap.ui.require([t],function(e){var t=new e;t._setEditor(this,this._oLimitedInterface);this.setAggregation("_extension",t);i()}.bind(this),function(t){I.error("Failed to load "+e+". Check if the path is correct. Reason: "+t);a(t)})}.bind(this))};Z.prototype.request=function(e){return this._oDataProviderFactory.create({request:e}).setAllowCustomDataType(true).getData()};Z.prototype.initDestinations=function(e){var t=this.getHostInstance();if(e&&!t){I.error("Host with id '"+e+"' is not available during editor initialization. It must be available for host specific features to work.","Make sure that the host already exists, before assigning it to the editor.","sap.ui.integration.editor.Editor")}if(this._oDestinations){this._oDestinations.setHost(t)}else{var i=this.getConfigurationPath();this._oDestinations=new f({host:t,manifestConfig:this._manifestModel.getProperty(i+"/destinations")})}};Z.prototype.initDataProviderFactory=function(){if(this._oDataProviderFactory){this._oDataProviderFactory.destroy()}var e=this.getAggregation("_extension");this._oDataProviderFactory=new g({destinations:this._oDestinations,extension:e,editor:this})};Z.prototype.getRuntimeUrl=function(e){var t=this._sAppId,i,a=e&&e.trim().replace(/^\//,"");if(t===null){I.error("The manifest is not ready so the URL can not be resolved. Consider using the 'manifestReady' event.","sap.ui.integration.editor.Editor");return null}if(!t||e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")){return e}i=t.replace(/\./g,"/");return sap.ui.require.toUrl(i)+"/"+a};Z.prototype.getBindingNamespaces=function(){var e={},t=this.getAggregation("_extension");if(t){e.extension={formatters:t.getFormatters()}}return e};Z.prototype.getHostInstance=function(){var e=this.getHost();if(!e){return null}return t.byId(e)};Z.prototype.setLanguage=function(e,t){if(!e||typeof e!=="string"){return this}this._language=e.replaceAll("_","-");if(this.getLanguage()!=e){this._loadDefaultTranslations()}this.setProperty("language",e,t);if(!Z._languages[this._language]){this._language=this._language.split("-")[0]}if(!Z._languages[this._language]){I.warning("The language: "+e+" is currently unknown, some UI controls might show "+e+" instead of the language name.")}return this};Z.prototype.onAfterRendering=function(){if(this.getDomRef()){this._iZIndex=q(this.getDomRef());C.setInitialZIndex(this._iZIndex)}};Z.prototype._filterManifestChangesByLayer=function(e){var i=[],a=this,s={},r={":layer":V.layers[this.getMode()]},o=V.layers[a.getMode()];e.manifestChanges.forEach(function(e){var l=e.hasOwnProperty(":layer")?e[":layer"]:1e3;if(l===V.layers["translation"]){var d=a._language;if(d===""){d=t.getConfiguration().getLanguage().replaceAll("_","-")}var f={texts:{}};delete e.texts;f.texts[d]={};Object.keys(e).forEach(function(t){if(t.charAt(0)==="/"){f.texts[d][t]=e[t]}else{f[t]=e[t]}});e=f}if(l<o){i.push(e);s=n(s,e)}else if(l===o){r=e}});e.manifestChanges=i;this._currentLayerManifestChanges=r;this._beforeLayerManifestChanges=s};Z.prototype._initInternal=function(){var e=this;var t=e.getConfigurationPath();var i=e._oEditorManifest.get(t+"/editor");if(!i){i=e._oEditorManifest.get("/"+e.getSection()+"/designtime")}var a=e._manifestModel.getProperty(t),n,s=e.getDesigntime();if(s){if(typeof s==="function"){n=new Promise(function(t,i){var a=new s;e._applyDesigntimeDefaults(a.getSettings());t(a)})}else if(typeof s==="object"){n=new Promise(function(t,i){sap.ui.require(["sap/ui/integration/Designtime"],function(i){var a=i.extend("test.Designtime");a.prototype.create=function(){return s};var n=new a;e._applyDesigntimeDefaults(n.getSettings());t(n)})})}}else if(i){n=e.loadDesigntime().then(function(t){e._applyDesigntimeDefaults(t.getSettings());return t})}else{n=Promise.resolve(e._createParameterDesigntime(a))}n.then(function(t){e._oDesigntimeInstance=t;e.initDestinations();e.initDataProviderFactory();if(e.getMode()==="admin"||e.getMode()==="all"){e._addDestinationSettings(a,e._oDesigntimeInstance)}e._settingsModel=new o(e._oDesigntimeInstance.getSettings());e.setModel(e._settingsModel,"currentSettings");e.setModel(e._settingsModel,"items");return e._loadValueContextInDesigntime()}).then(function(){e._applyDesigntimeLayers();return e._requestExtensionData()}).then(function(){e._requireFields().then(function(){e._startEditor()})})};Z.prototype.loadDesigntime=function(){if(this._oDesigntime){return Promise.resolve(this._oDesigntime)}if(!this._oEditorManifest){return new Promise(function(e,t){this.attachManifestReady(function(){this.loadDesigntime().then(e,t)}.bind(this))}.bind(this))}if(!this._sAppId){return Promise.reject("App id not maintained")}return new Promise(function(e,t){var i=this._oEditorManifest.get(this.getConfigurationPath()+"/editor");if(!i){i=this._oEditorManifest.get("/"+this.getSection()+"/designtime")}var a=this._sAppId.replace(/\./g,"/")+"/"+i;if(a){sap.ui.require([a],function(t){t=new t;t._readyPromise(this._oLimitedInterface,this).then(function(){this._oDesigntime=t;e(t)}.bind(this))}.bind(this),function(){t({error:a+" not found"})})}else{t()}}.bind(this))};Z.prototype.getConfigurationPath=function(){return"/"+this.getSection()+"/configuration"};Z.prototype.getCurrentSettings=function(){var e=this._settingsModel.getProperty("/"),t={},s;if(e&&e.form&&e.form.items){for(var r in e.form.items){var o=e.form.items[r];if(o.editable&&o.visible){if(this.getMode()!=="translation"){if(o.translatable&&!o._changed&&o._translatedPlaceholder&&!this._currentLayerManifestChanges[o.manifestpath]){}else{if(o.valueItems){t[o.manifestpath.substring(0,o.manifestpath.lastIndexOf("/"))+"/valueItems"]=o.valueItems}if(o.valueTokens){t[o.manifestpath.substring(0,o.manifestpath.lastIndexOf("/"))+"/valueTokens"]=o.valueTokens}switch(o.type){case"string":if(!o.translatable){t[o.manifestpath]=o.value}else if(o._hasDynamicValue){t[o.manifestpath]=o.value;this.deleteAllTranslationValuesInTexts(o.manifestpath)}else if(o._beforeValue&&(o._beforeValue.indexOf("{context>")===0||o._beforeValue.indexOf("{{parameters")===0)){t[o.manifestpath]=o.value}break;case"group":break;case"object":case"object[]":if(Array.isArray(o.value)){var l=i(o.value,500);l=l.sort(function(e,t){if(!e._dt||!e._dt._position||!t._dt||!t._dt._position){return 0}return e._dt._position-t._dt._position});for(var d=0;d<l.length;d++){var f=l[d];f._dt=f._dt||{};f._dt._position=d+1}t[o.manifestpath]=l}break;default:t[o.manifestpath]=o.value}}}else if(o.translatable&&o.value){t[o.manifestpath]=o.value}if(o._next&&this.getAllowSettings()){var g=typeof o.visibleToUser==="undefined"?true:o.visibleToUser;var u=typeof o.editableToUser==="undefined"?true:o.editableToUser;if(o._next.visible===!g){s=s||{};s[o._settingspath+"/visible"]=o._next.visible}if(o._next.editable===!u){s=s||{};s[o._settingspath+"/editable"]=o._next.editable}if(o._next.pageAdminValues){s=s||{};s[o._settingspath+"/pageAdminValues"]=o._next.pageAdminValues}if(typeof o._next.allowDynamicValues==="boolean"&&this.getAllowDynamicValues()){s=s||{};s[o._settingspath+"/allowDynamicValues"]=o._next.allowDynamicValues}}}}}if(this.getMode()==="translation"){delete t.texts}else if(e.texts){t.texts=i(e.texts,500)||{};for(var p in t.texts){for(var h in t.texts[p]){if(typeof t.texts[p][h]==="object"){var c=t[h];if(!c||typeof c!=="object"||a(c,{})||a(c,[])){delete t.texts[p][h]}else if(Array.isArray(c)){var _=c.map(function(e){return e._dt?e._dt._uuid||"":""});for(var m in t.texts[p][h]){if(!O(_,m)){delete t.texts[p][h][m]}}}else{var v=c._dt?c._dt._uuid||"":"";if(v!==""){var y=t.texts[p][h][v];if(!y){delete t.texts[p][h]}else{t.texts[p][h]={};t.texts[p][h][v]=y}}else{delete t.texts[p][h]}}}}if(a(t.texts[p],{})){delete t.texts[p]}}if(a(t.texts,{})){delete t.texts}}t[":layer"]=V.layers[this.getMode()];t[":errors"]=this.checkCurrentSettings()[":errors"];if(s){t[":designtime"]=s}if(e[":designtime"]){t[":designtime"]=n(t[":designtime"],e[":designtime"])}return t};Z.prototype.checkCurrentSettings=function(){var e=this._settingsModel.getProperty("/"),t={};if(e&&e.form&&e.form.items){for(var i in e.form.items){var a=e.form.items[i];if(a.editable){if((a.isValid||a.required)&&!(this.getMode()==="translation"&&a.translatable)){if(a.isValid){t[a.manifestpath]=a.isValid(a)}t[a.manifestpath]=true;var n=a.value;var s=a.type;if(s==="string"&&n===""){t[a.manifestpath]=n}if((s==="date"||s==="datetime")&&isNaN(Date.parse(n))){t[a.manifestpath]=n}if(s==="integer"){if(isNaN(parseInt(n))){t[a.manifestpath]=n}else if(n<a.min||n>a.max){t[a.manifestpath]=n}}if(s==="number"){if(isNaN(parseFloat(n))){t[a.manifestpath]=n}else if(n<a.min||n>a.max){t[a.manifestpath]=n}}}}}t[":layer"]=V.layers[this.getMode()]}t[":errors"]=Object.values(t).indexOf(false)>-1;return t};Z.prototype._createContextModel=function(){var e=this.getHostInstance(),t=new o({}),i=new o([]);this.setModel(t,"context");this.setModel(i,"contextflat");t._aPendingPromises=[];i._getPathObject=function(e){var t=this.getData().filter(function(t){if(t.path===e){return true}});return t.length?t[0]:null};i._getValueObject=function(e){var t=this.getData()||[];t=t.filter(function(t){if(t.value===e||t.object.value===e){return true}});return t.length?t[0]:null};var a=new Promise(function(t,i){if(e&&e.getContext){var a=false;setTimeout(function(){if(a){return}I.error("Editor context could not be determined with "+G+".");a=true;t({})},G);e.getContext().then(function(e){if(a){I.error("Editor context returned after more than "+G+". Context is ignored.")}a=true;t(e||{})})}else{t({})}});a.then(function(e){var a=this._mergeContextData(e);t.setData(a);i.setData(this.flattenData(a,"label"))}.bind(this));t.getProperty=function(t,i){if(t&&!t.startsWith("/")&&!i){t="/"+t}var a=this.resolve(t,i),n;if(a.endsWith("/value")){this._mValues=this._mValues||{};if(this._mValues.hasOwnProperty(a)){return this._mValues[a]}this._mValues[a]=undefined;n=d.timeoutPromise(e.getContextValue(a.substring(1)));n=n.then(function(e){this._mValues[a]=e;this.checkUpdate()}.bind(this)).catch(function(e){this._mValues[a]=null;this.checkUpdate();I.error("Path "+a+" could not be resolved. Reason: "+e)}.bind(this));this._aPendingPromises.push(n);return undefined}else{return o.prototype.getProperty.apply(this,arguments)}}};Z.prototype._mergeContextData=function(e){var t={};t["empty"]=Z._contextEntries.empty;for(var i in e){t[i]=e[i]}t["editor.internal"]=Z._contextEntries["editor.internal"];return t};Z.prototype._loadValueContextInDesigntime=function(){var e=this.getModel("context");var t=this._oDesigntimeInstance.getSettings();var i;if(t&&t.form&&t.form.items){i=JSON.stringify(t.form.items)}if(i){var a=/\{context\>[\/?\w+.]+\}/g;var n=i.match(a);var s;if(n&&n.length>0){n=n.filter(function(e){return e.endsWith("value}")});s=n.map(function(e){return e.substring("{context>".length,e.length-1)});s.forEach(function(t){e.getProperty(t)});return Promise.all(e._aPendingPromises).then(function(){e._aPendingPromises=[]})}}return Promise.resolve()};Z.fieldMap={string:"sap/ui/integration/editor/fields/StringField","string[]":"sap/ui/integration/editor/fields/StringListField",integer:"sap/ui/integration/editor/fields/IntegerField",number:"sap/ui/integration/editor/fields/NumberField",boolean:"sap/ui/integration/editor/fields/BooleanField",date:"sap/ui/integration/editor/fields/DateField",datetime:"sap/ui/integration/editor/fields/DateTimeField",object:"sap/ui/integration/editor/fields/ObjectField","object[]":"sap/ui/integration/editor/fields/ObjectListField",destination:"sap/ui/integration/editor/fields/DestinationField",group:"sap/ui/integration/editor/fields/GroupField"};Z.Fields=null;Z.prototype._requireFields=function(){if(Z.Fields){return Promise.resolve()}return new Promise(function(e){sap.ui.require(Object.values(Z.fieldMap),function(){Z.Fields={};for(var t in Z.fieldMap){Z.Fields[t]=arguments[Object.keys(Z.fieldMap).indexOf(t)]}e()})})};Z.prototype._createDescription=function(e){var t=new m({src:"sap-icon://message-information",color:"Marker",size:"12px",useIconTooltip:false,visible:e.visible,objectBindings:{currentSettings:{path:"currentSettings>"+e._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});t.addStyleClass("sapUiIntegrationEditorDescriptionIcon");t.onmouseover=function(t){t.addDependent(this._getPopover());this._getPopover().getContent()[0].applySettings({text:e.description});this._getPopover().openBy(t)}.bind(this,t);t.onmouseout=function(e){this._getPopover().close();e.removeDependent(this._getPopover())}.bind(this,t);return t};Z.prototype._createMessageIcon=function(e){var t=e.getConfiguration();var i=new m({src:"sap-icon://message-information",size:"12px",visible:t.visible,useIconTooltip:false,objectBindings:{currentSettings:{path:"currentSettings>"+t._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});i.onmouseover=function(e){e._showMessage()}.bind(this,e);i.onmouseout=function(e){e._hideMessage()}.bind(this,e);i.addStyleClass("sapUiIntegrationEditorMessageIcon");return i};Z.prototype._createLabel=function(e){var t=new u({text:e.label,tooltip:e.tooltip||e.label,required:e.required&&e.editable||false,visible:e.visible,objectBindings:{currentSettings:{path:"currentSettings>"+e._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});t._cols=e.cols||2;if(e.layout){t._layout=e.layout}t._sOriginalType=e.type;return t};Z.prototype._createSettingsButton=function(e){var t=e.getConfiguration();var i=new j({icon:"{= ${currentSettings>_hasDynamicValue} ? 'sap-icon://display-more' : 'sap-icon://enter-more'}",type:"Transparent",tooltip:this._oResourceBundle.getText("EDITOR_FIELD_MORE_SETTINGS"),press:function(t){this._openSettingsDialog(200,t.oSource,e)}.bind(this),visible:t.visible,objectBindings:{currentSettings:{path:"currentSettings>"+t._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});return i};Z.prototype._getSettingsPanel=function(e){if(!e._oSettingsPanel){e._oSettingsPanel=new F}return e._oSettingsPanel};Z.prototype._openSettingsDialog=function(e,t,i){var a=this._getSettingsPanel(i);window.setTimeout(function(){a.setConfiguration(i.getConfiguration());var e=this.getAggregation("_preview");a.open(t,t,e,i.getHost(),i,i._applySettings.bind(i),i._cancelSettings.bind(i))}.bind(this),e||600)};Z.prototype._getPopover=function(){if(this._oPopover){return this._oPopover}var e=new b({text:""});e.addStyleClass("sapUiTinyMargin sapUiIntegrationEditorDescriptionText");this._oPopover=new v({showHeader:false,content:[e]});this._oPopover.addStyleClass("sapUiIntegrationEditorPopover");return this._oPopover};Z.prototype._createField=function(e){var t=new Z.Fields[e.type]({configuration:e,mode:this.getMode(),host:this.getHostInstance(),objectBindings:{currentSettings:{path:"currentSettings>"+e._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}},visible:e.visible});this._aFieldReadyPromise.push(t._readyPromise.then(function(){if(e.type!=="group"){if(e.require||e.validation||e.validations&&e.validations.length>0||e.values&&e.values.data&&!e.values.data.json){var i=this._createMessageIcon(t);t.setAssociation("_messageIcon",i)}if(e.description&&this.getMode()!=="translation"){t._descriptionIcon=this._createDescription(e)}if(e._changeDynamicValues){t._settingsButton=this._createSettingsButton(t);t._applyButtonStyles()}}}.bind(this)));if(e.type!=="group"){t._oValueBinding=this._settingsModel.bindProperty(e._settingspath+"/value");t._oValueBinding.attachChange(function(){if(!this._bIgnoreUpdates){e._changed=true;if(e._dependentFields&&e._dependentFields.length>0){this._updateEditor(e._dependentFields)}this._updatePreview()}}.bind(this));if(t.isFilterBackend()){var i=this._settingsModel.bindProperty(e._settingspath+"/suggestValue");i.attachChange(function(){var i=n({},e);i._cancel=false;this._addValueListModel(i,t)}.bind(this))}if(e.values){if(e.values.metadata){this._addMetadataModel(e,t)}if(e.type==="string[]"&&t.isFilterBackend()&&e.visualization&&e.visualization.type==="MultiInput"){t.setModel(new o({}),undefined)}else{this._addValueListModel(e,t)}}this._createDependentFields(e,t);t._oDataProviderFactory=this._oDataProviderFactory}t._cols=e.cols||2;if(e.layout){t._layout=e.layout}t.setAssociation("_messageStrip",X);return t};Z.prototype._updateEditor=function(e){if(this._ready){if(e.length===0){return}for(var t=0;t<e.length;t++){var i=e[t];i.config._cancel=true}if(!this._oDataProviderFactory){return}this._bIgnoreUpdates=true;for(var t=0;t<e.length;t++){var i=e[t];i.config._cancel=false;this._addValueListModel(i.config,i.field,500*t)}this._bIgnoreUpdates=false}};Z.prototype._updatePreview=function(){var e=this.getAggregation("_preview");if(e&&e.update){e.update()}};Z.prototype._requestData=function(e,t){var i=this._oDataProviderFactory.create(e.values.data);i.bindObject({path:"items>/form/items"});i.bindObject({path:"currentSettings>"+e._settingspath});i.bindObject({path:"context>/"});var a=i.getData();a.then(function(i){if(e._cancel){e._values=[];this._settingsModel.setProperty(e._settingspath+"/_loading",false);return}var a=e.values.data.path,n,s=[];if(a&&a!=="/"){if(a.startsWith("/")){a=a.substring(1)}if(a.endsWith("/")){a=a.substring(0,a.length-1)}n=a.split("/");s=D.get(n,i)}else{s=i}if(e.type==="object"||e.type==="object[]"){s.forEach(function(e){e._dt={_editable:false}})}if(this.getMode()==="content"&&e.pageAdminValues&&e.pageAdminValues.length>0){var r=e.pageAdminValues,o=e.value,l=e.valueItems,d=[],f=[],g=[];this.prepareFieldsInKey(e);if(r.length>0){for(var u=0;u<r.length;u++){for(var p=0;p<s.length;p++){var h=this.getKeyFromItem(s[p]);if(r[u]===h){d.push(s[p])}}if(Array.isArray(o)){for(var c=0;c<o.length;c++){if(r[u]===o[c]){f.push(o[c])}}for(var _=0;_<l.length;_++){var m=this.getKeyFromItem(l[_]);if(r[u]===m){g.push(l[_])}}}}if(f.length>0){e.value=[];e.value=f}if(g.length>0){e.valueItems=[];e.valueItems=g}}if(e.values.data.path&&e.values.data.path!=="/"){delete i[n];D.set(n,d,i)}else{i=[];i=d}}var v=t.getConfiguration();if(e.type==="string[]"){var y=e.values.data.path;if(y&&y!=="/"){if(y.startsWith("/")){y=y.substring(1)}if(y.endsWith("/")){y=y.substring(0,y.length-1)}var n=y.split("/");var b=D.get(n,i);if(Array.isArray(b)){for(var I in b){var C=t.getKeyFromItem(b[I]);if(Array.isArray(v.value)&&v.value.length>0&&O(v.value,C)){b[I].Selected=this._oResourceBundle.getText("EDITOR_ITEM_SELECTED")}else{b[I].Selected=this._oResourceBundle.getText("EDITOR_ITEM_UNSELECTED")}}D.set(n,b,i)}}else if(Array.isArray(i)){for(var I in i){var C=t.getKeyFromItem(i[I]);if(Array.isArray(v.value)&&v.value.length>0&&O(v.value,C)){i[I].Selected=this._oResourceBundle.getText("EDITOR_ITEM_SELECTED")}else{i[I].Selected=this._oResourceBundle.getText("EDITOR_ITEM_UNSELECTED")}}}}e._values=i;var x=t.getModel();x.setData(i);x.checkUpdate(true);x.firePropertyChange();if(e.type==="object"||e.type==="object[]"){t.mergeValueWithRequestResult(s)}this._settingsModel.setProperty(e._settingspath+"/_loading",false);t._hideValueState(true,true)}.bind(this)).catch(function(i){var a=this._oResourceBundle.getText("EDITOR_BAD_REQUEST");if(Array.isArray(i)&&i.length>0){a=i[0];var n=i[1];if(n){var s;if(n.responseJSON){s=n.responseJSON.error}else if(n.responseText){if(d.isJson(n.responseText)){s=JSON.parse(n.responseText).error}else{a=n.responseText}}if(s){a=(s.code||s.errorCode||n.status)+": "+s.message}}}else if(typeof i==="string"){a=i}var r=t.getModel();r.firePropertyChange();if(e.type==="object"||e.type==="object[]"){t.mergeValueWithRequestResult()}this._settingsModel.setProperty(e._settingspath+"/_loading",false);t._showValueState("error",a,true)}.bind(this))};Z.prototype._requestExtensionData=function(){var e=this.getAggregation("_extension");if(!e){I.info("Extension is not defined or created, do not load data of it.");return new Promise(function(e,t){e()})}var t=false;var i={};var a=this._oEditorManifest.get(this.getConfigurationPath()+"/data/extension");var n;if(a){t=true;n=this._oEditorManifest.get(this.getConfigurationPath()+"/data/path");i={extension:a};if(n){i.path=n}}else{a=this._oEditorManifest.get("/"+this.getSection()+"/data/extension");if(a){t=true;n=this._oEditorManifest.get("/"+this.getSection()+"/data/path");i={extension:a};if(n){i.path=n}}}if(!t){I.info("Extension data is not defined in manifest, do not load data of it.");return new Promise(function(e,t){e()})}var s=this._oDataProviderFactory.create(i);var r=s.getData();return r.then(function(t){var i=e.getModel();if(!i){i=new o(t||{});e.setModel(i,undefined)}else{i.setData(t)}i.checkUpdate(true)}).catch(function(e){var t=this._oResourceBundle.getText("EDITOR_BAD_REQUEST");if(Array.isArray(e)&&e.length>0){t=e[0];var i=e[1];if(i){var a;if(i.responseJSON){a=i.responseJSON.error}else if(i.responseText){if(d.isJson(i.responseText)){a=JSON.parse(i.responseText).error}else{t=i.responseText}}if(a){t=(a.code||a.errorCode||i.status)+": "+a.message}}}else if(typeof e==="string"){t=e}I.error("Request extension data failed, "+t)}.bind(this))};Z.prototype._addValueListModel=function(e,t,i){if(e.values){var a;if(e.values.data){if(this._oDataProviderFactory){a=t.getModel();if(!a){a=new o({});t.setModel(a,undefined)}this._settingsModel.setProperty(e._settingspath+"/_loading",true);if(!i){this._requestData(e,t)}else{setTimeout(function(){this._requestData(e,t)}.bind(this),i)}}t.bindObject({path:e.values.data.path||"/"})}else if(this.getAggregation("_extension")){a=this.getAggregation("_extension").getModel();if(a&&this.getMode()==="content"&&e.pageAdminValues&&e.pageAdminValues.length>0){this.prepareFieldsInKey(e);var n=e.values.path;if(n.length>1){n=n.substring(1)}var s=D.get([n],a.getData()),r=e.pageAdminValues,l=[];for(var d=0;d<r.length;d++){for(var f=0;f<s.length;f++){var g=this.getKeyFromItem(s[f]);if(r[d]===g){l.push(s[f])}}}delete s[n];D.set(n,l,s);a.setData(s)}t.bindObject({path:e.values.path||"/"});t.setModel(a,undefined)}}};Z.prototype._addMetadataModel=function(e,t){if(e.values&&e.values.metadata){var i={synchronizationMode:"None"};i=n(i,e.values.metadata.request);var a={url:i.serviceUrl};var s=Promise.resolve(a);if(this._oDestinations){s=this._oDestinations.process(a)}s.then(function(e){if(!e.url.endsWith("/")){e.url=e.url+"/"}i.serviceUrl=e.url;var a=new l(i);a.oMetaModel.fetchData().then(function(e){t.setModel(new o(e),"meta")})})}};Z.prototype._createDependentFields=function(e,t){if(e.values){var i=JSON.stringify(e.values.data);if(i){var a=/parameters\.([^\}\}]+)|destinations\.([^\}\}]+)|\{items\>[\/?\w+]+\}/g,s=i.match(a);if(s){for(var r=0;r<s.length;r++){var o="/value";var l=this.getConfigurationPath();if(s[r].indexOf("destinations.")===0||s[r].indexOf("parameters.")===0){if(s[r].indexOf("destinations.")===0){o="/name"}l=l+"/"+s[r].replace(".","/")+o}else if(s[r].indexOf("{items>")===0){l=l+"/parameters/"+s[r].slice(7,-1)}var d=this._mItemsByPaths[l];if(d){if(d._settingspath===e._settingspath){e=n({},e)}d._dependentFields=d._dependentFields||[];d._dependentFields.push({field:t,config:e})}}}}}};Z.prototype.getBeforeLayerChange=function(e){if(!this._beforeLayerManifestChanges){this._beforeLayerManifestChanges={}}return this._beforeLayerManifestChanges[e]};Z.prototype.getTranslationValueInTexts=function(e,t){var i="/texts/"+e;var a=this._settingsModel.getProperty(i)||{};return a[t]};Z.prototype.deleteAllTranslationValuesInTexts=function(e){var t=this;var a=t._settingsModel.getData();if(!a||!a.texts){return}var n="/texts";var s=i(a.texts,500);for(var r in s){if(s[r][e]){delete s[r][e]}}this._settingsModel.setProperty(n,s)};Z.prototype._addItem=function(e){var a=this.getMode();if(this.getAllowDynamicValues()===false||!e.allowDynamicValues){e.allowDynamicValues=false}if(this.getAllowSettings()===false){e.allowSettings=false}e.__cols=e.cols||2;if(e.visible===false||!e.translatable&&a==="translation"&&e.type!=="group"){return}if(e.type==="group"){e.expanded=e.expanded!==false;var n=this._createField(e);this.addAggregation("_formContent",n);if(e.hint){this._addHint(e.hint)}return}if(e.type==="separator"){var s=new w;this.addAggregation("_formContent",s);return}var r=null;var o=t.getConfiguration().getLanguage().replaceAll("_","-");if(a==="translation"){if(e.type!=="string"){return}if(typeof e.value==="string"&&e.value.indexOf("{")===0||typeof e.values!=="undefined"){return}e._language={value:e.value};e.cols=1;delete e.values;var l=i(e,500);l._settingspath+="/_language";l.editable=false;l.required=false;if(!Z._languages[o]&&o.indexOf("-")>-1){o=o.substring(0,o.indexOf("-"))}if(Z._languages[o]){var d=this.getTranslationValueInTexts(o,e.manifestpath);if(d){l.value=d}}if(!l.value){l.value="-"}var f=this._createLabel(l);this.addAggregation("_formContent",f);var g=this._createField(l);g.isOrigLangField=true;this.addAggregation("_formContent",g);e.editable=e.visible=e.translatable;o=this._language;if(!this.getBeforeLayerChange(e.manifestpath)){e.value=e._translatedValue||""}var d=this.getTranslationValueInTexts(o,e.manifestpath);if(d){e.value=d}e.label=e._translatedLabel||"";e.required=false;var u=this._createField(e);var p={onAfterRendering:function(e){var t=document.getElementById(u.getId());t.setAttribute("aria-label",f)}};u.addEventDelegate(p);this.addAggregation("_formContent",u)}else{r=this._createLabel(e);this.addAggregation("_formContent",r);var h=this.getBeforeLayerChange(e.manifestpath);if(h){e._beforeLayerChange=h}if(this._currentLayerManifestChanges&&this._currentLayerManifestChanges[e.manifestpath]){e.value=this._currentLayerManifestChanges[e.manifestpath];e._beforeLayerChange=e.value}if(e.type==="string"){o=this._language;var d=this.getTranslationValueInTexts(o,e.manifestpath);if(d){e.value=d}}var n=this._createField(e);var c={onAfterRendering:function(e){var t=document.getElementById(n.getId());t.setAttribute("aria-label",r)}};n.addEventDelegate(c);this.addAggregation("_formContent",n)}if(e.hint&&(!e.cols||e.cols===2)){this._addHint(e.hint)}e.cols=e.__cols;delete e.__cols};Z.prototype._createHint=function(e){e=e.replace(/<a href/g,"<a target='blank' href");var t=new E({htmlText:e});return t};Z.prototype._addHint=function(e){var t=this._createHint(e);this.addAggregation("_formContent",t)};Z.prototype._getCurrentLanguageSpecificText=function(e){var t=this._language;if(this._oTranslationBundle){var i=this._oTranslationBundle.getText(e,[],true);if(i===undefined){return""}return i}if(!t){return""}var a=this._oEditorManifest.get("/sap.app/i18n");if(!a){return""}if(typeof a==="string"){var n=[t];if(t.indexOf("-")>-1){n.push(t.substring(0,t.indexOf("-")))}if(!O(n,"en")){n.push("en")}this._oTranslationBundle=x.create({url:this.getBaseUrl()+a,async:false,locale:t,supportedLocales:n,fallbackLocale:"en"});return this._getCurrentLanguageSpecificText(e)}};Z.prototype._startEditor=function(){var e=this.getAggregation("_formContent");if(e&&e.length>0){this.destroyAggregation("_formContent")}var i=this._settingsModel.getData();var a;if(i.form&&i.form.items){a=i.form.items;var s=false;for(var r in a){var o=a[r];if(o.type==="group"&&o.level!=="1"){break}else if(o.visible){s=true;break}}if(s){a=n({generalPanel:{type:"group",translatable:true,expanded:true,label:this._oResourceBundle.getText("EDITOR_PARAMETERS_GENERALSETTINGS"),_settingspath:"/form/items/generalPanel"}},a);i.form.items=a;this._settingsModel.setData(i)}}var l=this._settingsModel.getProperty("/");this._mItemsByPaths={};if(l.form&&l.form.items){a=l.form.items;var d=this._language||this.getLanguage()||t.getConfiguration().getLanguage().replaceAll("_","-");if(this.getMode()==="translation"){this._addItem({type:"group",translatable:true,expandable:false,expanded:true,label:this._oResourceBundle.getText("EDITOR_ORIGINALLANG")+": "+Z._languages[d]})}for(var f in a){var o=a[f];if(o){o.label=o.label||f;var g;if(o.manifestpath){this._mItemsByPaths[o.manifestpath]=o;if(this.getMode()!=="translation"){g=this._currentLayerManifestChanges[o.manifestpath]}}o._changed=g!==undefined&&this.getMode()!=="translation";if(o.values){o.translatable=false}o._beforeValue=this._getManifestBeforelValue(o.manifestpath);if(o.type==="string"){o._translatedDefaultPlaceholder=this._getManifestDefaultValue(o.manifestpath);var u=null,p=o._translatedDefaultPlaceholder;if(p){if(this._isValueWithParameterSyntax(p)){o.translatable=false}if(this._isValueWithHandlebarsTranslation(p)){u=p.substring(2,p.length-2)}else if(p.startsWith("{i18n>")){u=p.substring(6,p.length-1)}if(u){o.translatable=true}else if(o.translatable&&this.getMode()==="translation"&&!this.getBeforeLayerChange(o.manifestpath)){o._translatedValue=o._translatedDefaultPlaceholder;o.value=o._translatedValue}}o._translatedPlaceholder=o._beforeValue;p=o._translatedPlaceholder;if(p){if(this._isValueWithParameterSyntax(p)){o.translatable=false}if(this._isValueWithHandlebarsTranslation(p)){u=p.substring(2,p.length-2)}else if(p.startsWith("{i18n>")){u=p.substring(6,p.length-1)}}if(o.value&&(o.value.indexOf("{context>")===0||o.value.indexOf("{{parameters")===0)){this.deleteAllTranslationValuesInTexts(o.manifestpath);u=null}var h=this.getTranslationValueInTexts(d,o.manifestpath);if(u){o._translatedValue=this.getModel("i18n").getResourceBundle().getText(u);if(o._changed){o.value=g}else if(o.value===o._translatedDefaultPlaceholder){o.value=o._translatedValue}if(this.getMode()==="translation"){var c=this._getCurrentLanguageSpecificText(u);if(c!==""){o._translatedValue=c}}else if(h){o.value=h}}else if(this.getMode()!=="translation"&&o.translatable&&h){o.value=h}if(this.getMode()==="translation"){if(this._isValueWithHandlebarsTranslation(o.label)){o._translatedLabel=this._getCurrentLanguageSpecificText(o.label.substring(2,o.label.length-2),true)}else if(o.label&&o.label.startsWith("{i18n>")){o._translatedLabel=this._getCurrentLanguageSpecificText(o.label.substring(6,o.label.length-1),true)}}}else if(o.type==="string[]"){var _=o.manifestpath.substring(0,o.manifestpath.lastIndexOf("/"))+"/valueItems";var m=this._manifestModel.getProperty(_);if(m){o.valueItems=m}var v=o.manifestpath.substring(0,o.manifestpath.lastIndexOf("/"))+"/valueTokens";var y=this._manifestModel.getProperty(v);if(y){o.valueTokens=y}}else if(typeof o.value==="object"&&o.type==="object"){if(typeof o.value._editable==="boolean"){o.value._dt={_editable:o.value._editable};delete o.value._editable}}else if(Array.isArray(o.value)&&o.value.length>0&&o.type==="object[]"){o.value.forEach(function(e){if(typeof e._editable==="boolean"){e._dt={_editable:e._editable};delete e._editable}})}if(o.label&&this._isValueWithHandlebarsTranslation(o.label)){var b=o.label.substring(2,o.label.length-2);if(b){o.label=this.getModel("i18n").getResourceBundle().getText(b)}}}}}for(var f in a){var o=a[f];this._addItem(o)}var I=this._settingsModel.getProperty("/form/height")!==undefined?this._settingsModel.getProperty("/form/height"):"350px",C=this._settingsModel.getProperty("/form/width")!==undefined?this._settingsModel.getProperty("/form/width"):"100%";if(this.getProperty("height")===""){this.setProperty("height",I);document.body.style.setProperty("--sapUiIntegrationEditorFormHeight",I)}if(this.getProperty("width")===""){this.setProperty("width",C);document.body.style.setProperty("--sapUiIntegrationEditorFormWidth",C)}if(this.getMode()!=="translation"){this._initPreview().then(function(){Promise.all(this._aFieldReadyPromise).then(function(){this._ready=true;this.fireReady()}.bind(this))}.bind(this))}else{Promise.all(this._aFieldReadyPromise).then(function(){this._ready=true;this.fireReady()}.bind(this))}};Z.prototype.setHeight=function(e){if(e){this.setProperty("height",e);document.body.style.setProperty("--sapUiIntegrationEditorFormHeight",e)}};Z.prototype.setWidth=function(e){if(e){this.setProperty("width",e);document.body.style.setProperty("--sapUiIntegrationEditorFormWidth",e)}};Z.prototype.destroy=function(){if(this._oPopover){this._oPopover.destroy()}if(this._oDesigntimeInstance){this._oDesigntimeInstance.destroy()}var i=this.getAggregation("_preview");if(i&&i.destroy){i.destroy()}var a=t.byId(X);if(a){a.destroy()}this._manifestModel=null;this._beforeManifestModel=null;this._oInitialManifestModel=null;this._settingsModel=null;e.prototype.destroy.apply(this,arguments)};Z.prototype._initPreview=function(){return new Promise(function(e,t){e()})};Z.prototype._applyDesigntimeDefaults=function(e){e=e||{};e.form=e.form||{};e.form.items=e.form.items||{};var t=e.form.items||e.form.items;for(var i in t){var a=t[i];if(a.manifestpath){a.value=this._manifestModel.getProperty(a.manifestpath)}if(a.visible===undefined||a.visible===null){a.visible=true}if(a.editable===undefined||a.editable===null){a.editable=true}if(this.getMode()!=="admin"){if(a.visibleToUser!==undefined){a.visible=a.visibleToUser}if(a.editableToUser!==undefined){a.editable=a.editableToUser}}if(typeof a.translatable!=="boolean"){a.translatable=false}if(!a.label){a.label=i}if(!a.type||a.type==="enum"){a.type="string"}if(a.value===undefined||a.value===null){switch(a.type){case"boolean":a.value=false;break;case"integer":case"number":a.value=0;break;case"string[]":a.value=[];break;case"object":a.value=undefined;break;case"object[]":a.value=undefined;break;default:a.value=""}}if(a.type==="group"){if(a.visible===undefined||a.value===null){a.visible=true}}a._settingspath="/form/items/"+i}};Z.prototype._applyDesigntimeLayers=function(e){var t={};var i={};if(this._appliedLayerManifestChanges&&Array.isArray(this._appliedLayerManifestChanges)){for(var s=0;s<this._appliedLayerManifestChanges.length;s++){var r=this._appliedLayerManifestChanges[s][":designtime"];if(r){var o=Object.keys(r);for(var l=0;l<o.length;l++){var d=r[o[l]];if(typeof d==="object"){i[o[l]]=n(i[o[l]],d);continue}this._settingsModel.setProperty(o[l],d)}}var f=this._appliedLayerManifestChanges[s]["texts"];if(f){t=n(t,f)}}}if(this._currentLayerManifestChanges){var r=this._currentLayerManifestChanges[":designtime"];if(r){var o=Object.keys(r);for(var l=0;l<o.length;l++){var g=o[l],d=r[g];u=g.substring(0,g.lastIndexOf("/")+1)+"_next";if(typeof d==="object"){i[g]=n(i[g],d);continue}if(!this._settingsModel.getProperty(u)){this._settingsModel.setProperty(u,{})}var u=g.substring(0,g.lastIndexOf("/")+1)+"_next",p=g.substring(g.lastIndexOf("/")+1);this._settingsModel.setProperty(u+"/"+p,d)}}var h=this._currentLayerManifestChanges["texts"];if(h){t=n(t,h)}}if(!a(t,{})){this._settingsModel.setProperty("/texts",t)}if(!a(i,{})){this._settingsModel.setProperty("/:designtime",i)}};Z.prototype._createParameterDesigntime=function(e){var t={},i=this.getConfigurationPath()+"/parameters",a=this.getMode();if(e&&e.parameters){t.form=t.form||{};t.form.items=t.form.items||{};var s=t.form.items;Object.keys(e.parameters).forEach(function(t){s[t]=n({manifestpath:i+"/"+t+"/value",editable:a!=="translation",_settingspath:"/form/items/"+t},e.parameters[t]);var r=s[t];if(!r.type){r.type="string"}if(!r.hasOwnProperty("visible")){r.visible=true}})}return new r(t)};Z.prototype._addDestinationSettings=function(e){var t=this._oDesigntimeInstance.getSettings(),i=this.getConfigurationPath()+"/destinations";t.form=t.form||{};t.form.items=t.form.items||{};if(t&&e&&e.destinations){if(!t.form.items["destination.group"]){t.form.items["destination.group"]={label:this._oResourceBundle.getText("EDITOR_DESTINATIONS")||"Destinations",type:"group",expanded:true,visible:true,_settingspath:"/form/items/destination.group"}}var a=t.form.items,s=this.getHostInstance();Object.keys(e.destinations).forEach(function(t){a[t+".destination"]=n({manifestpath:i+"/"+t+"/name",visible:true,type:"destination",editable:true,allowDynamicValues:false,allowSettings:false,value:e.destinations[t].name,defaultValue:e.destinations[t].defaultUrl,_settingspath:"/form/items/"+[t+".destination"],_values:[],_destinationName:t},e.destinations[t]);if(typeof a[t+".destination"].label==="undefined"){a[t+".destination"].label=t}if(s){a[t+".destination"]._loading=true}});var r=false;if(s){this.getHostInstance().getDestinations().then(function(t){r=true;Object.keys(e.destinations).forEach(function(e){a[e+".destination"]._values=t;a[e+".destination"]._loading=false;this._settingsModel.checkUpdate(true)}.bind(this))}.bind(this)).catch(function(){return this.getHostInstance().getDestinations()}.bind(this)).then(function(t){if(r){return}Object.keys(e.destinations).forEach(function(e){a[e+".destination"]._values=t;a[e+".destination"]._loading=false;this._settingsModel.checkUpdate(true)}.bind(this))}.bind(this)).catch(function(t){Object.keys(e.destinations).forEach(function(e){a[e+".destination"]._loading=false;this._settingsModel.checkUpdate(true)}.bind(this));I.error("Can not get destinations list from '"+s.getId()+"'.")}.bind(this))}}};Z.prototype._getManifestDefaultValue=function(e){return this._oInitialManifestModel.getProperty(e)};Z.prototype._getManifestBeforelValue=function(e){return this._beforeManifestModel.getProperty(e)};Z.prototype._isValueWithHandlebarsTranslation=function(e){if(typeof e==="string"){return!!e.match(J)}return false};Z.prototype._isValueWithParameterSyntax=function(e){if(typeof e==="string"){return!!e.match(K)}return false};Z.prototype.prepareFieldsInKey=function(e){this._sKeySeparator=e.values.keySeparator;if(!this._sKeySeparator){this._sKeySeparator="#"}var t=e.values.item.key;this._aFields=t.split(this._sKeySeparator);for(var i in this._aFields){if(this._aFields[i].startsWith("{")){this._aFields[i]=this._aFields[i].substring(1)}if(this._aFields[i].endsWith("}")){this._aFields[i]=this._aFields[i].substring(0,this._aFields[i].length-1)}}};Z.prototype.getKeyFromItem=function(e){var t="";this._aFields.forEach(function(i){t+=e[i].toString()+this._sKeySeparator}.bind(this));if(t.endsWith(this._sKeySeparator)){t=t.substring(0,t.length-this._sKeySeparator.length)}return t};Z._contextEntries={empty:{label:z.getText("EDITOR_CONTEXT_EMPTY_VAL"),type:"string",description:z.getText("EDITOR_CONTEXT_EMPTY_DESC"),placeholder:"",value:""},"editor.internal":{label:z.getText("EDITOR_CONTEXT_EDITOR_INTERNAL_VAL"),todayIso:{type:"string",label:z.getText("EDITOR_CONTEXT_EDITOR_TODAY_VAL"),description:z.getText("EDITOR_CONTEXT_EDITOR_TODAY_DESC"),tags:[],placeholder:z.getText("EDITOR_CONTEXT_EDITOR_TODAY_VAL"),customize:["format.dataTime"],value:"{{parameters.TODAY_ISO}}"},nowIso:{type:"string",label:z.getText("EDITOR_CONTEXT_EDITOR_NOW_VAL"),description:z.getText("EDITOR_CONTEXT_EDITOR_NOW_DESC"),tags:[],placeholder:z.getText("EDITOR_CONTEXT_EDITOR_NOW_VAL"),customize:["dateFormatters"],value:"{{parameters.NOW_ISO}}"},currentLanguage:{type:"string",label:z.getText("EDITOR_CONTEXT_EDITOR_LANG_VAL"),description:z.getText("EDITOR_CONTEXT_EDITOR_LANG_VAL"),tags:["technical"],customize:["languageFormatters"],placeholder:z.getText("EDITOR_CONTEXT_EDITOR_LANG_VAL"),value:"{{parameters.LOCALE}}"}}};Z._languages={};Z._appendThemeVars=function(){var e=["sapUiButtonHoverBackground","sapUiBaseBG","sapUiContentLabelColor","sapUiTileSeparatorColor","sapUiHighlight","sapUiListSelectionBackgroundColor","sapUiNegativeText","sapUiCriticalText","sapUiPositiveText","sapUiChartScrollbarBorderColor"];var t=P.get({name:e,callback:function(e){}});if(t){for(var i in t){document.body.style.setProperty("--"+i,t[i])}}};Z.init=function(){this.init=function(){};Z._appendThemeVars();t.attachThemeChanged(function(){Z._appendThemeVars()});var e=sap.ui.require.toUrl("sap.ui.integration.editor.css.Editor".replace(/\./g,"/")+".css");T(e);S.loadResource("sap/ui/integration/editor/languages.json",{dataType:"json",failOnError:false,async:true}).then(function(e){Z._languages=e})};Z.init();return Z});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/EditorResourceBundles", ["sap/base/util/LoaderExtensions","sap/base/i18n/ResourceBundle","sap/base/util/includes"],function(e,n,u){"use strict";var r=function(){var r,s,a;e.loadResource("sap/ui/integration/editor/languages.json",{dataType:"json",failOnError:false,async:true}).then(function(e){s=e});function t(){r=[];for(var e in s){var t;if(a){var i=[e];if(e.indexOf("-")>-1){i.push(e.substring(0,e.indexOf("-")))}if(!u(i,"en")){i.push("en")}t=n.create({url:a,async:false,locale:e,supportedLocales:i})}r[e]={language:s[e],resourceBundle:t}}return r}return{getResourceBundleURL:function(){return a},setResourceBundleURL:function(e){a=e},getInstance:function(){if(!r){r=t()}return r}}}();return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/Extension", ["sap/ui/integration/Extension","sap/base/Log"],function(t,i){"use strict";var o=t.extend("sap.ui.integration.editor.Extension");o.prototype.init=function(){t.prototype.init.apply(this,arguments);this._oEditorInterface=null;this._oEditor=null};o.prototype.exit=function(){t.prototype.exit.apply(this,arguments);this._oEditorInterface=null;this._oEditor=null};o.prototype.setFormatters=function(o){t.prototype.setFormatters.apply(this,arguments);if(!this._oEditor){return}if(this._oEditor.getAggregation("_extension")!==this){i.error("Extension formatters must be set before the initialization of the editor. Do this inside Extension#init().")}};o.prototype.onEditorReady=function(){};o.prototype.getEditor=function(){return this._oEditorInterface};o.prototype._setEditor=function(t,i){this._oEditor=t;this._oEditorInterface=i};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/Manifest", ["sap/ui/integration/util/Manifest","./Merger"],function(e,t){"use strict";var i=e.extend("sap.ui.integration.editor.Manifest");i.prototype.mergeDeltaChanges=function(e){return t.mergeDelta(e,this._aChanges,this._sSection)};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/Merger", ["sap/base/util/merge","sap/ui/model/json/JSONModel","sap/ui/core/Core"],function(e,r,a){"use strict";var t={layers:{admin:0,content:5,translation:10,all:20},mergeManifestPathChanges:function(e,r){Object.keys(r).forEach(function(a){if(a.charAt(0)==="/"){var t=r[a];e.setProperty(a,t)}})},mergeDelta:function(a,n,o){var i=e({},a);if(typeof o==="undefined"){o="sap.card"}if(Array.isArray(n)&&n.length>0){var s;n.forEach(function(a){if(a.content){e(i[o],a.content)}else{s=s||new r(i);t.mergeManifestPathChanges(s,a)}})}return i},mergeDesigntimeMetadata:function(r,a){var t=e({},r);a.forEach(function(e){var r=e.content.entityPropertyChange||[];r.forEach(function(e){var r=e.propertyPath;switch(e.operation){case"UPDATE":if(t.hasOwnProperty(r)){t[r]=e.propertyValue}break;case"DELETE":delete t[r];break;case"INSERT":if(!t.hasOwnProperty(r)){t[r]=e.propertyValue}break;default:break}})});return t}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/Settings", ["sap/ui/core/Control","sap/m/Popover","sap/ui/model/json/JSONModel","sap/m/Button","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/VBox","sap/m/HBox","sap/m/Select","sap/ui/core/ListItem","sap/m/Label","sap/m/Text","sap/m/Title","sap/m/CheckBox","sap/m/Menu","sap/m/MenuItem","sap/m/Input","sap/ui/integration/util/ParameterMap","sap/base/util/merge","sap/ui/core/Core","sap/m/Table","sap/m/Column","sap/m/ColumnListItem","sap/m/ScrollContainer","sap/base/util/ObjectPath","sap/ui/integration/util/BindingHelper"],function(e,t,a,n,s,r,l,i,o,d,u,g,p,c,f,m,y,_,v,h,S,b,T,I,x,w,P,E){"use strict";var D=e.extend("sap.ui.integration.editor.Settings",{metadata:{library:"sap.ui.integration"},renderer:null});var C=b.getLibraryResourceBundle("sap.ui.integration"),V,M,O=null,R,A,L,N,U,$,j,B,F,H,K,G;D.prototype.setConfiguration=function(e){this._originalConfig=e;e=S({},e);var t=new a(e);this.setModel(t,"currentSettings");this.bindElement({path:"currentSettings>/"})};D.prototype.open=function(e,t,a,n,s,r,l){var i=this.getModel("currentSettings").getData();if(i.values){this.prepareFieldsInKey(i)}O=this;G=W(i,s);this.addDependent(G);this.oHost=n;this.fnApply=r;this.fnCancel=l;this._oOpener=s;M=true;e.addDependent(this);if(!i.allowDynamicValues&&i.values){b.byId("settings_scroll_container").setHeight("155px")}this.getModel("currentSettings").checkUpdate(true,true);ie(C.getText("EDITOR_SELECT_FROM_LIST"),[]);if(t){var o=!a||a.getDomRef()===null||a.getDomRef().offsetWidth===0?270:a.getDomRef().offsetWidth;var d=!a||a.getDomRef()===null||a.getDomRef().offsetHeight===0?350:a.getDomRef().offsetHeight;G.setContentWidth(o+"px");G.setContentHeight(d-50+"px");var u="Right";var g=e.getDomRef().getBoundingClientRect().x;var p=document.body.offsetWidth;if(2*g>p){u="Left"}G.setPlacement(u);N.setValue(e._label);G.openBy(e)}else{G.open()}V=this.getModel("currentSettings");if(V.getProperty("/_hasDynamicValue")){J()}else if(V.getProperty("/_hasSettings")){q()}else if(V.getProperty("/allowDynamicValues")){J()}else if(V.getProperty("/allowSettings")){q()}};D.prototype._applyCurrentSettings=function(){this.fnApply(V.getData())};D.prototype._cancelCurrentSettings=function(){this.fnCancel(this._originalConfig)};D.prototype.destroy=function(){this.removeDependent(G);return e.prototype.destroy.apply(this,arguments)};function W(e,a){var s=Y(),r=Z(e),o=te(),d=ae(),u=ne(e,a),g=new t({id:"settings_popover",showArrow:true,contentWidth:"400px",showHeader:false,horizontalScrolling:false,verticalScrolling:false,modal:false,footer:new l({content:[r,new i,new n({text:C.getText("EDITOR_MORE_OK"),type:"Emphasized",press:function(){if(e.values){var t=b.byId("settings_pav_table"),a=t.getSelectedContexts(),n=[];if(V.getProperty("/selectedValues")==="Partion"){for(var s=0;s<a.length;s++){var r=O.getKeyFromItem(a[s].getObject());n.push(r)}Q("pageAdminValues",n)}else{Q("pageAdminValues",[])}}O._applyCurrentSettings();M=false;g.close()}}),new n({text:C.getText("EDITOR_MORE_CANCEL"),press:function(){g.close()}})]}),afterClose:function(){if(M){O._cancelCurrentSettings()}M=true;g.destroy()},afterOpen:function(){window.requestAnimationFrame(function(){g.getDomRef()&&(g.getDomRef().style.opacity="1")});if(e.values){var t=b.byId("settings_pav_table"),a=V.getProperty("/_next/pageAdminValues");if(a!==undefined&&a.length>0){t.removeSelections();V.setProperty("/selectedValues","None");var n=V.getProperty("/_next/pageAdminValues"),s=t.getItems();for(var r=0;r<n.length;r++){for(var l=0;l<s.length;l++){var i=O.getKeyFromItem(s[l].getBindingContext().getObject());if(n[r]===i){t.setSelectedItem(s[l])}}}V.setProperty("/selectedValues","Partion")}else{t.selectAll();V.setProperty("/selectedValues","All")}}}});g.setCustomHeader(s);g.addContent(o);g.addContent(d);g.addContent(u);g.addStyleClass("sapUiIntegrationFieldSettings");return g}function k(){F=new r({text:C.getText("EDITOR_MORE_SETTINGS"),tooltip:C.getText("EDITOR_MORE_SETTINGS"),key:"settings",icon:"sap-icon://action-settings",width:"50%",press:q}).addStyleClass("setbtn");return F}function z(){F=k();H=new s("settings_Segment_btn",{width:"100%",visible:"{= ${currentSettings>allowDynamicValues} && ${currentSettings>allowSettings}}",items:[new r({text:C.getText("EDITOR_MORE_DYNAMICVALUES"),tooltip:C.getText("EDITOR_MORE_DYNAMICVALUES"),key:"dynamic",icon:"{= ${currentSettings>_hasDynamicValue} ? 'sap-icon://display-more' : 'sap-icon://enter-more'}",width:"50%",press:J}).addStyleClass("dynbtn sel"),F]});return H}function Y(){H=z();var e=new c({text:C.getText("EDITOR_MORE_DYNAMICVALUES"),tooltip:C.getText("EDITOR_MORE_DYNAMICVALUES"),visible:"{= ${currentSettings>allowDynamicValues} && !${currentSettings>allowSettings}}"}).addStyleClass("sapUiTinyMagin");var t=new c({text:C.getText("EDITOR_MORE_SETTINGS"),visible:"{= !${currentSettings>allowDynamicValues} && ${currentSettings>allowSettings}}"}).addStyleClass("sapUiTinyMagin");var a=new l({content:[H,e,t]}).addStyleClass("headertitle");return a}function Z(e){K=new n("settings_reset_to_default_btn",{type:"Transparent",text:C.getText("EDITOR_MORE_RESET"),enabled:"{= ${currentSettings>_next/visible} === (typeof(${currentSettings>visibleToUser}) === 'undefined' ? false : !${currentSettings>visibleToUser}) || ${currentSettings>_next/editable} === (typeof(${currentSettings>editableToUser}) === 'undefined' ? false : !${currentSettings>editableToUser}) || ${currentSettings>_next/allowDynamicValues} === (typeof(${currentSettings>allowDynamicValues}) === 'undefined' ? false : !${currentSettings>allowDynamicValues}) || ${currentSettings>_beforeValue} !== ${currentSettings>value}}",tooltip:C.getText("EDITOR_MORE_SETTINGS_P_ADMIN_RESET"),press:function(){var t=typeof V.getProperty("/visibleToUser")==="undefined"?true:V.getProperty("/visibleToUser");var a=typeof V.getProperty("/editableToUser")==="undefined"?true:V.getProperty("/editableToUser");var n=typeof V.getProperty("/allowDynamicValues")==="undefined"?true:V.getProperty("/allowDynamicValues");var s=b.byId("settings_popover");Q("visible",t);Q("editable",a);Q("allowDynamicValues",n);if(V.getProperty("/translatable")){if(V.getProperty("/_translatedDefaultValue")&&V.getProperty("/_translatedDefaultValue")!==""){V.setProperty("/value",V.getProperty("/_translatedDefaultValue"))}else if(V.getProperty("/_translatedDefaultPlaceholder")&&V.getProperty("/_translatedDefaultPlaceholder")!==""){V.setProperty("/value",V.getProperty("/_translatedDefaultPlaceholder"))}V.setProperty("/_changed",false)}else{V.setProperty("/value",V.getProperty("/_beforeValue"))}if(e.values){var r=b.byId("settings_pav_table"),l=V.getProperty("/_next/pageAdminValues"),i=r.getItems();if(l!==undefined&&l.length>0&&l.length<i.length){r.removeSelections();for(var o=0;o<l.length;o++){for(var d=0;d<i.length;d++){var u=O.getKeyFromItem(i[d].getBindingContext().getObject());if(l[o]===u){r.setSelectedItem(i[d])}}}V.setProperty("/selectedValues","Partion")}else{r.selectAll();V.setProperty("/selectedValues","All")}}s.getFooter().getContent()[2].firePress()}}).addStyleClass("resetbutton");return K}function q(){A.setVisible(true);R.setVisible(false);b.byId("settings_Segment_btn").setSelectedKey("settings");var e=b.byId("settings_current_value");e.setVisible(false)}function J(){A.setVisible(false);R.setVisible(true);b.byId("settings_Segment_btn").setSelectedKey("dynamic");var e=O.getModel("contextflat"),t=e._getValueObject(V.getProperty("/value"));if(t&&t.object.label){N.setValue(t.object.label);ie(t.object.description,t.object.tags);if(t.path==="empty"){N.setValue(t.object.label)}de(t)}var a=b.byId("settings_current_value");a.setVisible(true)}function Q(e,t){if(!V.getProperty("/_next")){V.setProperty("/_next",{})}V.setProperty("/_next/"+e,t)}function X(e,t){var a=[];for(var n in e){if(e[n]&&e[n].label){var s=new _({text:e[n].label});s.__data=e[n];e[n].pathvalue=(t+"/"+n).substring(1);a.push(s);var r=X(e[n],t+"/"+n);for(var l=0;l<r.length;l++){s.addItem(r[l])}}}return a}var ee=[{formatMethod:"format.DateTime",sourceTypes:["datetime","date"],label:"Relative date/datetime text of the value",description:"Should be applied to dynamic values of type date or datetime or string values that represent a datetime in the format 'yyyy-MM-ddZhh:mm:ss'",example:"4 weeks ago",syntax:"handlebars",binding:"{= format.dateTime('__|VALUE|__',{relative:true})}"},{formatMethod:"format.DateTime",sourceTypes:["datetime","date"],label:"Short date/datetime text of the value",description:"Should be applied to dynamic values of type date, date-time or text values that represent a datetime in the format 'yyyy-MM-ddZhh:mm:ss.sss'",example:"9/18/20, 2:09 PM",binding:"{= format.dateTime('__|VALUE|__',{style:'short'})}"},{formatMethod:"format.DateTime",sourceTypes:["datetime","date"],label:"Medium date/datetime text of the value",description:"Should be applied to dynamic values of type date, date-time or text values that represent a datetime in the format 'yyyy-MM-ddThh:mm:ss.sssZ'",example:"Sep 18, 2020, 2:09:04 PM",binding:"{= format.dateTime('__|VALUE|__',{style:'medium'})}"},{formatMethod:"format.DateTime",sourceTypes:["datetime","date"],label:"Long date, date-time text of the value",description:"Should be applied to dynamic values of type date or date-time or string values that represent a datetime in the format 'yyyy-MM-ddThh:mm:ss.sssZ'",example:"Sep 18, 2020, 2:09:04 PM",binding:"{= format.dateTime('__|VALUE|__',{style:'long'})}"}];function te(){R=new o({visible:true});R.addStyleClass("sapUiSmallMargin");N=new v({width:"100%",showValueHelp:true,valueHelpOnly:true,valueHelpRequest:function(){if(U){U.destroy()}U=new y({});$=X(R.getModel("context").getData(),"");for(var e=0;e<$.length;e++){U.addItem($[e])}U.attachItemSelected(function(e){var t=e.getParameter("item").__data;ie(t.description||"",t.tags||[]);N.setValue(t.placeholder||t.label);var a=O.getModel("contextflat");de(a._getPathObject(t.pathvalue))});N.addDependent(U);U.addStyleClass("sapUiIntegrationFieldSettingsMenu");U.openBy(N,false,null,null,"1 0")}});N.addStyleClass("selectvariable");var e=new p({text:"Select a dynamic value"});N.addAriaLabelledBy(e);var t=new o({items:[e,N]});R.addItem(t);L=new c({text:"",maxLines:6,renderWhitespace:true});t=new o({width:"100%",items:[L]});L.addStyleClass("description");R.addItem(t);if(ee.length===-1){j=new u({width:"100%",enabled:true,change:function(){B.setText(j.getSelectedItem()._data.description)}});t=new o({visible:false,items:[new p({text:"Customize the value..."}),j]});R.addItem(t);B=new c({text:"",maxLines:4,renderWhitespace:true});B.addStyleClass("description");t=new o({width:"100%",items:[B]});R.addItem(t);R.getItems()[2].getItems()[0].addStyleClass("sapUiTinyMarginTop")}R.getItems()[0].getItems()[0].addStyleClass("sapUiTinyMarginTop");return R}function ae(){var e=new c({text:C.getText("EDITOR_ACTUAL_VALUE")});var t=new v({value:{path:"currentSettings>_currentContextValue"},editable:false});t.addAriaLabelledBy(e);var a=new o("settings_current_value",{width:"100%",items:[e,t]});a.addStyleClass("currentval");return a}function ne(e,t){A=new o({visible:false});var s=(new o).addStyleClass("commonSettings");A.addItem(s);s.addItem(new f({text:C.getText("EDITOR_MORE_SETTINGS_P_ADMIN"),wrapping:true}).addStyleClass("stitle"));var r=new p({text:C.getText("EDITOR_MORE_SETTINGS_P_ADMIN_VISIBLE"),wrapping:true});var l=new m({selected:"{= ${currentSettings>_next/visible} !== false}",select:function(e){Q("visible",e.getParameter("selected"))}});l.addAriaLabelledBy(r);s.addItem(new d({items:[r,l]}).addStyleClass("cbrow"));var i=new p({text:C.getText("EDITOR_MORE_SETTINGS_P_ADMIN_EDIT"),wrapping:true});var u=new m({selected:"{= ${currentSettings>_next/editable} !== false}",enabled:"{= ${currentSettings>_next/visible} !== false}",select:function(e){Q("editable",e.getParameter("selected"))}});u.addAriaLabelledBy(i);s.addItem(new d({items:[i,u]}).addStyleClass("cbrow"));var g=new p({text:C.getText("EDITOR_MORE_SETTINGS_P_ADMIN_DYN"),wrapping:true});var y=new m({selected:"{= ${currentSettings>_next/allowDynamicValues} !== false}",enabled:"{= ${currentSettings>_next/visible} !== false && ${currentSettings>_next/editable} !== false}",select:function(e){Q("allowDynamicValues",e.getParameter("selected"))}});y.addAriaLabelledBy(g);s.addItem(new d({visible:"{= ${currentSettings>allowDynamicValues}!== false}",items:[g,y]}).addStyleClass("cbrow"));if(e.values){var _;if(e.values.data){var v=e.values.data.path,h;if(v&&v!=="/"){if(v.startsWith("/")){v=v.substring(1)}if(v.endsWith("/")){v=v.substring(0,v.length-1)}h=v.split("/");_=P.get(["_values",h],e)}else{_=P.get(["_values"],e)}}else if(t.getParent().getParent().getAggregation("_extension")){var S=e.values.path;if(S.length>1){S=S.substring(1)}_=P.get([S],t.getModel().getData())}s.addItem(new d({visible:"{= ${currentSettings>_next/visible} !== false && ${currentSettings>_next/editable} !== false}",items:[new p({text:C.getText("EDITOR_MORE_SETTINGS_P_ADMIN_VALUES_LIST"),tooltip:C.getText("EDITOR_MORE_SETTINGS_P_ADMIN_VALUES_LIST_TOOLTIPS"),wrapping:false}),new n({type:"Transparent",enabled:_!==undefined,icon:{path:"currentSettings>selectedValues",formatter:function(e){if(e==="All"){return"sap-icon://multiselect-all"}else if(e==="Partion"){return"sap-icon://multi-select"}else if(e==="None"){return"sap-icon://multiselect-none"}}},tooltip:{path:"currentSettings>selectedValues",formatter:function(e){if(e==="All"){return C.getText("EDITOR_MORE_SETTINGS_P_ADMIN_DESELECT_ALL")}else{return C.getText("EDITOR_MORE_SETTINGS_P_ADMIN_SELECT_ALL")}}},press:se})]}).addStyleClass("cbrow"));var b=new T({id:"settings_pav_table",mode:"MultiSelect",width:"84%",select:re,columns:[new I]}).addStyleClass("tableHdr");var D=e.values.item.text,V=new a(_);b.setModel(V);var M=(new x).addStyleClass("pavlistItem");if(_){for(var O=0;O<_.length;O++){M.addCell(new d({items:[new c({text:E.createBindingInfos(D)}).addStyleClass("pavTblCellText")]})).addStyleClass("pavlistItem")}}b.bindItems("/",M);var R=new w({id:"settings_scroll_container",height:"125px",width:"94%",vertical:true,horizontal:false,visible:"{= ${currentSettings>_next/visible} !== false && ${currentSettings>_next/editable} !== false}",content:[b]}).addStyleClass("SettingsPAVTable");A.addItem(R)}return A}function se(){var e=b.byId("settings_pav_table"),t=b.byId("settings_reset_to_default_btn"),a=V.getProperty("/selectedValues");if(a==="All"){e.removeSelections();V.setProperty("/selectedValues","None")}else{e.selectAll();V.setProperty("/selectedValues","All")}if(!t.getEnabled()){t.setEnabled(true)}}function re(e){var t=e.getSource(),a=t.getSelectedItems(),n=t.getItems(),s=b.byId("settings_reset_to_default_btn");if(a.length===n.length){V.setProperty("/selectedValues","All")}else if(a.length<n.length&&a.length>0){V.setProperty("/selectedValues","Partion")}else{V.setProperty("/selectedValues","None")}if(!s.getEnabled()){s.setEnabled(true)}}function le(e,t){e=e||[];j.removeAllItems();var a=[];j.addItem(new g({text:"No customizing needed",key:""}));for(var n=0;n<ee.length;n++){var s=ee[n],r=new g({text:s.label,key:"key"+n});r._data=s;if(s.sourceTypes.indexOf(t)>-1||e.indexOf(s.formatMethod)>-1){j.addItem(r)}else{a.push(r)}}for(var n=0;n<a.length;n++){j.addItem(a[n])}}function ie(e,t){t=t||[];if(t.indexOf("technical")>-1){e=e+"\n"+C.getText("EDITOR_MORE_DYNAMICVALUES_TECHHINT")}L.setText(e)}function oe(e){if(ee.length===-1){if(!e){j.removeAllItems();j.addItem(new g({text:"No customizing available for this value"}));B.setText("");j.setEnabled(false)}else{le(e.customize,e.type);j.setEnabled(true)}}}function de(e){if(e){V.setProperty("/_hasDynamicValue",true);var t=e.value;V.setProperty("/value",t);V.setProperty("/_contextpath",e.path);if(e.object&&e.object.value&&e.object.value.indexOf("{{")===0){V.setProperty("/_currentContextValue",h.processPredefinedParameter(e.object.value));oe(e.object)}else{if(e.path==="empty"){V.setProperty("/value","");V.setProperty("/_currentContextValue","");V.setProperty("/_hasDynamicValue",false);oe()}else{oe(e.object);if(e.object&&e.object.hasOwnProperty("value")){V.setProperty("/_currentContextValue",e.object.value)}else{O.oHost.getContextValue(e.path+"/value").then(function(t){if(t===null){V.setProperty("/_currentContextValue","(not available)")}else{V.setProperty("/_currentContextValue",t)}e.object&&(e.object.value=t)})}}}}}D._private=function(){return{oPopover:G,oSegmentedButton:H,oSettingsButton:F,oDynamicPanel:R,oSettingsPanel:A,oCurrentModel:V,updateCurrentValue:de,oCurrentInstance:O,oDynamicValueField:N,oResetToDefaultButton:K,getMenuItems:function(){return $},getMenu:function(){return U}}};D.prototype.prepareFieldsInKey=function(e){this._sKeySeparator=e.values.keySeparator;if(!this._sKeySeparator){this._sKeySeparator="#"}var t=e.values.item.key;this._aFields=t.split(this._sKeySeparator);for(var a in this._aFields){if(this._aFields[a].startsWith("{")){this._aFields[a]=this._aFields[a].substring(1)}if(this._aFields[a].endsWith("}")){this._aFields[a]=this._aFields[a].substring(0,this._aFields[a].length-1)}}};D.prototype.getKeyFromItem=function(e){var t="";this._aFields.forEach(function(a){t+=e[a].toString()+this._sKeySeparator}.bind(this));if(t.endsWith(this._sKeySeparator)){t=t.substring(0,t.length-this._sKeySeparator.length)}return t};return D});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/BaseField", ["sap/ui/core/Control","sap/m/MultiInput","sap/m/Token","sap/ui/core/Core","sap/ui/integration/util/BindingHelper","sap/ui/core/ListItem","sap/base/util/ObjectPath","sap/base/util/deepEqual","sap/base/util/deepClone","sap/ui/core/Fragment","sap/ui/integration/util/Validators"],function(e,t,i,s,a,n,r,o,l,g,u){"use strict";var f="sap/ui/integration/editor/fields/viz";var h=e.extend("sap.ui.integration.editor.fields.BaseField",{metadata:{library:"sap.ui.integration",properties:{configuration:{type:"object"},specialButton:{type:"object"},mode:{type:"string"},host:{type:"object"},visible:{type:"boolean",defaultValue:true}},aggregations:{_field:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_dynamicField:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{_messageIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_messageStrip:{type:"sap.m.MessageStrip",multiple:false,visibility:"hidden"}},events:{afterInit:{},validateFailed:{}}},renderer:{apiVersion:2,render:function(e,t){var i=t.getAggregation("_field"),s=t._getDynamicField();e.openStart("div",t);e.class("sapUiIntegrationEditorItemField");if(i&&i.getWidth){}if(!t.getVisible()){e.style("display","none")}e.openEnd();if(t.getVisible()){e.openStart("span");e.class("sapUiIntegrationEditorEditor");if(t._hasDynamicValue()){e.style("width","1px");e.style("opacity","0")}else{e.style("width","100%")}e.openEnd();e.renderControl(i);e.close("span");if(t._hasDynamicValue()){e.openStart("span");e.class("sapUiIntegrationEditorSettings");e.openEnd();e.openStart("span");e.class("sapUiIntegrationEditorSettingsField");e.style("width","100%");e.style("opacity","1");e.openEnd();e.renderControl(s);e.close("span");e.close("span")}e.openStart("div",t.getId()+"-ms");e.style("height","0");e.openEnd();e.close("div")}e.close("div")}}});h.prototype.init=function(){this._readyPromise=new Promise(function(e){this._fieldResolver=e}.bind(this))};h.prototype.getMessagestrip=function(){var e=this.getAssociation("_messageStrip");return s.byId(e)};h.prototype.getMessageIcon=function(){var e=this.getAssociation("_messageIcon");return s.byId(e)};h.prototype._removeValidationMessage=function(){var e=this.control,t=e.getParent().getMessageIcon();if(t){t.setVisible(false)}if(e.getEnabled()){e.setEnabled(false)}};h.prototype.getResourceBundle=function(){return this.getModel("i18n").getResourceBundle()};h.prototype.setConfiguration=function(e,t){if(e!==this.getConfiguration()){this._sanitizeValidationSettings(e);this.setProperty("configuration",e,t);if(e){Promise.resolve().then(function(){this.initEditor(e)}.bind(this))}}return this};h.prototype._sanitizeValidationSettings=function(e){e.validations=e.validations||[];if(e.validation&&e.validations&&Array.isArray(e.validations)){e.validations.push(e.validation);delete e.validation}if(e.validation&&!e.validations){e.validations=[e.validation];delete e.validation}if(e.required){e.validations.unshift({required:true,type:"error"})}};h.prototype.deleteTranslationValuesInTexts=function(e){var t=this;var i=t.getConfiguration();var s="/texts";var a=this._settingsModel.getData();if(!a||!a.texts){return}var n=l(a.texts,500);if(e){if(n[e]){delete n[e][i.manifestpath];if(o(n[e],{})){delete n[e]}if(o(n,{})){delete a.texts;this._settingsModel.setData(a)}else{this._settingsModel.setProperty(s,n)}}}else{for(var r in n){t.deleteTranslationValuesInTexts(r)}}};h.prototype._triggerValidation=function(e){if(o(e,this._preChangedValue)&&this._messageFrom==="validation"){return}this._preChangedValue=e;var t=this.getConfiguration();var i=false;if(t.required){i=true}else if(t.type==="string"&&e){i=true}else if((t.type==="integer"||t.type==="number")&&!isNaN(e)){if(e!==""){i=true}}else if(t.type==="boolean"){i=true}else if(t.type==="string[]"&&Array.isArray(e)){i=true}if(t.validations&&Array.isArray(t.validations)&&i){for(var s=0;s<t.validations.length;s++){var a=this._handleValidation(t.validations[s],e);if(typeof a==="boolean"&&!a){this.fireValidateFailed();return false}else if(typeof a.then==="function"){a.then(function(e){if(!e){this.fireValidateFailed();return false}}.bind(this))}}this._hideValueState()}return true};h.prototype._requestData=function(e){var t=this.control.getParent();var i=t.getConfiguration();var s=t._oDataProviderFactory.create(e.data);t.getModel("currentSettings").setProperty(i._settingspath+"/_loading",true);var a=s.getData();return a.then(function(s){t.getModel("currentSettings").setProperty(i._settingspath+"/_loading",false);var a=e.data.path||"/";if(a.startsWith("/")){a=a.substring(1)}if(a.endsWith("/")){a=a.substring(0,a.length-1)}var n=a.split("/");var o=r.get(n,s);return o})};h.prototype._handleValidation=function(e,t){var i=this.getConfiguration(),s=u[i.type];var a=function(a,n){var r;if(typeof e.message==="function"){r=e.message(t,i,n)}else{r=e.message}if(!r){if(e._txt){r=this.getResourceBundle().getText(s[e._txt],[e[a]])}else{r=this.getResourceBundle().getText(s[a+"Txt"],[e[a]])}}this._showValueState(e.type||"error",r)}.bind(this);if(e["validate"]){var n={control:this.getAggregation("_field"),requestData:this._requestData,removeValidationMessage:this._removeValidationMessage};var r=e["validate"];return Promise.resolve(r(t,i,n)).then(function(e){var t=e.isValid;if(typeof t==="undefined"){t=e}var i=e.data?e.data:undefined;if(!t){a("validate",i);return false}else{this._hideValueState(true,false);return true}}.bind(this))}else{for(var o in e){if(s){var l=s[o];e._txt="";if(l){if(!l(t,e[o],e)){a(o);return false}}}}}return true};h.prototype.onAfterRendering=function(){this._applyMessage();var e=this.getMessagestrip();if(e&&e.getDomRef()){e.getDomRef().style.opacity="0"}};h.prototype._applyMessage=function(){var e=s.byId(this.getAssociation("_messageIcon"));if(this.getAssociation("_messageIcon")&&e){var t=e.getDomRef();if(t){t.classList.remove("error");t.classList.remove("warning");t.classList.remove("success");if(this._message){t.classList.add(this._message.type)}}}if(this._message&&(this._message.type==="error"||this._message.type==="warning")){var i=this._message.type==="error"?"Error":"Warning";this._setCurrentProperty("hasError",true);this._setCurrentProperty("errorType",i)}else{this._setCurrentProperty("hasError",false);this._setCurrentProperty("errorType","None")}};h.prototype._showValueState=function(e,t,i){var s=this.getAggregation("_field"),a=e.substring(0,1).toUpperCase()+e.substring(1);this._message={enum:a,type:e,message:t,atControl:false};this._messageFrom="validation";if(i){this._messageFrom="request"}var n=this.getMessagestrip();if(s&&s.setValueState){this._message.atControl=true;if(s.setShowValueStateMessage){s.setShowValueStateMessage(false)}s.setValueState(a);s.setValueStateText(t)}else if(n&&n.getVisible()&&s.getMetadata().getName()!=="sap.m.Switch"){this._showMessage()}this._applyMessage()};h.prototype._hideValueState=function(e,t){if(!this.getParent()){return}var i=this.getMessagestrip();if(this._message){if(e&&this._messageFrom==="request"||!e&&this._messageFrom==="validation"){var s=this.getAggregation("_field");this._message={enum:"Success",type:"success",message:"Corrected",atControl:this._message.atControl};this._messageFrom="validation";if(e){this._messageFrom="request"}if(this._messageto){clearTimeout(this._messageto)}this._messageto=setTimeout(function(){this._messageto=null;this._applyMessage();if(!this._message&&s.setValueState){s.setValueState("None")}}.bind(this),1500);this._applyMessage();if(i){if(i.getDomRef()){i.getDomRef().style.opacity="0"}i.onAfterRendering=null}if(s.setValueState){s.setValueState("Success")}if(s.setValueStateText){s.setValueStateText("")}this._message=null}if(!this._message&&e&&t){this._triggerValidation(this.getConfiguration().value)}}};h.prototype.onfocusin=function(e){if(e&&e.target.classList.contains("sapMBtn")){return}this._showMessage()};h.prototype.onfocusout=function(e){this._hideMessage()};h.prototype._showMessage=function(){if(!this.getParent()){return}var e=this.getMessagestrip();if(this._message&&e){e.applySettings({type:this._message.enum,text:this._message.message});var t=this;e.onAfterRendering=function(){e.getDomRef().style.zIndex="1";e.getDomRef().style.opacity="1";t.getDomRef("ms")&&t.getDomRef("ms").appendChild(e.getDomRef());var i=t.getAggregation("_field");if(t._message&&!t._message.atControl){e.getDomRef().style.marginTop="0";e.getDomRef().style.marginLeft="0"}var s=i.getDomRef()?i.getDomRef().offsetWidth-5:100;if(s<=100){s=i.getParent().getDomRef()?i.getParent().getDomRef().offsetWidth-35:100}e.getDomRef().style.width=s+"px"};e.rerender()}};h.prototype._hideMessage=function(){var e=this.getMessagestrip();var t=this.getAggregation("_field"),i=t.getDomRef()&&t.getDomRef().contains(window.document.activeElement);if(e){if(!i&&e.getDomRef()){e.getDomRef().style.opacity="0";e.getDomRef().style.zIndex="-1"}e.onAfterRendering=null}};h.prototype.initEditor=function(t){var i;this._settingsModel=this.getModel("currentSettings");this.initVisualization&&this.initVisualization(t);if(this._visualization.editor){i=this._visualization.editor}else if(this._visualization.type){if(typeof this._visualization.type==="string"){if(this._visualization.type.indexOf("/")===-1){this._visualization.type=f+"/"+this._visualization.type;this._visualization.settings=this._visualization.settings||{value:"{currentSettings>value}",editable:t.editable}}sap.ui.require([this._visualization.type],function(e){this._visualization.type=e;this.initEditor(t)}.bind(this));return}i=new this._visualization.type(this._visualization.settings||{})}else if(this._visualization.fragment){if(typeof this._visualization.fragment==="string"){if(!this._visualization.controller){this._visualization.controller=this._visualization.fragment+".controller"}if(typeof this._visualization.controller==="string"){sap.ui.require([this._visualization.controller],function(e){this._visualization.controller=new e;this._visualization.controller.init();this._visualization.controller.setField(this);this.initEditor(t)}.bind(this))}else if(typeof this._visualization.controller==="object"){g.load({name:this._visualization.fragment,controller:this._visualization.controller}).then(function(e){this._visualization.fragment=e;this.initEditor(t)}.bind(this))}else{g.load({name:this._visualization.fragment}).then(function(e){this._visualization.fragment=e;this.initEditor(t)}.bind(this))}return}i=this._visualization.fragment}if(i instanceof e){this.setAggregation("_field",i);if(i.attachChange){i.attachChange(function(e){if(e.mParameters.value===""){var t=this.getConfiguration();if(t.type==="string[]"){this._triggerValidation(t.value)}else{this._triggerValidation(e.getParameter("value"))}}}.bind(this))}var s=this._settingsModel.bindProperty("value",this.getBindingContext("currentSettings"));s.attachChange(function(){this._triggerValidation(t.value)}.bind(this));this._triggerValidation(t.value)}var a=this.getMode();t.allowSettings=t.allowSettings||t.allowSettings!==false&&a==="admin";t.allowDynamicValues=t.allowDynamicValues||t.allowDynamicValues!==false;t._changeDynamicValues=t.visible&&t.editable&&(t.allowDynamicValues||t.allowSettings)&&a!=="translation";if(t._changeDynamicValues){this._getDynamicField()}this._applySettings(t);this.fireAfterInit()};h.prototype.initVisualization=function(){};h.prototype._hasDynamicValue=function(){var e=this._getCurrentProperty("value");var t=typeof e==="string"&&(e.indexOf("{context>")===0||e.indexOf("{{parameters")===0);this._setCurrentProperty("_hasDynamicValue",t);return t};h.prototype._hasSettings=function(){var e=this.getConfiguration();if(e._next){var t=e.hasOwnProperty("visibleToUser")?e.visibleToUser:true;var i=e.hasOwnProperty("editableToUser")?e.editableToUser:true;var s=e._next.visible===false?false:e._next.editable;var a=e.hasOwnProperty("allowDynamicValues")?e.allowDynamicValues:true;e._hasSettings=e._next.visible===!t||s===!i||e._next.allowDynamicValues===!a}else{e._hasSettings=false;if(e.hasOwnProperty("editableToUser")||e.hasOwnProperty("visibleToUser")){e._next={}}if(e.hasOwnProperty("editableToUser")){e._next.editable=e.editableToUser}if(e.hasOwnProperty("visibleToUser")){e._next.visible=e.visibleToUser}}return e._hasSettings};h.prototype._getDynamicField=function(){var e=this.getAggregation("_dynamicField");if(!e){var e=new t({showValueHelp:false});this.setAggregation("_dynamicField",e)}return e};h.prototype._hideDynamicField=function(){var e=this._getDynamicField(),t=this.getAggregation("_field");if(e.getDomRef()){var i=e.getDomRef().parentNode.style;i.width="1px";i.opacity=0;i=t.getDomRef().parentNode.style;t.getDomRef().style.visibility="visible";i.width="100%";i.opacity=1}};h.prototype._showDynamicField=function(){var e=this._getDynamicField(),t=this.getAggregation("_field");if(e.getDomRef()){var i=e.getDomRef().parentNode.style;i.width="100%";i.opacity=1;i=t.getDomRef().parentNode.style;t.getDomRef().style.visibility="hidden";i.width="1px";i.opacity=0}};h.prototype._setCurrentProperty=function(e,t){if(this._getCurrentProperty(e)!==t){this._settingsModel.setProperty(e,t,this.getBindingContext("currentSettings"))}};h.prototype._getCurrentProperty=function(e){return this._settingsModel.getProperty(e,this.getBindingContext("currentSettings"))};h.prototype._applySettings=function(e){var t=this._getDynamicField(),s=this.getModel("contextflat")._getValueObject(e.value);t.removeAllTokens();if(!this._getCurrentProperty("_changeDynamicValues")){t.setEnabled(false)}if(s&&s.path!=="empty"){if(s.object.value&&s.object.value.indexOf("{{")==0){this._setCurrentProperty("value",s.object.value)}else{this._setCurrentProperty("value",s.value)}t.addToken(new i({text:s.object.label,delete:function(){this._setCurrentProperty("value","");var e=this.getAggregation("_field");e.setValue("");e.fireChange();if(!this._hasDynamicValue()){this._hideDynamicField()}this._applyButtonStyles();window.setTimeout(function(){this.getAggregation("_field").focus()}.bind(this),100)}.bind(this)}));var a=this.getConfiguration();if(a.type==="string"&&a.translatable){this.deleteTranslationValuesInTexts()}}else{this._setCurrentProperty("value",e.value);this._setCurrentProperty("_changed",e._changed);this._hideDynamicField()}this._setCurrentProperty("_next",e._next);this._applyButtonStyles();if(!this._hasDynamicValue()){this._hideDynamicField()}else{this._showDynamicField()}this._fieldResolver&&this._fieldResolver();this._fieldResolver=null};h.prototype._cancelSettings=function(){this._applyButtonStyles();if(!this._hasDynamicValue()){this._hideDynamicField()}};h.prototype._applyButtonStyles=function(){if(!this._settingsButton){return}if(!this._hasDynamicValue()){this._settingsButton.removeStyleClass("dynamicvalue")}else{this._settingsButton.addStyleClass("dynamicvalue")}if(!this._hasSettings()){this._settingsButton.removeStyleClass("settings")}else{this._settingsButton.addStyleClass("settings")}};h.prototype.isFilterBackend=function(){var e=this.getConfiguration();var t=false;if(e&&e.values&&e.values.data){if(e.values.data.request&&e.values.data.request.parameters&&e.values.data.request.parameters.$filter&&e.values.data.request.parameters.$filter.indexOf("{currentSettings>suggestValue}")>-1){t=true}else if(e.values.data.request&&e.values.data.request.url&&e.values.data.request.url.indexOf("{currentSettings>suggestValue}")>-1){t=true}}return t};h.prototype.formatListItem=function(e){var t=new n;for(var i in e){t.bindProperty(i,a.createBindingInfos(e[i]))}return t};h.prototype.getPopoverPlacement=function(e){var t="Right";var i=e.getDomRef().getBoundingClientRect().x;var s=document.body.offsetWidth;if(2*i>s){t="Left"}return t};return h});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/BooleanField", ["sap/ui/integration/editor/fields/BaseField","sap/m/CheckBox"],function(e,t){"use strict";var i=e.extend("sap.ui.integration.editor.fields.BooleanField",{metadata:{library:"sap.ui.integration"},renderer:e.getMetadata().getRenderer()});i.prototype.initVisualization=function(e){var i=e.visualization;if(!i){i={type:t,settings:{selected:{path:"currentSettings>value"},editable:e.editable}};e.withLabel=true}else if(i.type==="Switch"){i.type="sap/m/Switch"}this._visualization=i};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/DateField", ["sap/ui/integration/editor/fields/BaseField","sap/m/DatePicker"],function(e,t){"use strict";var a=e.extend("sap.ui.integration.editor.fields.DateField",{metadata:{library:"sap.ui.integration"},renderer:e.getMetadata().getRenderer()});a.prototype.initVisualization=function(e){var a=e.visualization;var i=e.formatter;if(e.value!==""){e.value=new Date(e.value)}if(!a){a={type:t,settings:{value:{path:"currentSettings>value",type:"sap.ui.model.type.Date",formatOptions:i},editable:e.editable,width:"100%",change:function(e){if(e.getParameters().valid){var t=e.getSource();t.getBinding("value").setValue(t.getDateValue());t.getBinding("value").checkUpdate()}else{var t=e.getSource();t.getBinding("value").setValue("")}}}}}this._visualization=a};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/DateTimeField", ["sap/ui/integration/editor/fields/BaseField","sap/m/DateTimePicker"],function(e,t){"use strict";var i=e.extend("sap.ui.integration.editor.fields.DateTimeField",{metadata:{library:"sap.ui.integration"},renderer:e.getMetadata().getRenderer()});i.prototype.initVisualization=function(e){var i=e.visualization;var a=e.formatter;if(e.value!==""){e.value=new Date(e.value)}if(!i){i={type:t,settings:{value:{path:"currentSettings>value",type:"sap.ui.model.type.DateTime",formatOptions:a},editable:e.editable,width:"100%",change:function(e){if(e.getParameters().valid){var t=e.getSource();t.getBinding("value").setValue(t.getDateValue().toISOString());t.getBinding("value").checkUpdate()}else{var t=e.getSource();t.getBinding("value").setValue("");t.getBinding("value").checkUpdate(true)}}}}}this._visualization=i};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/DestinationField", ["sap/ui/integration/editor/fields/BaseField","sap/m/Select","sap/ui/core/ListItem"],function(e,t,i){"use strict";var n=e.extend("sap.ui.integration.editor.fields.DestinationField",{metadata:{library:"sap.ui.integration"},renderer:e.getMetadata().getRenderer()});n.prototype.initVisualization=function(e){var n=e.visualization;if(!n){n={type:t,settings:{busy:{path:"currentSettings>_loading"},selectedKey:{path:"currentSettings>value"},forceSelection:false,width:"100%",items:{path:"currentSettings>_values",template:new i({text:"{currentSettings>name}",key:"{currentSettings>name}"})}}}}this._visualization=n};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/GroupField", ["sap/ui/integration/editor/fields/BaseField","sap/m/Panel","sap/m/IconTabBar","sap/m/IconTabFilter","sap/m/MessageStrip","sap/ui/core/Core"],function(e,t,r,n,i,s){"use strict";var a=e.extend("sap.ui.integration.editor.fields.GroupField",{metadata:{library:"sap.ui.integration"},renderer:e.getMetadata().getRenderer()});a.prototype.initVisualization=function(e){var n=e.visualization;if(!n||n.type==="Panel"){n={type:t,settings:{headerText:e.label,visible:e.visible,expandable:e.expandable!==false,expanded:"{currentSettings>expanded}",width:"auto",backgroundDesign:"Transparent",objectBindings:{currentSettings:{path:"currentSettings>"+(e._settingspath||"/form/items")},items:{path:"items>/form/items"},context:{path:"context>/"}},expand:function(e){var t=e.getParameter("expand");if(t){var r=e.getSource();var n=this.getConfiguration();if(!r._level){r._level=n.level||0}var i=r._level==="1"&&this.getParent().getParent()?this.getParent().getParent().getAggregation("_messageStrip"):this.getParent().getAggregation("_messageStrip");if(i===null){i=s.byId(this.getAssociation("_messageStrip"))}r.addContent(i);r.focus()}}.bind(this)}}}else if(n.type==="Tab"){n={type:r,settings:{expandable:e.expandable!==false,visible:e.visible,expanded:"{currentSettings>expanded}",objectBindings:{currentSettings:{path:"currentSettings>"+(e._settingspath||"/form/items")},items:{path:"items>/form/items"},context:{path:"context>/"}},select:this.checkErrorsInIconTabBar.bind(this)}}}this._visualization=n;this.attachAfterInit(this._afterInit)};a.prototype._afterInit=function(){var e=this.getConfiguration();var s=this.getAggregation("_field");if(s instanceof t){if(this.getMode()!=="translation"){var a=this.getResourceBundle();var o=new i({id:s.getId()+"_strip",showIcon:false,visible:"{= !${currentSettings>expanded} && ${currentSettings>hasError} === true}",text:{path:"currentSettings>errorType",formatter:function(e){var t="";switch(e){case"Error":t=a.getText("EDITOR_GROUP_ERRORS");break;case"Warning":t=a.getText("EDITOR_GROUP_WARNINGS");break;default:}return t}},type:"{currentSettings>errorType}",objectBindings:{currentSettings:{path:"currentSettings>"+(e._settingspath||"/form/items")}}});if(e.level!=="1"){o.setModel(this._settingsModel,"currentSettings")}o.addStyleClass("sapUiIntegrationEditorPanelMessageStrip");s._messageStrip=o}s._cols=e.cols||2;s._level=e.level||0;var g={onAfterRendering:function(n){var i=n.srcControl;var s=document.getElementById(i.getId());s.setAttribute("aria-label",e.label);if(i._subItems&&i._subItems.length>0){this.checkErrorsInSubItems(this._settingsModel,i)}var a=i._messageStrip;if(i._level!=="1"&&a){a.rerender()}if(i.getExpanded()){var o=i.getContent();o.forEach(function(e){if(e.isA("sap.ui.integration.editor.fields.GroupField")){var n=e.getAggregation("_field");if(n instanceof t&&n._subItems&&n._subItems.length>0){e.checkErrorsInSubItems(e._settingsModel,n)}else if(n instanceof r&&n.getItems().length>0){e.checkErrorsInIconTabBar()}}})}}.bind(this)};s.addEventDelegate(g)}else if(s instanceof r){var l=new n({text:e.label,visible:e.visible,objectBindings:{currentSettings:{path:"currentSettings>"+(e._settingspath||"/form/items")},items:{path:"items>/form/items"},context:{path:"context>/"}}});s.addItem(l);s.setBackgroundDesign("Transparent");s.setHeaderBackgroundDesign("Transparent");s.addStyleClass("sapUiIntegrationEditorSubGroup");if(this.getMode()!=="translation"){var d=new i({id:s.getId()+"_strip",showIcon:false,visible:false,objectBindings:{currentSettings:{path:"currentSettings>"+(e._settingspath||"/form/items")}}});d.addStyleClass("sapUiIntegrationEditorTabMessageStrip");s._messageStrip=d}s._level=e.level||0}};a.prototype.checkErrorsInIconTabBar=function(e){var t=this.getAggregation("_field"),r=t.getSelectedKey(),i=t.getItems(),a=t.getExpanded(),o=false;for(var g=0;g<i.length;g++){if(!a){o=true}else if(i[g].getId()!==r){o=true}else if(i[g].getId()===r){o=false}if(o){var l=false,d="None";if(i[g]._subItems&&i[g]._subItems.length>0){var u=i[g].getModel("currentSettings");var p=this.checkErrorsInSubItems(u,i[g]);l=p.hasError;d=p.errorType}if(l){var c=new n,f=i[g];if(f.getItems().length>0){f.removeAllItems()}f.addItem(c);this._handleITBValidation(f,d);if(f._oExpandButton===undefined){this._delayHandleITBValidation(f,d)}else{this._handleITBValidation(f,d)}}}else if(i[g].getItems().length>0){i[g].removeItem(i[g].getItems()[0]);if(i[g]._oExpandButton){i[g]._oExpandButton.visible=false}var h=this.getParent().getParent().getAggregation("_messageStrip");if(h===null){h=s.byId(this.getAssociation("_messageStrip"))}i[g].addContent(h)}}};a.prototype.checkErrorsInSubItems=function(e,t){var r=false;var n="None";for(var i=0;i<t._subItems.length;i++){var a=t._subItems[i].settingspath;var o=s.byId(t._subItems[i].itemId);if(e.getProperty(a+"/hasError")===true&&o.getVisible()){r=true;var g=e.getProperty(a+"/errorType");if(g==="Error"){n="Error";break}else if(g==="Warning"&&n!=="Error"){n="Warning"}}}e.setProperty("hasError",r,this.getBindingContext("currentSettings"));e.setProperty("errorType",n,this.getBindingContext("currentSettings"));return{hasError:r,errorType:n}};a.prototype._handleITBValidation=function(e,t){var r=this.getResourceBundle();if(e.getItems().length>0&&e._oExpandButton){var n=e._oExpandButton;var i=null;if(t==="Error"){i=r.getText("EDITOR_GROUP_ERRORS");n.setIcon("sap-icon://message-error");n.addStyleClass("errorBTNImage")}else if(t==="Warning"){i=r.getText("EDITOR_GROUP_WARNINGS");n.setIcon("sap-icon://message-warning");n.addStyleClass("warningBTNImage")}n.setTooltip(null);n.addEventDelegate({onAfterRendering:function(e){var t=document.getElementById(n.getId());t.setAttribute("aria-label","With validation errors");t.setAttribute("title","")}});n.setEnabled(false);n.addStyleClass("errorBTN").addStyleClass("errorBTNDisabled");var a=n.getParent().getParent().getParent();var o=s.byId(a.getId()+"_strip");n.addEventDelegate({onmouseover:function(){o.setVisible(true);o.setType(t);o.setText(i)},onmouseout:function(){o.setVisible(false)}},this)}};a.prototype._delayHandleITBValidation=function(e,t){var r=this;var n=setInterval(function(){if(e._oExpandButton){r._handleITBValidation(e,t);clearInterval(n)}},50)};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/IntegerField", ["sap/ui/integration/editor/fields/BaseField","sap/m/Input"],function(e,t){"use strict";var a=e.extend("sap.ui.integration.editor.fields.IntegerField",{metadata:{library:"sap.ui.integration"},renderer:e.getMetadata().getRenderer()});a.prototype.initVisualization=function(e){var a=e.visualization;var i=e.formatter;if(!a){a={type:t,settings:{value:{path:"currentSettings>value",type:"sap.ui.model.type.Integer",formatOptions:i},editable:e.editable,type:"Number",parseError:function(e){var t=e.getSource(),a=null;if(t.getValue()!==""){if(e.getParameters()&&e.getParameters().exception&&e.getParameters().exception.message){a=e.getParameters().exception.message}else{a=e.getId()}t.getParent()._showValueState("error",a)}else{t.getParent()._showValueState("none","")}}}}}else if(a.type==="Slider"){a.type="sap/m/Slider"}this._visualization=a};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/NumberField", ["sap/ui/integration/editor/fields/BaseField","sap/m/Input"],function(t,e){"use strict";var i=t.extend("sap.ui.integration.editor.fields.NumberField",{metadata:{library:"sap.ui.integration"},renderer:t.getMetadata().getRenderer()});i.prototype.initVisualization=function(t){var i=t.visualization;var a=t.formatter;if(!i){i={type:e,settings:{value:{path:"currentSettings>value",type:"sap.ui.model.type.Float",formatOptions:a},editable:t.editable,type:"Number"}}}this._visualization=i};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/ObjectField", ["sap/ui/integration/editor/fields/BaseField","sap/m/Text","sap/m/TextArea","sap/m/Input","sap/m/NavContainer","sap/m/Page","sap/m/Popover","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/Button","sap/ui/model/json/JSONModel","sap/ui/table/Table","sap/ui/table/Column","sap/m/Label","sap/m/VBox","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/base/util/deepEqual","sap/ui/core/Icon","sap/m/Switch","sap/m/CheckBox","sap/m/MessageBox","sap/m/MessageToast","sap/base/util/deepClone","sap/m/Link","sap/ui/layout/form/SimpleForm","sap/base/util/merge","sap/m/List","sap/m/CustomListItem","sap/ui/model/Sorter","sap/ui/core/CustomData","sap/ui/integration/editor/EditorResourceBundles","sap/base/util/includes","sap/ui/integration/util/Utils"],function(e,t,a,r,n,o,i,l,s,u,d,p,g,_,f,c,v,T,O,b,h,y,E,P,m,I,D,L,S,C,w,x,V,A){"use strict";var R=/\{\{(?!parameters.)(?!destinations.)([^\}\}]+)\}\}/g;var B=e.extend("sap.ui.integration.editor.fields.ObjectField",{metadata:{library:"sap.ui.integration",events:{tableUpdated:{}}},renderer:e.getMetadata().getRenderer()});B.prototype.initVisualization=function(e){var t=this;t._newObjectTemplate={_dt:{_selected:true,_uuid:""}};var a=e.visualization;if(!a){if(e.value&&!e.properties&&(!e.values||e.values&&!e.values.metadata)){t.parseValueProperties()}if(e.values){a=t.createTableVisualization(e)}else if(e.properties){a=t.createSimpleFormVisualization(e)}else{a=t.createTextAreaVisualization(e)}e.withLabel=true}this._visualization=a;this.attachAfterInit(this._afterInit)};B.prototype._afterInit=function(){var e=this;var t=this.getAggregation("_field");if(t instanceof I){t.addStyleClass("sapUiIntegrationEditorItemObjectFieldForm");var a=P(e.getConfiguration().value,500)||{};t.setModel(new d({value:a,editMode:"Properties"}))}else if(t instanceof p){t.addStyleClass("sapUiIntegrationEditorItemObjectFieldTable")}};B.prototype.parseValueProperties=function(){var e=this;var t=e.getConfiguration();if(typeof t.value==="object"&&!T(t.value,{})&&!Array.isArray(t.value)&&!t.properties){var a={};for(var r in t.value){if(r!=="_dt"){var n=typeof t.value[r];var o=n==="string"?{}:{type:n};a[r]=o}}if(!T(a,{})){t.properties=a;t._propertiesParsedFromValue=true}}};B.prototype.createTableVisualization=function(e){var t=this;var a=t.createTableToolbar(e);var r=[];var n=e.values?e.values.data.path||"/":"/value";if(e.values&&e.values.metadata){r={path:"meta>/"+e.values.metadata.namespace+"."+e.values.metadata.entityTypeName,filters:new c({path:"$kind",operator:v.EQ,value1:"Property"}),factory:t.columnFactory.bind(t)}}else{r=t.buildTableColumns()}var o={type:p,settings:{visibleRowCount:5,busy:"{currentSettings>_loading}",busyIndicatorDelay:200,columns:r,selectionBehavior:"RowOnly",rowSelectionChange:t.onTableSelectionChange.bind(t),toolbar:a,filter:t.onFilter.bind(t)}};if(e.type==="object"){o.settings.rows="{"+n+"}"}else{o.settings.rows="{path: '"+n+"', sorter: {path: '_dt/_position', descending: false}}"}return o};B.prototype.createSimpleFormVisualization=function(e){var t=this;var a=t.getResourceBundle();var r=function(){var e=this.getAggregation("_field").getModel();e.checkUpdate(true);var t=e.getProperty("/value");if(!t._dt){t._dt={_uuid:A.generateUuidV4()}}else if(!t._dt._uuid){t._dt._uuid=A.generateUuidV4()}t=P(t,500);this.setValue(t)}.bind(t);var n=t.createFormContents(r,"/value/",false,t.openTranslationPopup);var o=new u({icon:{path:"/editMode",formatter:function(e){if(e==="Properties"){return"sap-icon://syntax"}else{return"sap-icon://form"}}},tooltip:{path:"/editMode",formatter:function(e){if(e==="Properties"){return a.getText("EDITOR_FIELD_OBJECT_FORM_EDITMODE_JSON")}else{return a.getText("EDITOR_FIELD_OBJECT_FORM_EDITMODE_PROPERTIES")}}},press:function(){var e=t.getAggregation("_field").getModel();var a=e.getProperty("/editMode");if(a==="Properties"){e.setProperty("/editMode","Json")}else{e.setProperty("/editMode","Properties")}}});var i=new u({icon:"sap-icon://delete",tooltip:a.getText("EDITOR_FIELD_OBJECT_DELETE"),visible:e.enabled,enabled:{path:"currentSettings>value",formatter:function(e){if(!e||e===""){return false}return true}},press:function(e){t.setValue(undefined);var a=t.getAggregation("_field").getModel();var r=a.getProperty("/value");if(r&&r._dt&&r._dt._uuid){t.deleteTranslationValueInTexts(undefined,r._dt._uuid)}a.setProperty("/value",{});a.checkUpdate(true)}});var d={type:I,settings:{layout:"ResponsiveGridLayout",visible:e.visible,labelSpanXL:2,labelSpanL:2,labelSpanM:2,labelSpanS:12,emptySpanXL:1,emptySpanL:1,emptySpanM:1,emptySpanS:0,columnsXL:1,columnsL:1,columnsM:1,toolbar:new l({content:[new s,o,i]}).addStyleClass("sapMTB"),content:n}};return d};B.prototype.createTextAreaVisualization=function(e){var t=this;var r={type:a,settings:{value:{path:"currentSettings>value",formatter:function(e){if(!e||e===""){return undefined}e=JSON.stringify(e,null,"\t");if(typeof e==="object"&&!e.length){e=e.replace(/\"\$\$([a-zA-Z]*)\$\$\"/g,function(e){return e.substring(3,e.length-3)})}return e}},editable:"{config/editable}",width:"100%",enabled:"{config/enabled}",placeholder:"{config/placeholder}",visible:e.visible,change:this.onChangeOfTextArea.bind(t),rows:7}};return r};B.prototype.buildSelectionColumnLables=function(){var e=this;var t=e.getConfiguration();var a=e.getResourceBundle();return new u({icon:"sap-icon://clear-all",type:"Transparent",enabled:typeof t.values==="undefined"?false:"{/_hasSelected}",tooltip:a.getText("EDITOR_FIELD_OBJECT_TABLE_COLUMN_SELECTION_TOOLTIP_REMOVE"),press:e.onUnSelectAll.bind(e)})};B.prototype.buildTableColumns=function(){var e=this;var a=e.getConfiguration();var r=[];var n=Object.keys(a.properties);if(n.length>0){var o=e.getResourceBundle();var i=e.buildSelectionColumnLables();var l=new g({width:"3.2rem",hAlign:"Center",visible:typeof a.values==="undefined"?false:true,multiLabels:[i],template:new h({selected:"{_dt/_selected}",enabled:typeof a.values==="undefined"?false:true,tooltip:{path:"_dt/_selected",formatter:function(e){if(e){if(a.type==="object"){return o.getText("EDITOR_FIELD_OBJECT_TABLE_COLUMN_SELECTION_CELL_TOOLTIP_UNSELECT")}else{return o.getText("EDITOR_FIELD_OBJECT_LIST_TABLE_COLUMN_SELECTION_CELL_TOOLTIP_REMOVE")}}else if(a.type==="object"){return o.getText("EDITOR_FIELD_OBJECT_TABLE_COLUMN_SELECTION_CELL_TOOLTIP_SELECT")}else{return o.getText("EDITOR_FIELD_OBJECT_LIST_TABLE_COLUMN_SELECTION_CELL_TOOLTIP_ADD")}}},select:e.onSelectionChange.bind(e)})});r.push(l);for(var s in a.properties){var u=a.properties[s];var p=u.label||s;var _="{"+s+"}";if(u.defaultValue){e._newObjectTemplate[s]=u.defaultValue}var f={width:"7rem",label:p};if(u.column){f=D(f,u.column)}if(f.label.match(R)){f.label="{i18n>"+f.label.substring(2,f.label.length-1)}f.tooltip=f.label;var c=u.cell&&u.cell.type?u.cell.type:u.type||"Text";var v;var T;var y=P(u.cell)||{};delete y.type;switch(c){case"int":case"number":T={text:_,wrapping:false};T=D(T,y);v=new t(T);break;case"string":case"Text":T={text:_,wrapping:false};T=D(T,y);var E=T.text;var I=new d({translatable:u.translatable||false,property:s});if(typeof E==="string"){var L=e.getTranslationKey(E);if(L){T.text=o.getText(L)}else if(E.startsWith("{")&&E.endsWith("}")){T.text={path:E.substring(1,E.length-1),formatter:function(t){var a=this.getBindingContext(),r,n=this.getModel("settings").getData(),i=e.getTranslationKey(t);if(n.translatable||i){if(a&&a.getObject()&&a.getObject()._dt){r=e.getTranslationValueInTexts(o.sLocale.replaceAll("_","-"),a.getObject()._dt._uuid,n.property);if(r){return r}}if(i){t=o.getText(i);return t}}return t}}}}T.tooltip=y.tooltip||T.text;v=new t(T);v.setModel(I,"settings");break;case"Icon":T={src:_};T=D(T,y);v=new O(T);break;case"boolean":T={selected:_,enabled:false};T=D(T,y);v=new h(T);break;case"Switch":T={state:_,enabled:false};T=D(T,y);v=new b(T);break;case"Link":T={text:_,target:"_blank",href:_};T=D(T,y);v=new m(T);break;default:v=new t({text:_,wrapping:false});break}f.template=v;var S=new g(f);r.push(S)}}return r};B.prototype.checkHasFilterDefined=function(e){var t=true;if(e._propertiesParsedFromValue===true){t=false}else{var a=JSON.stringify(e.properties,null,"\t");t=a.indexOf("filterProperty")>-1?true:false}return t};B.prototype.createTableToolbar=function(e){var t=this;var a=t.getResourceBundle();var r=t.checkHasFilterDefined(e);var n=e.enabled!==false;var o=e.addButtonText||a.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_ADD_TOOLTIP");if(n&&e.values){n=e.values.allowAdd===true}var i=[new s,new u({icon:"sap-icon://add",visible:n,tooltip:o,press:t.addNewObject.bind(t)}),new u({icon:"sap-icon://edit",tooltip:a.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_EDIT_TOOLTIP"),enabled:"{= !!${/_hasTableSelected}}",press:t.onEditOrViewDetail.bind(t)}),new u({icon:"sap-icon://delete",tooltip:a.getText("EDITOR_FIELD_OBJECT_DELETE"),enabled:"{= !!${/_canDelete}}",press:t.onDelete.bind(t)}),new u({icon:"sap-icon://clear-filter",visible:r,enabled:"{= !!${/_hasFilter}}",tooltip:a.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_CLEAR_ALL_FILTERS_TOOLTIP"),press:t.clearAllFilters.bind(t)}),new u({icon:"sap-icon://multiselect-all",visible:false,enabled:"{= !${/_hasTableAllSelected}}",tooltip:a.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_SELECT_ALL_SELETIONS_TOOLTIP"),press:t.selectAllTableSelections.bind(t)}),new u({icon:"sap-icon://multiselect-none",visible:false,enabled:"{= !!${/_hasTableSelected}}",tooltip:a.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_CLEAR_ALL_SELETIONS_TOOLTIP"),press:t.clearAllTableSelections.bind(t)})];if(e.type==="object[]"){i=i.concat([new u({icon:"sap-icon://navigation-up-arrow",enabled:"{= !!${/_hasOnlyOneRowSelected}}",tooltip:a.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_MOVE_UP_TOOLTIP"),press:t.moveRowUp.bind(t)}),new u({icon:"sap-icon://navigation-down-arrow",enabled:"{= !!${/_hasOnlyOneRowSelected}}",tooltip:a.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_MOVE_DOWN_TOOLTIP"),press:t.moveRowDown.bind(t)})])}return new l({content:i})};B.prototype.onUnSelectAll=function(e){var t=this;var a=t.getAggregation("_field");var r=a.getBindingContext().getPath();var n=a.getModel();var o=n.getProperty(r);o.forEach(function(e){e._dt=e._dt||{};e._dt._selected=false});n.setProperty("/_hasSelected",false);n.checkUpdate(true);t.setValue(undefined)};B.prototype.onEditOrViewDetail=function(e){var t=this;var a=t.getAggregation("_field");var r=a.getSelectedIndex();var n=a.getBinding("rows").getContexts();var o=n[r].getObject();var i=a.getFirstVisibleRow();var l=a.getRows()[r-i];var s=l.getCells()[0];t.openObjectDetailsPopover(o,s,!o._dt||o._dt._editable!==false?"update":"view")};B.prototype.onFilter=function(e){var t=this;var a=t.getAggregation("_field");a.detachEvent("rowsUpdated",t.updateTable,t);a.attachEventOnce("rowsUpdated",t.updateTable,t)};B.prototype.updateTable=function(e){var t=this;t.updateSelectionColumn();t.updateToolbar();t.fireTableUpdated()};B.prototype.updateSelectionColumn=function(){var e=this;var t=e.getAggregation("_field");var a=t.getBinding("rows").getContexts();var r=false;for(var n=0;n<a.length;n++){var o=a[n].getObject();if(o._dt&&o._dt._selected){r=true;break}}t.getModel().setProperty("/_hasSelected",r)};B.prototype.updateToolbar=function(){var e=this;var t=e.getAggregation("_field");var a=t.getColumns();var r=false;for(var n=0;n<a.length;n++){var o=a[n].getMenu();var i=o.getItems();if(i.length>0){var l=i[0];var s=l.getValue();if(s&&s!==""){r=true;break}}}t.getModel().setProperty("/_hasFilter",r)};B.prototype.columnFactory=function(e,a){var r=a.getPath();var n=r.substring(a.getPath().lastIndexOf("/")+1);var o=a.getProperty("$Type");var i=a.getProperty("$MaxLength");var l="7rem";i=i?parseInt(i):10;i=i<7?7:i;if(i>50){l="15rem"}else if(i>9){l="10rem"}return new g(e,{visible:true,filterProperty:o&&o.indexOf("String")>=0?n:null,width:l,label:new _({text:n}),hAlign:o&&o.indexOf("Decimal")>=0?"End":"Begin",template:new t({text:{path:n},wrapping:false})})};B.prototype.onTableSelectionChange=function(e){var t=this;var a=t.getAggregation("_field");var r=a.getModel();var n=a.getSelectedIndices();if(n.length>0){r.setProperty("/_hasTableSelected",true);if(n.length===1){r.setProperty("/_hasOnlyOneRowSelected",true)}else{r.setProperty("/_hasOnlyOneRowSelected",false)}}else{r.setProperty("/_hasTableSelected",false);r.setProperty("/_hasOnlyOneRowSelected",false);r.setProperty("/_canDelete",false);return}if(n.length===a.getBinding("rows").getContexts().length){r.setProperty("/_hasTableAllSelected",true)}else{r.setProperty("/_hasTableAllSelected",false)}var o=[];var i=a.getBinding("rows").getContexts();n.forEach(function(e){var t=i[e].getObject();if(t._dt&&t._dt._editable!==false){var a=i[e].getPath();o.push(a)}});if(o.length===0){r.setProperty("/_canDelete",false)}else{r.setProperty("/_canDelete",true)}};B.prototype.selectAllTableSelections=function(e){var t=this;var a=t.getAggregation("_field");a.selectAll();a.getModel().setProperty("/_hasTableAllSelected",true)};B.prototype.clearAllTableSelections=function(e){var t=this;var a=t.getAggregation("_field");var r=a.getModel();a.clearSelection();r.setProperty("/_hasTableSelected",false);r.setProperty("/_hasOnlyOneRowSelected",false);r.setProperty("/_canDelete",false);r.setProperty("/_hasTableAllSelected",false)};B.prototype.moveRowUp=function(e){this.moveSelectedRow("Up")};B.prototype.moveRowDown=function(e){this.moveSelectedRow("Down")};B.prototype.moveSelectedRow=function(e){var t=this;var a=t.getAggregation("_field");var r=a.getModel();var n=a.getSelectedIndex();var o=a.getContextByIndex(n);var i=n+(e==="Up"?-1:1);var l=a.getContextByIndex(i);if(!l){return}var s=l.getProperty("_dt/_position");var u=o.getProperty("_dt/_position");r.setProperty("_dt/_position",s,o);r.setProperty("_dt/_position",u,l);r.refresh(true);a.setSelectedIndex(i);t.refreshValue()};B.prototype.onSelectionChange=function(e){var t=this;var a=e.getSource();var r=e.getParameter("selected");var n=t.getAggregation("_field");var o=n.getBindingContext().getPath();var i=n.getModel();if(r){var l=i.getProperty(o);l.forEach(function(e){e._dt=e._dt||{};e._dt._selected=false});var s=a.getBindingContext().getObject();s._dt._selected=true;var u=P(s);i.setProperty("/_hasSelected",true);t.setValue(u)}else{i.setProperty("/_hasSelected",false);t.setValue(undefined)}};B.prototype.addNewObject=function(e){var t=this;var a=e.getSource();t._newObjectTemplate._dt._uuid=A.generateUuidV4();t.openObjectDetailsPopover(t._newObjectTemplate,a,"add")};B.prototype.mergeValueWithRequestResult=function(e){var t=this;var a=t.getConfiguration();var r=t.getAggregation("_field");var n=r.getModel();if(a.value&&typeof a.value==="object"&&!T(a.value,{})){var o=P(a.value,500),i=r.getBinding("rows").getPath();if(Array.isArray(e)&&e.length>0){if(o._dt&&o._dt._editable===false){var l=o._dt._uuid||A.generateUuidV4();delete o._dt._uuid;e.forEach(function(e){if(T(e,o)){e._dt._selected=true;e._dt._uuid=l}else{e._dt._uuid=A.generateUuidV4()}})}else{e.forEach(function(e){e._dt._uuid=A.generateUuidV4()});o._dt=o._dt||{};o._dt._selected=true;o._dt._uuid=o._dt._uuid||A.generateUuidV4();e.unshift(o)}}else{o._dt=o._dt||{};o._dt._selected=true;o._dt._uuid=o._dt._uuid||A.generateUuidV4();e=[o]}n.setProperty("/_hasSelected",true);n.setProperty(i,e)}else{if(Array.isArray(e)&&e.length>0){e.forEach(function(e){e._dt._uuid=A.generateUuidV4()})}n.setProperty("/_hasSelected",false)}n.checkUpdate();t.updateTable()};B.prototype.onChangeOfTextArea=function(e){var t=this;var a=t.getResourceBundle();var r=e.getSource();var n=r.getValue();if(!n||n===""){t.saveValue(undefined,r)}else{try{var o=JSON.parse(n);if(o instanceof Array){r.setValueState("Error");r.setValueStateText(a.getText("EDITOR_VAL_NOT_A_SINGLE_JSONOBJECT"));return}t.saveValue(o,r)}catch(e){r.setValueState("Error");r.setValueStateText(a.getText("EDITOR_VAL_NOT_A_JSONOBJECT"))}}};B.prototype.onChangeOfTextAreaInPopover=function(e){var t=this;var a=t.getResourceBundle();var r=e.getSource();var n=r.getValue();if(!n||n===""){t.saveValue(undefined,r,true)}else{try{var o=JSON.parse(n);if(o instanceof Array){r.setValueState("Error");r.setValueStateText(a.getText("EDITOR_VAL_NOT_A_SINGLE_JSONOBJECT"));return}t.saveValue(o,r,true)}catch(e){r.setValueState("Error");r.setValueStateText(a.getText("EDITOR_VAL_NOT_A_JSONOBJECT"))}}};B.prototype.createFormContents=function(e,t,r,n){var o=this;var i=o.getConfiguration();var l=o.createPropertyContents(e,t,n);l.push(new _({visible:false}).addStyleClass("sapFormLabel"));l.push(new a({value:{path:t,formatter:function(e){if(!e||e===""){return undefined}if(T(e,{})&&!r&&!o._getCurrentProperty("value")){return undefined}e=JSON.stringify(e,null,"\t");if(typeof e==="object"&&!e.length){e=e.replace(/\"\$\$([a-zA-Z]*)\$\$\"/g,function(e){return e.substring(3,e.length-3)})}return e}},editable:i.editable===false?false:"{= ${"+t+"_dt/_editable} !== false}",width:"100%",placeholder:"{config/placeholder}",visible:"{= ${/editMode} === 'Json'}",change:r===true?this.onChangeOfTextAreaInPopover.bind(o):this.onChangeOfTextArea.bind(o),rows:r===true?11:7}));return l};B.prototype.createPropertyContents=function(e,t,n){var o=this;var i=o.getConfiguration();var l=[];if(!t){t="currentSettings>value/"}var s={};if(i.values&&i.values.metadata){var u=o.getModel("meta");var p="/"+i.values.metadata.namespace+"."+i.values.metadata.entityTypeName;var g=u.getProperty(p);for(var f in g){var c=g[f];var v=c["$Type"];if(c["$kind"]==="Property"&&v){if(v.indexOf("Int")>=0){s[f]={type:"int"}}else if(v.indexOf("Boolean")>=0){s[f]={type:"boolean"}}else if(v.indexOf("Decimal")>=0){s[f]={type:"number"}}else{s[f]={type:"string"}}}}}if(T(s,{})){s=i.properties}for(var O in s){var y=s[O];var E=y.label||O;if(E.match(R)){var m=E.substring(2,E.length-2);E="{i18n>"+m+"}"}var I=new _({text:E,visible:"{= ${/editMode} === 'Properties'}",required:y.required||false});l.push(I);var L;var S=P(y,500);delete S.type;delete S.label;delete S.translatable;delete S.defaultValue;delete S.formatter;delete S.column;delete S.cell;var C;switch(y.type){case"boolean":if(y.cell&&y.cell.type==="Switch"){C={state:"{"+t+O+"}",visible:"{= ${/editMode} === 'Properties'}",enabled:i.editable===false?false:"{= ${"+t+"_dt/_editable} !== false}",change:e};if(y.cell.customTextOn){C.customTextOn=y.cell.customTextOn}if(y.cell.customTextOff){C.customTextOff=y.cell.customTextOff}C=D(C,S);L=new b(C)}else{C={selected:"{"+t+O+"}",visible:"{= ${/editMode} === 'Properties'}",enabled:i.editable===false?false:"{= ${"+t+"_dt/_editable} !== false}",select:e};C=D(C,S);L=new h(C)}break;case"int":case"integer":C={value:{path:t+O,type:"sap.ui.model.type.Integer",formatOptions:y.formatter},visible:"{= ${/editMode} === 'Properties'}",editable:i.editable===false?false:"{= ${"+t+"_dt/_editable} !== false}",type:"Number",change:e};C=D(C,S);L=new r(C);break;case"number":C={value:{path:t+O,type:"sap.ui.model.type.Float",formatOptions:y.formatter},visible:"{= ${/editMode} === 'Properties'}",editable:i.editable===false?false:"{= ${"+t+"_dt/_editable} !== false}",type:"Number",change:e};C=D(C,S);L=new r(C);break;case"object":C={value:{path:t+O,formatter:function(e){if(!e||e===""){return undefined}e=JSON.stringify(e,null,"\t");if(typeof e==="object"&&!e.length){e=e.replace(/\"\$\$([a-zA-Z]*)\$\$\"/g,function(e){return e.substring(3,e.length-3)})}return e}},visible:"{= ${/editMode} === 'Properties'}",editable:i.editable===false?false:"{= ${"+t+"_dt/_editable} !== false}",change:e,rows:3};C=D(C,S);L=new a(C);break;default:var w=new d({translatable:y.translatable||false,uuidPath:t+"_dt/_uuid",property:O});C={value:"{"+t+O+"}",visible:"{= ${/editMode} === 'Properties'}",editable:i.editable===false?false:"{= ${"+t+"_dt/_editable} !== false}",change:function(t){var a=t.getSource();var r=t.getParameter("value");if(r&&r.match(R)){var n=r.substring(2,r.length-2);r="{i18n>"+n+"}";a.setValue(r);a.fireChange()}else if(e){e(t)}}};C=D(C,S);if(n){C.valueHelpIconSrc="sap-icon://translate";C.valueHelpRequest=n.bind(o,O);if(y.translatable){C.showValueHelp=true}else{C.showValueHelp={path:t+O,formatter:function(e){var t=this.getModel("settings").getData();var a=this.getModel().getProperty(t.uuidPath);var r="translatable";if(o.getTranslationKey(e)){if(!this.getShowValueHelp()&&o.getObjectPropertyConfigValueInDesigntime(a,t.property,r)===false){o.setObjectPropertyConfigValueInDesigntime(a,t.property,r,true)}return true}if(this.getShowValueHelp()){o.deleteTranslationValueInTexts(undefined,a,t.property);o.setObjectPropertyConfigValueInDesigntime(a,t.property,r,false);o._oUpdatedTranslations={}}return false}}}}L=new r(C);L.setModel(w,"settings")}l.push(L)}return l};B.prototype.saveValue=function(e,t,a){var r=this;var n;if(!a){r.setValue(e);n=r.getAggregation("_field").getModel();if(n){e=P(e,500);n.setProperty("/value",e||{})}t.setValueState("None");t.setValueStateText("");if(r.getConfiguration()._propertiesParsedFromValue){r.refreshSimpleForm()}}else{n=t.getModel();n.setProperty("/value",e);t.setValueState("None");t.setValueStateText("")}};B.prototype.refreshSimpleForm=function(){var e=this;var t=e.getConfiguration();var a=e.getAggregation("_field");var r=a.removeAllContent().slice(-2);delete t.properties;e.parseValueProperties();var n=function(){var t=a.getModel();t.checkUpdate(true);var r=t.getProperty("/value");r=P(r,500);e.setValue(r)};var o=e.createPropertyContents(n,"/value/");o=o.concat(r);o.forEach(function(e){a.addContent(e)})};B.prototype.getOriginTranslatedValues=function(e){var t=[];var a=x.getInstance();for(var r in a){var n=a[r];var o="";var i="";if(e&&n){var l=n.resourceBundle&&n.resourceBundle.getText(e);o=l;i=l}else{o="";i=""}var s={key:r,desription:n.language,value:o,originValue:i,editable:true};t.push(s)}return t};B.prototype.buildPropertyTranslationValues=function(e){var t=[];var a=x.getInstance();for(var r in a){t.push({key:r,desription:a[r].language,value:e,originValue:e,editable:true})}return t};B.prototype.openObjectDetailsPopover=function(e,t,a){var r=this;var p=r.getResourceBundle();var g=P(e,500);var _;var f="Right";if(a==="add"){f=this.getPopoverPlacement(t)}if(!r._oObjectDetailsPopover){var c=new u({text:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_ADD"),visible:a==="add",enabled:{path:"/value",formatter:function(e){if(typeof e!=="object"||T(e,{})){return false}else{var t=P(e);delete t._dt;if(T(t,{})){return false}}return true}},press:r.onAdd.bind(r)});var v=new u({text:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_UPDATE"),visible:a==="update",enabled:{path:"/value",formatter:function(e){if(!e||e===""||T(e,{})){return false}return true}},press:r.onUpdate.bind(r)});var O=new u({text:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_CANCEL"),visible:a!=="view",press:function(){if(a==="add"){var e=r._oObjectDetailsPopover.getModel().getProperty("/value");r.deleteTranslationValueInTexts(undefined,e._dt._uuid)}r._oObjectDetailsPopover.close()}});var b=new u({text:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_CLOSE"),visible:a==="view",press:function(){r._oObjectDetailsPopover.close()}});var h=new u({icon:{path:"/editMode",formatter:function(e){if(e==="Properties"){return"sap-icon://syntax"}else{return"sap-icon://form"}}},tooltip:{path:"/editMode",formatter:function(e){if(e==="Properties"){return p.getText("EDITOR_FIELD_OBJECT_FORM_EDITMODE_JSON")}else{return p.getText("EDITOR_FIELD_OBJECT_FORM_EDITMODE_PROPERTIES")}}},press:function(e){var t=e.getSource();var a=t.getModel();var r=a.getProperty("/editMode");if(r==="Properties"){a.setProperty("/editMode","Json")}else{a.setProperty("/editMode","Properties")}}});var y;r._oNavContainer=new n;r._oObjectDetailsPage=new o({title:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_TITLE"),headerContent:h,footer:new l({content:[new s,c,v,O,b]})});var E=function(e){r._oNavContainer.back();r._oObjectDetailsPage.focus()};var m=r.buildTranslationsList();var D=r.buildTranslationsFooter(m,false);r._oTranslationListPage=new o({title:p.getText("EDITOR_FIELD_OBJECT_TRANSLATION_LIST_TITLE","{languages>/property}"),showNavButton:true,navButtonPress:E,content:m,footer:D});var L=function(e){var t=r._oObjectDetailsPopover.getModel();t.checkUpdate(true);var a=t.getProperty("/value");if(a&&a!==""&&typeof a==="object"&&!T(a,{})){c.setEnabled(true)}else{c.setEnabled(false)}};var S=function(){};if(e._dt&&e._dt._editable===false){y=r.createFormContents(S,"/value/",true,r.navToTranslationPage)}else{y=r.createFormContents(L,"/value/",true,r.navToTranslationPage)}var C=new I({layout:"ResponsiveGridLayout",labelSpanXL:4,labelSpanL:4,labelSpanM:4,labelSpanS:12,emptySpanXL:1,emptySpanL:1,emptySpanM:1,emptySpanS:0,columnsXL:1,columnsL:1,columnsM:1,content:y});r._oObjectDetailsPage.addContent(C);r._oNavContainer.addPage(r._oObjectDetailsPage);r._oNavContainer.addPage(r._oTranslationListPage);r._oObjectDetailsPopover=new i({placement:f,showHeader:false,contentWidth:"300px",contentHeight:"345px",modal:true,content:r._oNavContainer}).addStyleClass("sapUiIntegrationEditorItemObjectFieldDetailsPopover");_=new d({value:g,editMode:"Properties"});r._oObjectDetailsPopover.setModel(_);r._oObjectDetailsPopover.setModel(r.getModel("i18n"),"i18n");r._oObjectDetailsPopover._oAddButton=c;r._oObjectDetailsPopover._oUpdateButton=v;r._oObjectDetailsPopover._oCancelButton=O;r._oObjectDetailsPopover._oCloseButton=b;r._oObjectDetailsPopover._openBy=t}else{_=r._oObjectDetailsPopover.getModel();_.setProperty("/value",g);_.checkUpdate(true);if(a==="add"){r._oObjectDetailsPopover._oAddButton.setVisible(true);r._oObjectDetailsPopover._oUpdateButton.setVisible(false);r._oObjectDetailsPopover._oCancelButton.setVisible(true);r._oObjectDetailsPopover._oCloseButton.setVisible(false)}else if(a==="update"){r._oObjectDetailsPopover._oAddButton.setVisible(false);r._oObjectDetailsPopover._oUpdateButton.setVisible(true);r._oObjectDetailsPopover._oCancelButton.setVisible(true);r._oObjectDetailsPopover._oCloseButton.setVisible(false)}else{r._oObjectDetailsPopover._oAddButton.setVisible(false);r._oObjectDetailsPopover._oUpdateButton.setVisible(false);r._oObjectDetailsPopover._oCancelButton.setVisible(false);r._oObjectDetailsPopover._oCloseButton.setVisible(true)}r._oObjectDetailsPopover._openBy=t;r._oObjectDetailsPopover.setPlacement(f);r._oNavContainer.back()}r._oObjectDetailsPopover.openBy(t)};B.prototype.buildTranslationsData=function(e,t,a,r){var n=this;var o=n.getResourceBundle();n._oOriginTranslatedValues=n._oOriginTranslatedValues||{};n._oUpdatedTranslations=n._oUpdatedTranslations||{};var i=a+"_"+r;var l=e;if(t==="key"){if(!n._oOriginTranslatedValues[e]){n._oOriginTranslatedValues[e]=n.getOriginTranslatedValues(e)}}else if(t==="property"){l=i;n._oOriginTranslatedValues[l]=n.buildPropertyTranslationValues(e)}var s=[];n._oOriginTranslatedValues[l].forEach(function(e){var t=P(e,500);t.status=o.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");var i=n.getTranslationValueInTexts(t.key,a,r);if(i){t.value=i;if(V(n._oUpdatedTranslations[l],t.key)){t.value=n.getTranslationValueInTexts(t.key,a,r);t.status=o.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_UPDATED")}else{t.originValue=t.value}}if(t.key===o.sLocale.replaceAll("_","-")){t.desription+=" ("+o.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_CURRENTLANGUAGE")+")";s.unshift(t)}else{s.push(t)}});var u={isUpdated:false,key:e,translationKey:l,translationType:t,uuid:a,property:r,translatedLanguages:s};return u};B.prototype.getTranslationKey=function(e){var t;if(e&&e.match(R)){t=e.substring(2,e.length-2)}else if(e&&e.startsWith("{i18n>")&&e.endsWith("}")){t=e.substring(6,e.length-1)}return t};B.prototype.buildTranslationsModel=function(e){var t=this;var a=t.getResourceBundle();var r=new d(e);r.attachPropertyChange(function(e){var t=r.getData();var n=a.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_UPDATED");var o=a.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");var i=false;t.translatedLanguages.forEach(function(e){if(e.value!==e.originValue){e.status=n;i=true}else{e.status=o}});t.isUpdated=i;r.setData(t);r.checkUpdate(true)});return r};B.prototype.buildTranslationsList=function(){return new L({items:{path:"languages>/translatedLanguages",template:new S({content:[new f({items:[new t({text:"{languages>desription}"}),new r({value:"{languages>value}",editable:"{languages>editable}"})]})],customData:[new w({key:"{languages>key}",value:"{languages>desription}"})]}),sorter:[new C({path:"status",descending:true,group:true})]}})};B.prototype.buildTranslationsFooter=function(e,t){var a=this;var r=a.getResourceBundle();var n=r.sLocale.replaceAll("_","-");var o=new u({type:"Emphasized",text:r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_BUTTON_SAVE"),enabled:"{languages>/isUpdated}",press:function(){var t=e.getModel("languages");var r=t.getData();var o=[];var i=r.key;var l=r.translationKey;var s=r.translationType;var u=r.uuid;var d=r.property;r.translatedLanguages.forEach(function(e){if(e.value!==e.originValue){a.setTranslationValueInTexts(e.key,u,d,e.value);o.push(e.key)}});var p=false;if(o.length>0){a._oUpdatedTranslations=a._oUpdatedTranslations||{};a._oUpdatedTranslations[l]=o;if(V(o,n)){p=true}}r=a.buildTranslationsData(i,s,u,d);t.setData(r);t.checkUpdate(true);if(a.getModel()){a.getModel().checkUpdate(true)}if(p&&a._oValueBinding){a._oValueBinding.fireEvent("change")}}});var i=new u({text:r.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_RESET"),enabled:"{languages>/isUpdated}",press:function(t){var a=e.getModel("languages");var n=a.getData();n.translatedLanguages.forEach(function(e){e.value=e.originValue;e.status=r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED")});n.isUpdated=false;a.setData(n);a.checkUpdate(true)}});var d=new u({text:r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_BUTTON_CANCEL"),visible:t,press:function(){a._oTranslationPopover.close()}});return new l({content:[new s,o,i,d]})};B.prototype.openTranslationPopup=function(e,t){var a=this;var r=t.getSource();var n=a.getResourceBundle();var o=r.getModel().getProperty("/value");if(!o._dt){o._dt={_uuid:A.generateUuidV4()}}else if(!o._dt._uuid){o._dt._uuid=A.generateUuidV4()}var l=r.getValue();var s=a.getTranslationKey(l);var u="property";if(s&&s!==""){u="key"}else{s=l}var d=a.buildTranslationsData(s,u,o._dt._uuid,e);var p;var g=this.getPopoverPlacement(r._oValueHelpIcon);if(!a._oTranslationPopover){var _=a.buildTranslationsList();var f=a.buildTranslationsFooter(_,true);a._oTranslationPopover=new i({placement:g,contentWidth:"300px",contentHeight:"345px",title:n.getText("EDITOR_FIELD_OBJECT_TRANSLATION_LIST_TITLE","{languages>/property}"),content:_,footer:f}).addStyleClass("sapUiIntegrationFieldTranslation");p=a.buildTranslationsModel(d);a._oTranslationPopover.setModel(p,"languages")}else{a._oTranslationPopover.setPlacement(g);p=a._oTranslationPopover.getModel("languages");p.setData(d);p.checkUpdate(true)}a._oTranslationPopover.openBy(r._oValueHelpIcon)};B.prototype.navToTranslationPage=function(e,t){var a=this;var r=a._oObjectDetailsPopover.getModel().getProperty("/value");var n=r[e];var o=a.getTranslationKey(n);var i="property";if(o&&o!==""){i="key"}else{o=n}var l=a.buildTranslationsData(o,i,r._dt._uuid,e);var s=a._oTranslationListPage.getModel("languages");if(!s){s=a.buildTranslationsModel(l);a._oTranslationListPage.setModel(s,"languages")}else{s.setData(l)}a._oNavContainer.to(a._oTranslationListPage);a._oTranslationListPage.focus()};B.prototype.onAdd=function(e){var t=this;var a=t.getAggregation("_field");var r=a.getModel();var n=t._oObjectDetailsPopover.getModel().getProperty("/value");var o=a.getBinding("rows").getPath();var i=r.getProperty(o);i.forEach(function(e){if(e._dt._selected){e._dt._selected=false}});i.push(n);r.setProperty("/_hasSelected",true);r.setProperty("/_hasTableAllSelected",false);r.setProperty("/_hasTableSelected",false);r.setProperty("/_hasOnlyOneRowSelected",false);r.checkUpdate();t.refreshValue();t.updateTable();t._oObjectDetailsPopover.close()};B.prototype.onUpdate=function(e){var t=this;var a=t.getAggregation("_field");var r=t._oObjectDetailsPopover.getModel().getProperty("/value");var n=a.getModel();var o=t._oObjectDetailsPopover._openBy.getParent();var i=o.getIndex();var l=a.getBinding("rows").getContexts();var s=l[i].getPath();n.setProperty(s,P(r,500));n.checkUpdate();if(r._dt&&r._dt._selected){t.refreshValue()}t.updateTable();t._oObjectDetailsPopover.close()};B.prototype.onDelete=function(e){var t=this;var a=t.getAggregation("_field");var r=t.getResourceBundle();var n=a.getSelectedIndices();var o=[];var i=a.getBinding("rows").getContexts();n.forEach(function(e){var t=i[e].getObject();if(t._dt&&t._dt._editable!==false){var a=i[e].getPath();var r=a.substring(a.lastIndexOf("/")+1);o.push(r)}});if(o.length===0){y.error(r.getText("EDITOR_FIELD_OBJECT_DELETE_ERROR_MSG"));return}y.confirm(r.getText("EDITOR_FIELD_OBJECT_DELETE_CONFIRM_MSG"),{title:r.getText("EDITOR_FIELD_OBJECT_DELETE_CONFIRM_TITLE"),onClose:function(e){if(e===y.Action.OK){var n=a.getBindingContext().getPath();var i=a.getModel();var l=i.getProperty(n);var s=[];for(var u=0;u<l.length;u++){if(V(o,u+"")){t.deleteTranslationValueInTexts(undefined,l[u]._dt._uuid)}else{s.push(l[u])}}i.setProperty(n,s);i.checkUpdate(true);t.refreshValue();t.updateTable()}else{E.show(r.getText("EDITOR_FIELD_OBJECT_DELETE_CONFIRM_CANCLE"))}}})};B.prototype.refreshValue=function(){var e=this;var t=e.getAggregation("_field");var a=t.getModel();var r=t.getBinding("rows").getPath();var n=a.getProperty(r);var o;for(var i=0;i<n.length;i++){var l=n[i];if(l._dt._selected){o=P(l);break}}e.setValue(o)};B.prototype.clearAllFilters=function(e){var t=this;var a=t.getAggregation("_field");var r=a.getColumns();for(var n=0;n<r.length;n++){var o=r[n];if(n<r.length-1){o._applySelection=false}a.filter(o,undefined)}};B.prototype.setValue=function(e){var t=this;t.cleanDT(e);t._setCurrentProperty("value",e)};B.prototype.cleanDT=function(e){if(e&&e._dt&&e._dt._selected){delete e._dt._selected}if(e&&e._dt&&T(e._dt,{})){delete e._dt}};B.prototype.getTranslationValueInTexts=function(e,t,a){var r=this;var n=r.getConfiguration();var o="/texts/"+e;var i=this._settingsModel.getProperty(o)||{};var l=i[n.manifestpath];var s;if(l&&l[t]){s=l[t][a]}return s};B.prototype.setObjectPropertyConfigValueInDesigntime=function(e,t,a,r){var n=this;var o=n.getConfiguration();var i="/:designtime";var l=this._settingsModel.getData();if(!l){return}var s;if(!l.hasOwnProperty(":designtime")){s={}}else{s=P(l[":designtime"],500)}if(!s.hasOwnProperty(o.manifestpath)){s[o.manifestpath]={}}if(!s[o.manifestpath].hasOwnProperty(e)){s[o.manifestpath][e]={}}if(!s[o.manifestpath][e].hasOwnProperty(t)){s[o.manifestpath][e][t]={}}s[o.manifestpath][e][t][a]=r;this._settingsModel.setProperty(i,s)};B.prototype.getObjectPropertyConfigValueInDesigntime=function(e,t,a){var r=this;var n;var o=r.getConfiguration();var i=this._settingsModel.getData();if(i&&i[":designtime"]&&i[":designtime"][o.manifestpath]&&i[":designtime"][o.manifestpath][e]&&i[":designtime"][o.manifestpath][e][t]&&i[":designtime"][o.manifestpath][e][t].hasOwnProperty(a)){n=i[":designtime"][o.manifestpath][e][t][a]}return n};B.prototype.setTranslationValueInTexts=function(e,t,a,r){var n=this;var o=n.getConfiguration();var i="/texts";var l=this._settingsModel.getData();if(!l){return}var s;if(!l.hasOwnProperty("texts")){s={}}else{s=P(l.texts,500)}if(!s.hasOwnProperty(e)){s[e]={}}if(!s[e].hasOwnProperty(o.manifestpath)){s[e][o.manifestpath]={}}if(!s[e][o.manifestpath].hasOwnProperty(t)){s[e][o.manifestpath][t]={}}s[e][o.manifestpath][t][a]=r;this._settingsModel.setProperty(i,s)};B.prototype.deleteTranslationValueInTexts=function(e,t,a){var r=this;var n=r._settingsModel.getData();if(!n||!n.texts||!t){return}var o=r.getConfiguration();var i="/texts";var l=P(n.texts,500);if(e){if(l[e]&&l[e][o.manifestpath]&&l[e][o.manifestpath][t]){if(a){if(l[e][o.manifestpath][t].hasOwnProperty(a)){delete l[e][o.manifestpath][t][a];if(T(l[e][o.manifestpath][t],{})){delete l[e][o.manifestpath][t]}this._settingsModel.setProperty(i,l)}}else{delete l[e][o.manifestpath][t];if(T(l[e][o.manifestpath],{})){delete l[e][o.manifestpath];if(T(l[e],{})){delete l[e]}}this._settingsModel.setProperty(i,l)}}}else{for(var s in l){r.deleteTranslationValueInTexts(s,t,a)}}};return B});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/ObjectListField", ["sap/ui/integration/editor/fields/ObjectField","sap/ui/model/json/JSONModel","sap/ui/table/Table","sap/m/CheckBox","sap/base/util/deepEqual","sap/base/util/deepClone","sap/ui/integration/util/Utils"],function(e,t,a,r,i,o,n){"use strict";var l=e.extend("sap.ui.integration.editor.fields.ObjectListField",{metadata:{library:"sap.ui.integration"},renderer:e.getMetadata().getRenderer()});l.prototype.initVisualization=function(e){var t=this;t._positionCount=1;t._newObjectTemplate={_dt:{_selected:true,_uuid:""}};var a=e.visualization;if(!a){if(e.value&&!e.properties&&(!e.values||e.values&&!e.values.metadata)){t.parseValueProperties()}if(e.values||e.properties){a=t.createTableVisualization(e)}else{a=t.createTextAreaVisualization(e)}e.withLabel=true}this._visualization=a;this.attachAfterInit(this._afterInit)};l.prototype._afterInit=function(){var e=this;var r=e.getAggregation("_field");if(r instanceof a){r.addStyleClass("sapUiIntegrationEditorItemObjectListFieldTable");var i=e.getConfiguration();if(!i.values){var l=[];if(Array.isArray(i.value)){l=o(i.value,500);l.forEach(function(t){t._dt=t._dt||{};t._dt._selected=true;t._dt._uuid=t._dt._uuid||n.generateUuidV4();t._dt._position=e._positionCount;e._positionCount++})}e.setModel(new t({value:l,_allSelected:true}));e.bindObject({path:"/value"})}}};l.prototype.parseValueProperties=function(){var e=this;var t=e.getConfiguration();if(Array.isArray(t.value)&&t.value.length>0&&!t.properties){var a={};t.value.forEach(function(e){for(var t in e){if(!a[t]&&t!=="_dt"){var r=typeof e[t];var i=r==="string"?{}:{type:r};a[t]=i}}});if(!i(a,{})){t.properties=a;t._propertiesParsedFromValue=true}}};l.prototype.buildSelectionColumnLables=function(){var e=this;var t=e.getConfiguration();var a=e.getResourceBundle();return new r({selected:"{/_allSelected}",visible:typeof t.values!=="undefined",tooltip:{path:"/_allSelected",formatter:function(e){if(!e){return a.getText("EDITOR_FIELD_OBJECT_LIST_TABLE_COLUMN_SELECTION_TOOLTIP_ADDALL")}else{return a.getText("EDITOR_FIELD_OBJECT_LIST_TABLE_COLUMN_SELECTION_TOOLTIP_REMOVEALL")}}},select:e.onSelectionColumnClick.bind(e)})};l.prototype.addNewObject=function(e){var t=this;var a=e.getSource();t._newObjectTemplate._dt._uuid=n.generateUuidV4();t.openObjectDetailsPopover(t._newObjectTemplate,a,"add")};l.prototype.onSelectionColumnClick=function(e){var t=this;var a=e.getParameter("selected");var r=t.getAggregation("_field");var i=r.getBinding("rows").getContexts();i.forEach(function(e){var t=e.getObject();t._dt=t._dt||{};t._dt._selected=a});var n=r.getModel();var l=r.getBinding("rows").getPath();var s=n.getProperty(l);var u;s.forEach(function(e){if(e._dt&&e._dt._selected){var t=o(e,500);u=u||[];u.push(t)}});n.checkUpdate(true);t.setValue(u)};l.prototype.updateSelectionColumn=function(){var e=this;var t=e.getAggregation("_field");var a=t.getBinding("rows").getContexts();var r=true;if(a.length===0){r=false}else{for(var i=0;i<a.length;i++){var o=a[i].getObject();if(!o._dt||o._dt._selected!==true){r=false;break}}}t.getModel().setProperty("/_allSelected",r)};l.prototype.onAdd=function(e){var t=this;var a=t.getAggregation("_field");var r=t._oObjectDetailsPopover.getModel().getProperty("/value");r._dt._position=t._positionCount;var i=a.getBinding("rows").getPath();var o=a.getModel();var n=o.getProperty(i);n.push(r);o.setProperty("/_hasTableAllSelected",false);o.setProperty("/_hasTableSelected",false);o.checkUpdate();t.refreshValue();t._oObjectDetailsPopover.close();t._positionCount++};l.prototype.refreshValue=function(){var e=this;var t=e.getAggregation("_field");var a=t.getModel();var r=t.getBinding("rows").getPath();var i=a.getProperty(r);var n=[];i.forEach(function(e){if(e._dt._selected){var t=o(e);n.push(t)}});e.setValue(n)};l.prototype.onSelectionChange=function(e){var t=this;var a=e.getParameter("selected");var r=this._getCurrentProperty("value");var i=t.getAggregation("_field");var o=i.getModel();if(a||r.length>1){t.refreshValue();t.updateSelectionColumn()}else{o.setProperty("/_allSelected",false);t.setValue(undefined)}};l.prototype.mergeValueWithRequestResult=function(e){var t=this;var a=t.getConfiguration();var r=t.getAggregation("_field");var l=r.getModel();if(Array.isArray(a.value)&&a.value.length>0){var s=o(a.value,500),u=r.getBinding("rows").getPath();if(Array.isArray(e)&&e.length>0){t._positionCount=a.value.length+1;var d=[];s.forEach(function(e){var t;if(!e._dt){t=n.generateUuidV4()}else{t=e._dt._uuid||n.generateUuidV4();delete e._dt._uuid;delete e._dt._position}d.push(t)});var _=[];for(var p=0;p<e.length;p++){var g=e[p];var f=false;for(var c=0;c<s.length;c++){if(i(g,s[c])){f=true;break}}if(!f){g._dt._uuid=n.generateUuidV4();g._dt._position=t._positionCount;t._positionCount++;_.push(g)}}for(var v=0;v<s.length;v++){var h=s[v];h._dt=h._dt||{};h._dt._selected=true;h._dt._uuid=d[v];h._dt._position=v+1}if(_.length>0){l.setProperty("/_allSelected",false);s=s.concat(_)}else{l.setProperty("/_allSelected",true)}}else{s.forEach(function(e){e._dt=e._dt||{};e._dt._selected=true;e._dt._uuid=e._dt._uuid||n.generateUuidV4();e._dt._position=t._positionCount;t._positionCount++});l.setProperty("/_allSelected",true)}l.setProperty(u,s)}else{if(Array.isArray(e)&&e.length>0){e.forEach(function(e){e._dt._uuid=n.generateUuidV4();e._dt._position=t._positionCount;t._positionCount++})}l.setProperty("/_allSelected",false)}l.checkUpdate();t.updateTable()};l.prototype.onChangeOfTextArea=function(e){var t=this;var a=t.getResourceBundle();var r=e.getSource();var i=r.getValue();if(!i||i===""){t.saveValue(undefined,r)}else{try{var o=JSON.parse(i);if(!(o instanceof Array)){r.setValueState("Error");r.setValueStateText(a.getText("EDITOR_VAL_NOT_AN_ARRAY_OF_JSONOBJECTS"));return}t.saveValue(o,r)}catch(e){r.setValueState("Error");r.setValueStateText(a.getText("EDITOR_VAL_NOT_A_JSONOBJECT"))}}};l.prototype.saveValue=function(e,t,a){var r=this;var i;if(!a){r.setValue(e)}else{i=t.getModel();i.setProperty("/value",e)}t.setValueState("None");t.setValueStateText("")};l.prototype.cleanDT=function(e){if(e){e.forEach(function(e){if(e&&e._dt&&e._dt._selected){delete e._dt._selected}if(e&&e._dt&&i(e._dt,{})){delete e._dt}})}};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/StringField", ["sap/ui/integration/editor/fields/BaseField","sap/m/Input","sap/m/Text","sap/m/Title","sap/m/Select","sap/m/ComboBox","sap/m/Popover","sap/m/Button","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/ui/core/ListItem","sap/m/List","sap/m/CustomListItem","sap/m/VBox","sap/base/util/each","sap/base/util/restricted/_debounce","sap/ui/core/Core","sap/ui/model/json/JSONModel","sap/ui/integration/editor/EditorResourceBundles","sap/base/util/deepClone","sap/ui/model/Sorter","sap/m/GroupHeaderListItem","sap/base/util/includes","sap/ui/core/CustomData"],function(e,t,a,n,s,r,i,l,u,o,g,p,d,c,v,h,f,_,T,I,P,L,S,y){"use strict";var m=/parameters\.([^\}\}]+)/g;var O=["TODAY_ISO","NOW_ISO","LOCALE"];var b=e.extend("sap.ui.integration.editor.fields.StringField",{metadata:{library:"sap.ui.integration"},renderer:e.getMetadata().getRenderer()});b.prototype.initVisualization=function(e){var n=e.visualization;if(!n){var i=e.value?e.value.match(m):undefined;var l,u,o;if(i&&i.length>0){i=i.filter(function(e){var t=e.substring(11);return!S(O,t)})}if(i&&i.length>0){l=i.map(function(e){if(this.isOrigLangField){return"items>"+e.substring(11)+"/_language/value"}return"items>"+e.substring(11)+"/value"}.bind(this));l.unshift("currentSettings>value");u={parts:l,formatter:function(e){var t=Array.prototype.slice.call(arguments,1);for(var a=0;a<t.length;a++){if(t[a]){e=e.replaceAll("{{"+i[a]+"}}",t[a])}}return e}};o=function(e){var t=e.getSource().getValue();var a=this.getBindingContext("currentSettings").sPath;this._settingsModel.setProperty(a+"/value",t);var n=this._settingsModel.getBindings();var s=a.substring(a.lastIndexOf("/")+1);v(n,function(e,t){if(t.sPath==="/form/items/"+s+"/value"){t.checkUpdate(true)}})}.bind(this)}if(this.getMode()==="translation"){if(e.editable){n={type:t,settings:{value:{path:"currentSettings>value"},tooltip:{path:"currentSettings>value"},editable:e.editable,visible:e.visible,placeholder:e.placeholder}}}else{n={type:a,settings:{text:{path:"currentSettings>value"},tooltip:{path:"currentSettings>value"},visible:e.visible,wrapping:false}}}}else if(e.enum){var p=new g({key:{path:"currentSettings>"},text:{path:"currentSettings>"}});n={type:s,settings:{selectedKey:{path:"currentSettings>value"},forceSelection:false,editable:e.editable,visible:e.visible,showSecondaryValues:false,width:"100%",items:{path:"currentSettings>enum",template:p}}}}else if(e.values){var p=this.formatListItem(e.values.item);if(!e.values.item.key){e.values.item.key=e.values.item.text}n={type:r,settings:{busy:{path:"currentSettings>_loading"},selectedKey:{path:"currentSettings>value"},editable:e.editable,visible:e.visible,showSecondaryValues:true,width:"100%",items:{path:"",template:p}}};if(this.isFilterBackend()){n.settings.selectedKey={parts:["currentSettings>value","currentSettings>suggestValue"],formatter:function(e,t){if((!e||e==="")&&t){return t.replaceAll("''","'")}else{return e}}}}}else if(this.getMode()!=="translation"&&e.translatable){n={type:t,settings:{value:{path:"currentSettings>value"},tooltip:{path:"currentSettings>value"},editable:e.editable,visible:e.visible,placeholder:e.placeholder,valueHelpIconSrc:"sap-icon://translate",showValueHelp:true,valueHelpRequest:this.openTranslationListPopup,change:function(t){var a=t.getSource();var n=a.getValue();var s=f.getConfiguration().getLanguage().replaceAll("_","-");a.getParent().setTranslationValueInTexts(s,e.manifestpath,n)}}};if(l){delete n.settings.tooltip;n.settings.value=u;n.settings.change=o;n.settings.showValueHelp=false;delete n.settings.valueHelpRequest}}else{n={type:t,settings:{value:{path:"currentSettings>value"},tooltip:{path:"currentSettings>value"},editable:e.editable,visible:e.visible,placeholder:e.placeholder}};if(l){delete n.settings.tooltip;n.settings.value=u;n.settings.change=o}}}else if(n.type==="TextArea"){n.type="sap/m/TextArea"}this._visualization=n;this.attachAfterInit(this._afterInit)};b.prototype._afterInit=function(){var e=this.getAggregation("_field");if(e instanceof r){if(this.isFilterBackend()){this.onInput=h(this.onInput,500);e.oninput=this.onInput.bind(this);e.attachSelectionChange(this.onSelectionChange.bind(this))}}};b.prototype.onSelectionChange=function(e){var t=e.getParameter("selectedItem")||{};var a=t.getKey();var n=this.getBindingContext("currentSettings").sPath;this._settingsModel.setProperty(n+"/value",a)};b.prototype.onInput=function(e){var t=e.target.value;var a=this.getBindingContext("currentSettings").sPath;this._settingsModel.setProperty(a+"/suggestValue",t.replaceAll("'","''"));this._settingsModel.setProperty(a+"/_loading",true);this._settingsModel.setProperty(a+"/value","");var n=this._settingsModel.getBindings();var s=a.substring(a.lastIndexOf("/")+1);v(n,function(e,t){if(t.sPath==="/form/items/"+s+"/value"){t.checkUpdate(true)}});var r=e.srcControl;r.open();r.setValue(t);r.setSelection(null)};b.prototype.getOriginTranslatedValues=function(e){var t=[];var a=T.getInstance();var n;if(e._translatedDefaultPlaceholder&&e._translatedDefaultPlaceholder.startsWith("{i18n>")&&e._translatedDefaultPlaceholder.endsWith("}")){n=e._translatedDefaultPlaceholder.substring(6,e._translatedDefaultPlaceholder.length-1)}else if(e._translatedDefaultPlaceholder&&e._translatedDefaultPlaceholder.startsWith("{{")&&e._translatedDefaultPlaceholder.endsWith("}}")){n=e._translatedDefaultPlaceholder.substring(2,e._translatedDefaultPlaceholder.length-2)}for(var s in a){var r=a[s];var i="";var l="";if(n&&r){var u=r.resourceBundle&&r.resourceBundle.getText(n,[],true);if(u!==undefined){i=u;l=u}else{i=e._translatedValue||"";l=e._translatedValue||""}}else{i=e._translatedDefaultPlaceholder||"";l=e._translatedDefaultPlaceholder||""}var o={key:s,desription:r.language,value:i,originValue:l,editable:true};t.push(o)}return t};b.prototype.getTranslationValueInTexts=function(e,t){var a="/texts/"+e;var n=this._settingsModel.getProperty(a)||{};return n[t]};b.prototype.setTranslationValueInTexts=function(e,t,a){var n="/texts";var s=this._settingsModel.getData();if(!s){return}if(!s.hasOwnProperty("texts")){var r={};r[e]={};r[e][t]=a;this._settingsModel.setProperty(n,r)}else{n="/texts/"+e;var i;if(!s.texts.hasOwnProperty(e)){i={}}else{i=s.texts[e]}i[t]=a;this._settingsModel.setProperty(n,i)}};b.prototype.openTranslationListPopup=function(e){var s=this;var r=e.getSource();var g=r.getParent();var v=g.getConfiguration();if(!s._aOriginTranslatedValues){s._aOriginTranslatedValues=g.getOriginTranslatedValues(v)}var h=I(s._aOriginTranslatedValues,500);var f=g.getResourceBundle();h.forEach(function(e){var t=g.getTranslationValueInTexts(e.key,v.manifestpath);if(t){e.value=t;if(!S(s._aUpdatedLanguages,e.key)){e.originValue=e.value}}else if(v._beforeLayerChange){e.value=v._beforeLayerChange;if(!S(s._aUpdatedLanguages,e.key)){e.originValue=e.value}}e.status=f.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");if(e.key===f.sLocale.replaceAll("_","-")){e.editable=false}});var T={currentLanguage:{},isUpdated:false,translatedLanguages:[]};var L;if(h){h.forEach(function(e){if(S(s._aUpdatedLanguages,e.key)){e.value=g.getTranslationValueInTexts(e.key,v.manifestpath);e.status=f.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_UPDATED")}if(e.key===f.sLocale.replaceAll("_","-")){e.value=r.getValue();T.currentLanguage=e}else{T.translatedLanguages.push(e)}})}var m=g.getPopoverPlacement(r._oValueHelpIcon);if(!s._oTranslationPopover){var O=new p({items:{path:"languages>/translatedLanguages",template:new d({content:[new c({items:[new a({text:"{languages>desription}"}),new t({value:"{languages>value}",editable:"{languages>editable}"})]})],customData:[new y({key:"{languages>key}",value:"{languages>desription}"})]}),sorter:[new P({path:"status",descending:true,group:true})],groupHeaderFactory:g.getGroupHeader}});s._oTranslationPopover=new i({placement:m,contentWidth:"300px",contentHeight:"345px",customHeader:new c({items:[new n({text:f.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_TITLE")}).addStyleClass("sapMPopoverTitle"),new n({text:f.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_CURRENTLANGUAGE")}).addStyleClass("sapMHeaderTitle"),new c({items:[new a({text:"{languages>/currentLanguage/desription}"}),new t({value:"{languages>/currentLanguage/value}",editable:false})]}).addStyleClass("sapMCurrentLanguageVBox"),new n({text:f.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_OTHERLANGUAGES")}).addStyleClass("sapMHeaderTitle")]}),content:O,footer:new u({content:[new o,new l({type:"Emphasized",text:f.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_BUTTON_SAVE"),enabled:"{languages>/isUpdated}",press:function(){var e=s._oTranslationPopover.getModel("languages").getData();var t=[];e.translatedLanguages.forEach(function(e){if(e.value!==e.originValue){g.setTranslationValueInTexts(e.key,v.manifestpath,e.value);t.push(e.key)}});if(e.currentLanguage.value!=e.currentLanguage.originValue){g.setTranslationValueInTexts(e.currentLanguage.key,v.manifestpath,e.currentLanguage.value);t.push(e.currentLanguage.key)}if(t.length>0){s._aUpdatedLanguages=t}s._oTranslationPopover.close()}}),new l({text:f.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_BUTTON_CANCEL"),press:function(){s._oTranslationPopover.close()}})]})}).addStyleClass("sapUiIntegrationFieldTranslation");L=new _(T);L.attachPropertyChange(function(e){var t=L.getData();var a=f.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_UPDATED");var n=f.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");var s=false;t.translatedLanguages.forEach(function(e){if(e.value!==e.originValue){e.status=a;s=true}else{e.status=n}});t.isUpdated=s;L.setData(t);L.checkUpdate(true)});s._oTranslationPopover.setModel(L,"languages")}else{s._oTranslationPopover.setPlacement(m);L=s._oTranslationPopover.getModel("languages");L.setData(T);L.checkUpdate(true)}s._oTranslationPopover.openBy(r._oValueHelpIcon)};b.prototype.getGroupHeader=function(e){return new L({title:e.key,upperCase:false})};return b});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/StringListField", ["sap/ui/integration/editor/fields/BaseField","sap/m/Input","sap/m/MultiComboBox","sap/m/MultiInput","sap/base/util/restricted/_debounce","sap/base/util/restricted/_isEqual","sap/base/util/ObjectPath","sap/base/util/includes","sap/base/util/merge","sap/ui/core/SeparatorItem","sap/ui/model/Sorter","sap/m/Token","sap/m/Tokenizer","sap/base/util/deepClone","sap/ui/model/json/JSONModel","sap/ui/integration/util/BindingResolver"],function(e,t,r,a,i,n,s,o,u,l,g,v,c,h,p,d){"use strict";var f=e.extend("sap.ui.integration.editor.fields.StringListField",{metadata:{library:"sap.ui.integration"},renderer:e.getMetadata().getRenderer()});f.prototype.initVisualization=function(e){var i=this,n;var s=e.visualization;if(!s){if(e.values){n=this.formatListItem(e.values.item);s={type:r,settings:{selectedKeys:{path:"currentSettings>value"},busy:{path:"currentSettings>_loading"},editable:e.editable,visible:e.visible,showSecondaryValues:true,width:"100%",items:{path:"",template:n,sorter:[new g({path:"Selected",descending:false,group:true})],groupHeaderFactory:i.getGroupHeader}}};if(this.isFilterBackend()){s.settings.selectedKeys={parts:["currentSettings>value","currentSettings>suggestValue"],formatter:function(e,t){if(t){i.setSuggestValue()}return e}}}}else{s={type:t,settings:{value:{path:"currentSettings>value",formatter:function(e){e=e||[];return e.join(",")}},change:function(e){var t=e.getSource();t.getBinding("value").setRawValue(t.getValue().split(","))},editable:e.editable,visible:e.visible,placeholder:e.placeholder}}}}else if(e.values&&this.isFilterBackend()&&s.type==="MultiInput"){n=this.formatListItem(e.values.item);var o={busy:{path:"currentSettings>_loading"},placeholder:e.placeholder,editable:e.editable,visible:e.visible,showSuggestion:true,autocomplete:false,showValueHelp:false,filterSuggests:false,width:"100%",suggestionItems:{path:"",template:n,sorter:[new g({path:"Selected",descending:false,group:true})],groupHeaderFactory:i.getGroupHeader}};if(s.settings){o=u(o,s.settings)}s={type:a,settings:o}}this._visualization=s;this.attachAfterInit(this._afterInit)};f.prototype._afterInit=function(){var e=this.getAggregation("_field");var t=this.getModel();if(e instanceof r){if(this.isFilterBackend()){this.onInputForMultiComboBox=i(this.onInputForMultiComboBox,500);e.oninput=this.onInputForMultiComboBox;e.attachSelectionChange(this.onSelectionChangeForFilterBackend);e.attachSelectionFinish(this.onSelectionFinishForFilterBackend);t.attachPropertyChange(this.onPropertyChangeForFilterBackend,this)}else{e.attachSelectionChange(this.onSelectionChange);t.attachPropertyChange(this.onPropertyChange,this)}}else if(e instanceof a){this.initTokens();this.onInputForMultiInput=i(this.onInputForMultiInput,500);e.oninput=this.onInputForMultiInput;t.attachPropertyChange(this.onPropertyChangeForFilterBackend,this);t.attachPropertyChange(this.initTokens,this);e.attachTokenChange(this.onTokenChange)}};f.prototype.initTokens=function(){var e=this.getAggregation("_field");var t=this.getConfiguration();var r=[];if(Array.isArray(t.valueTokens)&&t.valueTokens.length>0){t.valueTokens.forEach(function(e){var t=new v(e);r.push(t)})}else if(Array.isArray(t.value)&&t.value.length>0&&Array.isArray(t.valueItems)&&t.valueItems.length>0){t.valueTokens=[];t.valueItems.forEach(function(e){var a=new p;a.setData(e);var i=d.resolveValue(t.values.item.key,a);if(o(t.value,i)){var n=d.resolveValue(t.values.item.text,a);var s={key:i,text:n};var u=new v(s);r.push(u);t.valueTokens.push(s)}})}e.setTokens(r)};f.prototype.getKeyFromItem=function(e){var t=this.getConfiguration();var r=new p;r.setData(e);return d.resolveValue(t.values.item.key,r)};f.prototype.onPropertyChangeForFilterBackend=function(e){var t=this.getConfiguration();if(!t.valueItems){t.valueItems=[]}var r=t.values.data.path||"/";var a=this.getModel();var i=a.getData();if(r!=="/"){if(r.startsWith("/")){r=r.substring(1)}if(r.endsWith("/")){r=r.substring(0,r.length-1)}var n=r.split("/");var o=s.get(n,i);o=this.mergeSelectedItems(t,o);s.set(n,o,i)}else{i=this.mergeSelectedItems(t,i)}a.setData(i);this.setSuggestValue()};f.prototype.onPropertyChange=function(e){var t=this.getAggregation("_field");var r=t.getSelectedItems().map(function(e){return e.getKey()});var a=this.getBindingContext("currentSettings").sPath;var i=this.getModel("currentSettings");i.setProperty(a+"/value",r)};f.prototype.mergeSelectedItems=function(e,t){var r=this;var a=r.getResourceBundle();if(Array.isArray(t)){var i=e.valueItems.map(function(e){return this.getKeyFromItem(e)}.bind(this));var s=t.filter(function(e){var t=this.getKeyFromItem(e);return!o(i,t)}.bind(this));var u=s.filter(function(e){return e.Selected===a.getText("EDITOR_ITEM_SELECTED")});e.valueItems=e.valueItems.concat(u);var l=s.filter(function(e){return e.Selected!==a.getText("EDITOR_ITEM_SELECTED")});t=e.valueItems.concat(l);var g=this.getAggregation("_field");if(g.isOpen&&g.isOpen()){i=e.valueItems.map(function(e){return this.getKeyFromItem(e)}.bind(this));var v=g.getSelectedKeys();if(!n(i,v)){g.setSelectedKeys(i)}}}else{t=e.valueItems}return t};f.prototype.setSuggestValue=function(){var e=this.getAggregation("_field");var t=this.getBindingContext("currentSettings").sPath;var r=this.getModel("currentSettings");var a=r.getProperty(t+"/suggestValue");if(a&&a!==""){e.setValue(a.replaceAll("''","'"))}};f.prototype.getSuggestValue=function(){var e=this.getBindingContext("currentSettings").sPath;var t=this.getModel("currentSettings");return t.getProperty(e+"/suggestValue")};f.prototype.getGroupHeader=function(e){return new l({text:e.key})};f.prototype.onSelectionChangeForFilterBackend=function(e){var t=e.getSource().getParent();var r=t.getConfiguration();var a=t.getResourceBundle();var i=e.getParameter("changedItem");var n=i.getKey();var o=e.getParameter("selected");var u=this.getModel().getData();var l=r.values.data.path||"/";var g,v;if(l!=="/"){if(l.startsWith("/")){l=l.substring(1)}if(l.endsWith("/")){l=l.substring(0,l.length-1)}g=l.split("/");v=s.get(g,u)}else{v=u}if(v){if(!r.valueItems){r.valueItems=[]}var c=[];v.forEach(function(e){var i=h(e,500);var s=t.getKeyFromItem(i);if(s===n){if(o){i.Selected=a.getText("EDITOR_ITEM_SELECTED");r.valueItems=r.valueItems.concat([i])}else{i.Selected=a.getText("EDITOR_ITEM_UNSELECTED");r.valueItems=r.valueItems.filter(function(e){var r=t.getKeyFromItem(e);return r!==n})}}c.push(i)});if(g!==undefined){s.set(g,c,u);this.getModel().checkUpdate(true)}else{this.getModel().setData(c)}}};f.prototype.onTokenChange=function(e){var t=this.getParent();var r=t.getConfiguration();var a=t.getResourceBundle();var i=t.getModel("currentSettings");var n=t.getBindingContext("currentSettings").sPath;var u=i.getProperty(n+"/value");var l=e.getParameter("token");if(l){var g=l.getKey();if(!r.valueTokens){r.valueTokens=[]}if(!u){u=[]}var v=e.getParameter("type");switch(v){case c.TokenChangeType.Removed:u=u.filter(function(e){return e!==g});r.value=u;r.valueTokens=r.valueTokens.filter(function(e){return e.key!==g});break;case c.TokenChangeType.Added:if(!o(u,g)){u=u.concat([g]);r.value=u}var p=r.valueTokens.map(function(e){return e.key});if(!o(p,g)){r.valueTokens=r.valueTokens.concat([{key:g,text:l.getText()}])}break;case c.TokenChangeType.RemovedAll:r.value=[];r.valueItems=[];r.valueTokens=[];break;default:break}var d=t.getModel().getData();var f;var m=r.values.data.path||"/";var y;if(m!=="/"){if(m.startsWith("/")){m=m.substring(1)}if(m.endsWith("/")){m=m.substring(0,m.length-1)}y=m.split("/");f=h(s.get(y,d),10)}else{f=h(d,10)}if(Array.isArray(f)){r.valueItems=[];f.forEach(function(e){var i=t.getKeyFromItem(e);if(o(r.value,i)){e.Selected=a.getText("EDITOR_ITEM_SELECTED");r.valueItems.push(e)}else{e.Selected=a.getText("EDITOR_ITEM_UNSELECTED")}});if(m!=="/"){s.set(y,f,d)}else{d=f}t.getModel().setData(d);t.getModel().checkUpdate(true)}i.setProperty(n+"/value",r.value);i.setProperty(n+"/valueItems",r.valueItems);i.setProperty(n+"/valueTokens",r.valueTokens)}};f.prototype.onSelectionChange=function(e){var t=e.oSource.getParent();var r=t.getConfiguration();var a=t.getResourceBundle();var i=e.getParameter("changedItem");var n=i.getKey();var o=e.getParameter("selected");var u=this.getModel().getData();var l=r.values.data.path||"/";if(l!=="/"){if(l.startsWith("/")){l=l.substring(1)}if(l.endsWith("/")){l=l.substring(0,l.length-1)}var g=l.split("/");var v=s.get(g,u);if(Array.isArray(v)){for(var c in v){var h=t.getKeyFromItem(v[c]);if(h===n){if(o){v[c].Selected=a.getText("EDITOR_ITEM_SELECTED")}else{v[c].Selected=a.getText("EDITOR_ITEM_UNSELECTED")}}}s.set(g,v,u)}}else if(Array.isArray(u)){for(var c in u){var h=t.getKeyFromItem(u[c]);if(h===n){if(o){u[c].Selected=a.getText("EDITOR_ITEM_SELECTED")}else{u[c].Selected=a.getText("EDITOR_ITEM_UNSELECTED")}}}}this.getModel().setData(u);this.getModel().checkUpdate(true)};f.prototype.onSelectionFinishForFilterBackend=function(e){var t=this.getParent();var r=t.getConfiguration();var a=e.getParameter("selectedItems").map(function(e){return e.getKey()});var i=this.getModel().getData();var n=r.values.data.path||"/";if(n!=="/"){if(n.startsWith("/")){n=n.substring(1)}if(n.endsWith("/")){n=n.substring(0,n.length-1)}var u=n.split("/");i=s.get(u,i)}if(i){r.valueItems=i.filter(function(e){var r=t.getKeyFromItem(e);return o(a,r)})}var l=this.getBindingContext("currentSettings").sPath;var g=this.getModel("currentSettings");g.setProperty(l+"/value",a);var v=t.getSuggestValue();if(v&&v!==""){g.setProperty(l+"/suggestValue","")}};f.prototype.onInputForMultiComboBox=function(e){var t=e.target.value;var r=this.getBindingContext("currentSettings").sPath;var a=this.getModel("currentSettings");a.setProperty(r+"/suggestValue",t.replaceAll("'","''"));a.setProperty(r+"/_loading",true);e.srcControl.open();e.srcControl._getSuggestionsPopover()._sTypedInValue=t};f.prototype.onInputForMultiInput=function(e){var t=e.srcControl;a.prototype.oninput.apply(t,arguments);var r=e.target.value;if(r===""){return}var i=this.getBindingContext("currentSettings").sPath;var n=this.getModel("currentSettings");var s=n.getProperty(i+"/suggestValue");if(s!==r.replaceAll("'","''")){n.setProperty(i+"/suggestValue",r.replaceAll("'","''"));n.setProperty(i+"/_loading",true)}};return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/fragment/Controller", ["sap/ui/core/mvc/Controller","sap/ui/core/Core"],function(t,e){"use strict";var i=t.extend("sap.ui.integration.editor.fields.fragment.Controller",{});i.prototype.init=function(){};i.prototype.setField=function(t){this._oField=t};i.prototype.saveValue=function(t){var i=e.getConfiguration().getLanguage().replaceAll("_","-");var n=this._oField.getConfiguration();if(n.type==="string"&&n.translatable){this._oField.setTranslationValueInTexts(i,n.manifestpath,t)}else{this._oField._settingsModel.setProperty(n.manifestpath,t)}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/viz/ColorSelect", ["sap/ui/integration/editor/fields/viz/VizBase","sap/m/ColorPalettePopover","sap/m/Button","sap/ui/core/Core","sap/base/util/merge","sap/ui/core/theming/Parameters"],function(e,t,o,a,n,r){"use strict";var l=e.extend("sap.ui.integration.editor.fields.viz.ColorSelect",{metadata:{library:"sap.ui.integration",properties:{enumValue:{type:"string",defaultValue:""},colorValue:{type:"string",defaultValue:""},colorEnum:{type:"string",defaultValue:"sap.m.AvatarColor"},background:{type:"boolean",defaultValue:true},allowCustomColors:{type:"boolean",defaultValue:false}},aggregations:{_colorpalette:{type:"sap.m.ColorPalettePopover",multiple:false,visibility:"hidden"}}},renderer:{apiVersion:2}});var c={};function i(){var e=["sapUiAccent1","sapUiAccent2","sapUiAccent3","sapUiAccent4","sapUiAccent5","sapUiAccent6","sapUiAccent7","sapUiAccent8","sapUiAccent9","sapUiAccent10","sapUiTileIconColor","sapUiContentImagePlaceholderBackground"];var t=r.get({name:e,callback:function(e){}});if(t){c={"sap.m.AvatarColor":{Accent1:t["sapUiAccent1"],Accent2:t["sapUiAccent2"],Accent3:t["sapUiAccent3"],Accent4:t["sapUiAccent4"],Accent5:t["sapUiAccent5"],Accent6:t["sapUiAccent6"],Accent7:t["sapUiAccent7"],Accent8:t["sapUiAccent8"],Accent9:t["sapUiAccent9"],Accent10:t["sapUiAccent10"],TileIcon:t["sapUiTileIconColor"],Transparent:"transparent",Placeholder:t["sapUiContentImagePlaceholderBackground"]}}}}i();a.attachThemeChanged(i);var s,p=new t("oColorPalettePopoverFull",{colorSelect:function(e){var t=e.getParameter("value"),o=c[s.getColorEnum()],a=Object.values(o).indexOf(t);s.setEnumValue(Object.keys(o)[a]);s.setColorValue(t);s._colorValue=t}});l.prototype.onInit=function(){this._oControl=new o({icon:"sap-icon://color-fill",press:function(){this._openPalette()}.bind(this)});this._colorValue="transparent"};l.prototype.applyStyle=function(e){e.class("sapUiIntegrationColorSelect");if(!this._colorValue||this._colorValue==="transparent"){e.class("noColorValueOrTransparentValue")}else{e.class("hasColorValue")}if(this._colorValue){e.style("--colorValue",this._colorValue)}};l.prototype._openPalette=function(){s=this;p.setShowDefaultColorButton(true);p.setShowMoreColorsButton(false);p.setDefaultColor("");var e=c[this.getColorEnum()];if(e){var t=[];for(var o in e){t.push(e[o])}p.setColors(t)}p.openBy(this._oControl)};l.prototype.setEnumValue=function(e){this.setProperty("enumValue",e,true);this._colorValue=c[this.getColorEnum()][e];this.rerender()};l.prototype.bindPropertyToControl=function(e,t){if(e==="editable"){var o=n({},t);this._oControl.bindProperty("enabled",o)}};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/viz/IconSelect", ["sap/ui/integration/editor/fields/viz/VizBase","sap/m/Select","sap/ui/core/ListItem","sap/ui/model/json/JSONModel","sap/ui/core/IconPool","sap/base/util/merge","sap/ui/core/Core","sap/base/util/deepClone"],function(e,t,o,i,n,s,l,a){"use strict";var r=l.getLibraryResourceBundle("sap.ui.integration"),d;var c=e.extend("sap.ui.integration.editor.fields.viz.IconSelect",{metadata:{library:"sap.ui.integration",properties:{value:{type:"string",defaultValue:"sap-icon://accept"},allowFile:{type:"boolean",defaultValue:true},allowNone:{type:"boolean",defaultValue:true}}},renderer:{apiVersion:2}});c.prototype._initIconModel=function(){var e=n.getIconNames();e=e.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});var t=[];if(!d){e.filter(function(e){var o=n.getIconInfo(e).text||("-"+e).replace(/-(.)/gi,function(e,t){return" "+t.toUpperCase()}).substring(1);t.push({icon:"sap-icon://"+e,key:"sap-icon://"+e,text:o,tooltip:o,enabled:true})});d=a(t,500)}else{t=a(d,500)}t=[{icon:"",text:r.getText("EDITOR_ICON_NONE"),tooltip:"",key:"",enabled:true},{icon:"sap-icon://upload",text:r.getText("EDITOR_ICON_CHOOSE"),tooltip:"",key:"file",enabled:true},{icon:"sap-icon://download",text:r.getText("EDITOR_ICON_SELECTED"),tooltip:"",key:"selected",enabled:false}].concat(t);this._oIconModel=new i(t);this._oIconModel.setSizeLimit(t.length)};c.prototype.onInit=function(){if(r&&r.sLocale!==l.getConfiguration().getLanguage()){r=l.getLibraryResourceBundle("sap.ui.integration")}if(!this._oIconModel){this._initIconModel()}var e=new o({icon:"{iconlist>icon}",text:"{iconlist>text}",tooltip:"{iconlist>tooltip}",key:"{iconlist>key}",enabled:"{iconlist>enabled}"});this._oFileUpload=document.createElement("INPUT");this._oFileUpload.type="file";this._oFileUpload.accept=".png,.jpg,.jpeg,.svg";this._boundFileUploadChange=this._fileUploadChange.bind(this);this._oFileUpload.addEventListener("change",this._boundFileUploadChange);this._oControl=new t({width:"100%",items:{path:"iconlist>/",template:e},change:function(e){var t=e.getSource(),o=e.getSource().getSelectedKey();if(o==="file"){t._customImage=null;this._oFileUpload.click();this._boundFocusBack=this._focusBack.bind(this);t.getDomRef("hiddenSelect").addEventListener("focus",this._boundFocusBack)}else{this.setValue(o)}}.bind(this)});this._oControl.setModel(this._oIconModel,"iconlist");var i=this._oControl.open;this._oControl.open=function(){i&&i.apply(this,arguments);this.getPicker().addStyleClass("sapUiIntegrationIconSelectList");this.getPicker().setContentHeight("400px")};this._oControl.addDelegate({onAfterRendering:function(){var e=this._oControl.getDomRef("labelIcon");if(e){var t=this._oControl._customImage;if(t){e.style.backgroundImage="url('"+t+"')";e.classList.add("sapMSelectListItemIconCustom")}else{e.style.backgroundImage="unset";e.classList.remove("sapMSelectListItemIconCustom")}}}.bind(this)});this._oControl.addDelegate({onsappageup:function(){if(this._oControl.isOpen()){var e=this._oControl.getSelectedIndex();this._oControl.setSelectedIndex(e-50)}}.bind(this),onsappagedown:function(){if(this._oControl.isOpen()){var e=this._oControl.getSelectedIndex();if(e<3){this._oControl.setSelectedIndex(29)}else{this._oControl.setSelectedIndex(e+50)}}}.bind(this),onsapup:function(){if(this._oControl.isOpen()){var e=this.getAllowFile();var t=this.getAllowNone();var o=this._oIconModel.getProperty("/2/enabled");var i=this._oControl.getSelectedIndex();if(i>11+2){this._oControl.setSelectedIndex(i-11)}else if(i>=3){if(t&&!e){this._oControl.setSelectedIndex(0)}else if(o){this._oControl.setSelectedIndex(2)}else{this._oControl.setSelectedIndex(3)}}}}.bind(this),onsapdown:function(){if(this._oControl.isOpen()){var e=this._oControl.getSelectedIndex();if(e>1){this._oControl.setSelectedIndex(e+11)}}}.bind(this),onsapleft:function(){if(this._oControl.isOpen()){this._oControl.onsapup.apply(this._oControl,arguments)}}.bind(this),onsapright:function(){if(this._oControl.isOpen()){this._oControl.onsapdown.apply(this._oControl,arguments)}}.bind(this)},true)};c.prototype.applyStyle=function(e){e.class("sapUiIntegrationIconSelect");if(this._oControl&&this._oControl.getWidth){e.style("width",this._oControl.getWidth())}};c.prototype._fileUploadChange=function(){var e=new window.FileReader;e.onload=function(){this.setValue(e.result);this._oControl.invalidate()}.bind(this);if(this._oFileUpload.files.length===1){e.readAsDataURL(this._oFileUpload.files[0])}};c.prototype._focusBack=function(){this._oControl.getDomRef("hiddenSelect").removeEventListener("focus",this._boundFocusBack);setTimeout(function(){this.setValue(this.getValue())}.bind(this),150)};c.prototype.bindPropertyToControl=function(e,t){if(e==="editable"){var o=s({},t);this._oControl.bindProperty("editable",o)}};c.prototype.setValue=function(e){this.setProperty("value",e,true);if(e&&e.indexOf("data:image/")===0){this._oControl._customImage=e;this._oIconModel.setProperty("/2/enabled",true);this._oControl.setSelectedKey("selected")}else{this._oControl._customImage=null;this._oIconModel.setProperty("/2/enabled",false);this._oControl.setSelectedKey(e)}this._oControl.invalidate();return this};c.prototype.setAllowFile=function(e){this.setProperty("allowFile",e,true);e=this.getAllowFile();this._oIconModel.setProperty("/1/enabled",e);return this};c.prototype.setAllowNone=function(e){this.setProperty("allowNone",e,true);e=this.getAllowNone();this._oIconModel.setProperty("/0/enabled",e);return this};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/viz/ShapeSelect", ["sap/ui/integration/editor/fields/viz/VizBase","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/base/util/merge"],function(e,t,i,n){"use strict";var o=e.extend("sap.ui.integration.editor.fields.viz.ShapeSelect",{metadata:{library:"sap.ui.integration",properties:{value:{type:"string",defaultValue:"Circle"}}},renderer:{apiVersion:2}});o.prototype.onInit=function(){this._oControl=new t({items:[new i({icon:"sap-icon://circle-task",key:"Circle"}),new i({icon:"sap-icon://border",key:"Square"})]})};o.prototype.applyStyle=function(e){e.class("sapUiIntegrationShapeSelect")};o.prototype.bindPropertyToControl=function(e,t){if(e==="editable"){var i=n({},t);this._oControl.bindProperty("enabled",i)}if(e==="value"){var i=n({},t);this._oControl.bindProperty("selectedKey",i)}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/editor/fields/viz/VizBase", ["sap/ui/core/Control","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/base/util/merge"],function(t,e,o,i){"use strict";var r=t.extend("sap.ui.integration.editor.fields.viz.VizBase",{metadata:{library:"sap.ui.integration",properties:{value:{type:"string",defaultValue:""},editable:{type:"boolean",defaultValue:true}},aggregations:{_control:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},renderer:{apiVersion:1,render:function(t,e){var o=e.getAggregation("_control");t.openStart("div",e);e.applyStyle(t);t.openEnd();t.renderControl(o);t.close("div")}}});r.prototype.init=function(){this.onInit();this.setAggregation("_control",this._oControl)};r.prototype.bindProperty=function(e,o){t.prototype.bindProperty.apply(this,arguments);this.bindPropertyToControl(e,o);return this};r.prototype.onInit=function(){};r.prototype.applyStyle=function(t){};r.prototype.bindPropertyToControl=function(t,e){if(t==="value"){var o=i({},e);this._oControl.bindProperty("value",o)}if(t==="editable"){var o=i({},e);this._oControl.bindProperty("editable",o)}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/formatters/DateTimeFormatter", ["sap/ui/core/format/DateFormat","sap/ui/core/date/UniversalDate","sap/ui/integration/util/Utils"],function(t,e,a){"use strict";var r={dateTime:function(r,i,n){var s=a.processFormatArguments(i,n),o=t.getDateTimeInstance(s.formatOptions,s.locale),u=a.parseJsonDateTime(r);var m=new e(u);var c=o.format(m);return c},date:function(t,e,a){return r.dateTime.apply(this,arguments)}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/formatters/IconFormatter", ["sap/ui/base/ManagedObject","sap/ui/core/Core","sap/ui/core/IconPool"],function(t,r,e){"use strict";var a=t.extend("sap.ui.integration.formatters.IconFormatter",{metadata:{library:"sap.ui.integration",associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}}});a.prototype.formatSrc=function(t){if(!t){return t}if(t.startsWith("data:")||e.isIconURI(t)){return t}return this._format(t)};a.prototype._format=function(t){return this._getCardInstance().getRuntimeUrl(t)};a.prototype._getCardInstance=function(){return r.byId(this.getCard())};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/formatters/InitialsFormatter", [],function(){"use strict";var t={initials:function(t,n){var r=t.split(" "),n=!n?2:n,i="";r.forEach(function(t){i+=t.substring(0,1)});i=n===2?i.charAt(0)+i.charAt(i.length-1):i.substring(0,n);return i.toUpperCase()}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/formatters/NumberFormatter", ["sap/ui/core/format/NumberFormat","sap/ui/integration/util/Utils"],function(t,r){"use strict";var n={currency:function(n,e,o,a){var s=r.processFormatArguments(o,a),c=t.getCurrencyInstance(s.formatOptions,s.locale);return c.format(n,e)},float:function(n,e,o){var a=r.processFormatArguments(e,o),s=t.getFloatInstance(a.formatOptions,a.locale);return s.format(n)},integer:function(n,e,o){var a=r.processFormatArguments(e,o),s=t.getIntegerInstance(a.formatOptions,a.locale);return s.format(n)},percent:function(n,e,o){var a=r.processFormatArguments(e,o),s=t.getPercentInstance(a.formatOptions,a.locale);return s.format(n)},unit:function(n,e,o,a){var s=r.processFormatArguments(o,a),c=t.getUnitInstance(s.formatOptions,s.locale);return c.format(n,e)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/formatters/TextFormatter", ["sap/base/strings/formatMessage"],function(t){"use strict";var e={text:function(e,s){return t(e,s)}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/library", ["sap/ui/base/DataType","sap/ui/Global","sap/ui/core/library","sap/m/library","sap/f/library","sap/ui/unified/library","sap/ui/layout/library"],function(t){"use strict";var e=sap.ui.getCore().initLibrary({name:"sap.ui.integration",version:"1.108.6",dependencies:["sap.ui.core","sap.f","sap.m","sap.ui.unified","sap.ui.layout"],types:["sap.ui.integration.CardActionType","sap.ui.integration.CardDataMode","sap.ui.integration.CardMenuAction"],controls:["sap.ui.integration.widgets.Card","sap.ui.integration.cards.filters.FilterBar","sap.ui.integration.cards.Header","sap.ui.integration.cards.NumericHeader","sap.ui.integration.controls.ListContentItem"],elements:["sap.ui.integration.ActionDefinition","sap.ui.integration.Host"],customElements:{card:"sap/ui/integration/customElements/CustomElementCard"}});e.CardActionType={Navigation:"Navigation",Submit:"Submit",Custom:"Custom",DateChange:"DateChange",MonthChange:"MonthChange",ShowCard:"ShowCard",HideCard:"HideCard"};e.CardDataMode={Active:"Active",Inactive:"Inactive",Auto:"Auto"};e.CardActionArea={None:"None",Content:"Content",ContentItem:"ContentItem",ActionsStrip:"ActionsStrip",ContentItemDetail:"ContentItemDetail",Header:"Header"};e.CardArea={Header:"Header",Filters:"Filters",Content:"Content"};e.AttributesLayoutType={OneColumn:"OneColumn",TwoColumns:"TwoColumns"};e.CardMenuAction=t.createType("sap.ui.integration.CardMenuAction",{isValid:function(t){var e=["type","text","icon","tooltip","buttonType","enabled","visible","action","parameters","target","url"];return Object.keys(t).every(function(t){return e.indexOf(t)!==-1})}},"object");return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/model/ContextModel", ["sap/ui/model/json/JSONModel","sap/base/Log","sap/ui/integration/util/Utils"],function(t,e,s){"use strict";var i=t.extend("sap.ui.integration.model.ContextModel",{constructor:function(e,s){t.apply(this,arguments);this._aPendingPromises=[]}});i.prototype.setHost=function(t){this._oHost=t;this.resetHostProperties()};i.prototype.getProperty=function(i,o){if(i&&!i.startsWith("/")&&!o){i="/"+i}var n=this._oHost,r=this.resolve(i,o),u,a=n&&n.getContextValue;if(a){this._mValues=this._mValues||{};if(this._mValues[r]!==undefined){return this._mValues[r]}u=s.timeoutPromise(n.getContextValue(r.substring(1)));u=u.then(function(t){this._mValues[r]=t;this.checkUpdate()}.bind(this)).catch(function(t){this._mValues[r]=null;this.checkUpdate();e.error("Path "+r+" could not be resolved. Reason: "+t)}.bind(this));this._aPendingPromises.push(u);return null}else{return t.prototype.getProperty.apply(this,arguments)}};i.prototype.resetHostProperties=function(){this._mValues={}};i.prototype.waitForPendingProperties=function(){var t=Promise.all(this._aPendingPromises);this._aPendingPromises=[];return t};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/model/ObservableModel", ["sap/ui/model/json/JSONModel","sap/ui/model/ClientPropertyBinding","./PagingModelListBinding"],function(i,e,t){"use strict";var n=i.extend("sap.ui.integration.model.ObservableModel",{constructor:function(t,n){i.apply(this,arguments);this._observedBinding=new e(this,"/",this.getContext("/"));this._observedBinding.attachChange(this._handleChange.bind(this));this._fireChangeBound=this._fireChange.bind(this)}});n.prototype.destroy=function(){this._observedBinding.destroy();this._observedBinding=null;clearTimeout(this._iFireChangeCallId)};n.prototype._handleChange=function(){this._scheduleFireChange()};n.prototype._scheduleFireChange=function(){if(this._iFireChangeCallId){clearTimeout(this._iFireChangeCallId)}this._iFireChangeCallId=setTimeout(this._fireChangeBound,0)};n.prototype._fireChange=function(){this.fireEvent("change")};n.prototype.bindList=function(i,e,n,s,o){var h=this._oListBinding=new t(this,i,e,n,s,o);return h};n.prototype.sliceData=function(i,e){this._oListBinding._iStartIndex=i;this._oListBinding._iEndIndex=e;this._oListBinding.checkUpdate(true)};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/model/PagingModelListBinding", ["sap/ui/model/json/JSONListBinding"],function(i){"use strict";var t=i.extend("sap.ui.integration.model.PagingModelListBinding",{});t.prototype.update=function(){i.prototype.update.call(this);if(this._iStartIndex!==undefined){this.aIndices=this.aIndices.slice(this._iStartIndex,this._iEndIndex)}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/services/Data", ["./Service"],function(t){"use strict";var e=t.extend();e.prototype.attachDataChanged=function(t,e){};e.prototype.detachDataChanged=function(t){};e.prototype.getData=function(t){return Promise.resolve(false)};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/services/Navigation", ["./Service"],function(e){"use strict";var t=e.extend();t.prototype.navigate=function(e){};t.prototype.enabled=function(e){return Promise.resolve(false)};t.prototype.hidden=function(e){return Promise.resolve(false)};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/services/Service", [],function(){"use strict";var t=function(){};t.extend=function(t){if(!t){var e=this;t=function(){e.apply(this,arguments)}}t.prototype=Object.create(this.prototype);t.prototype.constructor=t;t.extend=this.extend.bind(t);return t};t.prototype.getInterface=function(){return this};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/BaseFactory", ["./BindingHelper","sap/base/util/merge","sap/ui/base/Object"],function(t,e,a){"use strict";var i=a.extend("sap.ui.integration.util.BaseFactory",{constructor:function(t){a.call(this);this._oCard=t}});i.prototype.createBindingInfos=function(a){var i=e({},a),n=i.data;delete i.data;i=t.createBindingInfos(i,this._oCard.getBindingNamespaces());if(n){i.data=n}return i};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/BindingHelper", ["sap/ui/base/BindingParser","sap/base/util/extend","sap/base/util/isPlainObject","sap/ui/integration/formatters/DateTimeFormatter","sap/ui/integration/formatters/NumberFormatter","sap/ui/integration/formatters/TextFormatter","sap/ui/integration/bindingFeatures/DateRange","sap/ui/integration/formatters/InitialsFormatter"],function(e,t,r,a,n,i,o,s){"use strict";var u=/\{\{([^}]+)\}\}/g,f=/\{\{(parameters\.[^}]+)\}\}/g,c=/\{\{(dataSources\.[^}]+)\}\}/g;var p={};var d={date:a.date,dateTime:a.dateTime,currency:n.currency,float:n.float,integer:n.integer,percent:n.percent,text:i.text,unit:n.unit,initials:s.initials};p.mLocals={format:d,dateRange:o};p.extractBindingInfo=function(r,a){r=p.escapeCardPlaceholders(r);return e.complexParser(r,undefined,true,undefined,undefined,undefined,t({},p.mLocals,a))};p.createBindingInfos=function(e,t){if(!e){return e}if(Array.isArray(e)){return e.map(function(e){return p.createBindingInfos(e,t)})}if(r(e)){var a={};for(var n in e){a[n]=p.createBindingInfos(e[n],t)}return a}if(typeof e==="string"){var i=p.extractBindingInfo(e,t);return p.escapeParametersAndDataSources(i||e)}return e};p.formattedProperty=function(e,r){if(e===undefined){return e}var a={};if(Array.isArray(e)){a.parts=e.map(function(e){return typeof e==="object"?t({},e):{value:e}});a.formatter=r}else if(typeof e==="object"){a=t({},e);if(e.formatter){var n=a.formatter;a.formatter=function(){var e=n.apply(this,arguments);return r(e)}}else{a.formatter=r}}else{a={value:e,formatter:r}}return a};p.escapeCardPlaceholders=function(e){if(typeof e!=="string"){return e}return e.replace(u,"\\{\\{$1\\}\\}")};p.escapeParametersAndDataSources=function(e){if(typeof e!=="string"){return e}return e.replace(f,"\\{\\{$1\\}\\}").replace(c,"\\{\\{$1\\}\\}")};p.isAbsolutePath=function(e){return e.startsWith("/")};p.prependRelativePaths=function(e,r){if(typeof e!=="object"){return e}var a=t({},e);if(a.path&&!this.isAbsolutePath(a.path)){a.path=r+"/"+a.path}if(a.parts){a.parts=a.parts.map(function(e){return p.prependRelativePaths(e,r)})}return a};p.propagateModels=function(e,r){var a=t({},e.oPropagatedProperties.oModels,e.oModels),n=Object.keys(a),i=e.getModel();if(i){r.setModel(i)}n.forEach(function(t){if(t==="undefined"){return}var a=e.getModel(t);if(a){r.setModel(a,t)}})};p.reuse=function(e){if(typeof e==="object"){return t({},e)}return e};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/BindingResolver", ["sap/ui/base/ManagedObject","sap/base/Log","sap/ui/model/Model","sap/ui/integration/util/BindingHelper","sap/base/util/extend","sap/base/util/isPlainObject"],function(e,r,n,i,t,a){"use strict";var s=e.extend("sap.ui.integration.util.SimpleControl",{metadata:{library:"sap.ui.integration",properties:{resolved:{type:"any"}}}});var o=new s;var u={};function l(e,n,i,t,s){if(t===s){r.warning("BindingResolver maximum level processing reached. Please check for circular dependencies.");return e}if(Array.isArray(e)){return e.map(function(e){return l(e,n,i,t+1,s)})}if(e&&a(e)&&!u.isBindingInfo(e)){var o={};for(var d in e){o[d]=l(e[d],n,i,t+1,s)}return o}if(typeof e==="string"||typeof e==="object"&&u.isBindingInfo(e)){return p(e,n,i)}return e}function p(r,a,s){if(!r){return r}var u=typeof r==="string"?e.bindingParser(r):t({},r);if(!u){return r}if(!s){s="/"}o.unbindProperty("resolved");o.unbindObject();o.setModel(null);if(a instanceof n){o.setModel(a)}else{i.propagateModels(a,o)}o.bindObject(s);o.bindProperty("resolved",u);var l=o.getResolved();return l}u.resolveValue=function(e,r,n){var i=0,t=30;if(r){return l(e,r,n,i,t)}else{return e}};u.isBindingInfo=function(e){if(!e){return false}return e.hasOwnProperty("path")||e.hasOwnProperty("parts")&&(e.hasOwnProperty("formatter")||e.hasOwnProperty("binding"))};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/CacheAndRequestDataProvider", ["sap/ui/integration/util/RequestDataProvider","sap/base/Log","sap/ui/core/Core","sap/base/util/merge"],function(e,t,a,s){"use strict";var r=31536e3;function i(e){var t=e.url,a=e.data,s,r;if(e.method!=="GET"){return e.url}s=new URL(t,window.location.href);for(r in a){s.searchParams.set(r,a[r])}return s.href}var n=e.extend("sap.ui.integration.util.CacheAndRequestDataProvider");n.prototype.init=function(){e.prototype.init.apply(this,arguments);this._oRefreshWithoutCacheBound=this.refreshWithoutCache.bind(this)};n.prototype.destroy=function(){this._unsubscribeFromHostMessages();this._detachTimestampPress();e.prototype.destroy.apply(this,arguments)};n.prototype.getHostInstance=function(){return a.byId(this.getHost())};n.prototype.getCardInstance=function(){return a.byId(this.getCard())};n.prototype.getCardInstanceHeader=function(){var e=this.getCardInstance();if(!e){return null}return e.getCardHeader()};n.prototype.onDataRequestComplete=function(){var e;if(this._iUpdateIntervalTimeout){clearTimeout(this._iUpdateIntervalTimeout);this._iUpdateIntervalTimeout=null}if(!this.getSettings()||!this.getSettings().updateInterval){return}e=parseInt(this.getSettings().updateInterval);if(isNaN(e)){return}this._iUpdateIntervalTimeout=setTimeout(function(){this.refreshWithoutCache()}.bind(this),e*1e3)};n.prototype._request=function(t){var a,s=this.getCardInstanceHeader();this._sCurrentRequestFullUrl=i(t);this._subscribeToHostMessages();a=e.prototype._request.apply(this,arguments);a.then(function(e){var t=e[1],a=t.getResponseHeader("Date");if(a&&s){this._attachTimestampPress();s.setDataTimestamp(new Date(a).toISOString())}}.bind(this));return a};n.prototype.refreshWithoutCache=function(){var e=this.getCardInstanceHeader();if(e){e.setDataTimestampUpdating(true)}setTimeout(function(){this._bCacheOnly=false;this._bNoCache=true;this._triggerDataUpdate()}.bind(this),200)};n.prototype.refreshFromCache=function(){var e=this.getCardInstanceHeader();if(e){e.setDataTimestampUpdating(true)}setTimeout(function(){this._bCacheOnly=true;this._bNoCache=false;this._triggerDataUpdate()}.bind(this),200)};n.prototype._prepareHeaders=function(t,a){var i={enabled:true,maxAge:0,staleWhileRevalidate:true},n=s({request:{cache:i}},a),o=n.request.cache;if(o.noStore){o.enabled=false}if(o.enabled){if(this._bCacheOnly){o.maxAge=r;o.staleWhileRevalidate=false}else if(this._bNoCache){o.maxAge=0;o.staleWhileRevalidate=false}}n.request.cache=o;return e.prototype._prepareHeaders.call(this,t,n)};n.prototype._subscribeToHostMessages=function(){var e=this.getHostInstance();if(this._bIsSubscribed){return}if(!e){return}e.attachMessage(this._handleHostMessage,this);this._bIsSubscribed=true};n.prototype._unsubscribeFromHostMessages=function(){var e=this.getHostInstance();if(!e){return}e.detachMessage(this._handleHostMessage,this);this._bIsSubscribed=false};n.prototype._handleHostMessage=function(e){var a=e.getParameter("data");if(a.type!=="ui-integration-card-update"){return}if(a.url!==this._sCurrentRequestFullUrl){return}t.info("[CARDS CACHE] message ui-integration-card-update received for "+a.url);this.refreshFromCache()};n.prototype._attachTimestampPress=function(e){var t=this.getCardInstance(),a=this.getCardInstanceHeader();if(this._oHeaderDelegate){return}if(!a){return}this._oHeaderDelegate={onBeforeRendering:function(){var e=t.$().find(".sapFCardDataTimestamp");e.off("click",this._oRefreshWithoutCacheBound)}.bind(this),onAfterRendering:function(){var e=t.$().find(".sapFCardDataTimestamp");e.on("click",this._oRefreshWithoutCacheBound)}.bind(this)};a.addEventDelegate(this._oHeaderDelegate)};n.prototype._detachTimestampPress=function(e){var t=this.getCardInstance(),a=this.getCardInstanceHeader(),s=t&&t.$().find(".sapFCardDataTimestamp");if(!a){return}s.off("click",this._oRefreshWithoutCacheBound);a.removeEventDelegate(this._oHeaderDelegate);this._oHeaderDelegate=null};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/CardMerger", ["sap/base/util/merge","sap/ui/model/json/JSONModel","sap/ui/core/Core","sap/base/util/deepClone"],function(e,t,r,a){"use strict";var n={layers:{admin:0,content:5,translation:10,all:20},mergeManifestPathChanges:function(e,t){Object.keys(t).forEach(function(r){if(r.charAt(0)==="/"){var a=t[r];e.setProperty(r,a)}})},mergeTextsChanges:function(e,t,a){var i=r.getConfiguration().getLanguage().replaceAll("_","-");if(t&&t.hasOwnProperty(i)){var o=t[i];for(var s in o){var f=o[s];if(typeof f==="object"){n.translateObject(e,s,f,a)}else{var l=e.getProperty(s);var c=true;if(l&&typeof l==="string"&&(l.indexOf("{context>")===0||l.indexOf("{{parameters")===0)){c=false}if(c){e.setProperty(s,f)}}}}},mergeCardDelta:function(a,i,o){var s=e({},a);if(typeof o==="undefined"){o="sap.card"}if(Array.isArray(i)&&i.length>0){var f,l,c;i.forEach(function(a){if(a.content){e(s[o],a.content)}else{var i=a.hasOwnProperty(":layer")?a[":layer"]:1e3;if(i===n.layers["translation"]){var u=r.getConfiguration().getLanguage().replaceAll("_","-");var p={texts:{}};p.texts[u]={};delete a.texts;Object.keys(a).forEach(function(e){if(e.charAt(0)==="/"){p.texts[u][e]=a[e]}else{p[e]=a[e]}});a=p}l=e(l,a.texts);c=e(c,a[":designtime"]);f=f||new t(s);n.mergeManifestPathChanges(f,a)}});n.mergeTextsChanges(f,l,c)}return s},mergeCardDesigntimeMetadata:function(t,r){var a=e({},t);r.forEach(function(e){var t=e.content.entityPropertyChange||[];t.forEach(function(e){var t=e.propertyPath;switch(e.operation){case"UPDATE":if(a.hasOwnProperty(t)){a[t]=e.propertyValue}break;case"DELETE":delete a[t];break;case"INSERT":if(!a.hasOwnProperty(t)){a[t]=e.propertyValue}break;default:break}})});return a},translateObject:function(t,r,n,i){var o=t.getProperty(r);if(!o||typeof o!=="object"){return}o=a(o,500);if(!Array.isArray(o)){var s=(o._dt||{})._uuid;if(s&&n[s]){if(i&&i[r]&&i[r][s]){for(var f in i[r][s]){if(i[r][s][f].translatable===false){delete n[s][f]}}}e(o,n[s]);t.setProperty(r,o)}}else{o.forEach(function(t){var a=(t._dt||{})._uuid;if(a&&n[a]){if(i&&i[r]&&i[r][a]){for(var o in i[r][a]){if(i[r][a][o].translatable===false){delete n[a][o]}}}e(t,n[a])}});t.setProperty(r,o);return}}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/CardObserver", ["sap/ui/integration/library","sap/ui/base/Object"],function(t,e){"use strict";var r=t.CardDataMode;var i=e.extend("sap.ui.integration.util.CardObserver",{constructor:function(t){e.call(this);this._oCard=t}});i.prototype.destroy=function(){e.prototype.destroy.apply(this,arguments);this._oCard=null;if(this.oObserver){this.oObserver.disconnect();this.oObserver=null}};i.prototype.createObserver=function(){if(!this.oObserver){this.oObserver=new window.IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){this.loadManifest()}}.bind(this),{threshold:[.1]})}.bind(this))}};i.prototype.loadManifest=function(){var t=this._oCard.getDomRef();this._oCard.setDataMode(r.Active);this.oObserver.unobserve(t)};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/ContentFactory", ["./BaseFactory","sap/ui/integration/cards/actions/CardActions","sap/ui/integration/cards/AdaptiveContent","sap/ui/integration/cards/AnalyticalContent","sap/ui/integration/cards/AnalyticsCloudContent","sap/ui/integration/cards/CalendarContent","sap/ui/integration/cards/ComponentContent","sap/ui/integration/cards/ListContent","sap/ui/integration/cards/ObjectContent","sap/ui/integration/cards/TableContent","sap/ui/integration/cards/TimelineContent","sap/ui/integration/cards/WebPageContent"],function(t,e,n,a,r,i,o,s,c,d,u,p){"use strict";var l=t.extend("sap.ui.integration.util.ContentFactory");l.prototype.create=function(t){var a=this._oCard,r=t.cardType;return new Promise(function(i,o){var s=this.getClass(r);if(!s){o(r.toUpperCase()+" content type is not supported.");return}var c=new s;c.setCard(a);if(c instanceof n){c.setCardDataProvider(a._oDataProvider)}c.loadDependencies(t.cardManifest).then(function(){var t=a.getAggregation("_extension");if(!t){return Promise.resolve()}return t.loadDependencies()}).then(function(){if(t.cardManifest&&t.cardManifest.isDestroyed()||t.dataProviderFactory&&t.dataProviderFactory.isDestroyed()){o();return}var n=new e({card:a});c._sAppId=t.appId;c.setServiceManager(t.serviceManager);c.setDataProviderFactory(t.dataProviderFactory);c.setIconFormatter(t.iconFormatter);c.setActions(n);c.setConfiguration(t.contentManifest,r);i(c)}).catch(function(t){o(t)})}.bind(this))};l.prototype.getClass=function(t){switch(t.toLowerCase()){case"adaptivecard":return n;case"analytical":return a;case"analyticscloud":return r;case"calendar":return i;case"component":return o;case"list":return s;case"object":return c;case"table":return d;case"timeline":return u;case"webpage":return p;default:return null}};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/CsrfTokenHandler", ["sap/ui/base/Object","sap/base/util/isPlainObject","sap/base/util/merge","sap/ui/model/json/JSONModel"],function(e,t,r,o){"use strict";var n=/\{\{csrfTokens.([^\}]+)/;var i="X-CSRF-Token";var s=e.extend("sap.ui.integration.util.CsrfTokenHandler",{metadata:{library:"sap.ui.integration"},constructor:function(t){e.call(this);t=t||{};this._oHost=t.host;this._oConfiguration=t.configuration}});s._mTokens=new Map;s.prototype.resolveToken=function(e){var t,o;e=r({},e);t=this._findCsrfPlaceholder(e);if(!t){return Promise.resolve(e)}o=this._getCsrfConfig(t.tokenName);if(this._oHost){return this._oHost.getCsrfToken(o).then(function(r){if(!r){return this._resolveTokenByUrl(e,t)}this._replaceCsrfPlaceholder(t,r);return e}.bind(this)).catch(function(e){return Promise.reject(e)})}return this._resolveTokenByUrl(e,t)};s.prototype._resolveTokenByUrl=function(e,t){var r=t.tokenName,o=this._getCsrfConfig(r).data.request.url;if(s._mTokens.has(o)){return s._mTokens.get(o).then(function(r){this._replaceCsrfPlaceholder(t,r);return e}.bind(this))}if(r){return this._requestToken(e,t)}return Promise.resolve(e)};s.prototype.setDataProviderFactory=function(e){this._oDataProviderFactory=e};s.prototype.setHost=function(e){this._oHost=e};s.prototype.isExpiredToken=function(e){if(!e){return false}var t=e.getResponseHeader(i);return t&&t.toLowerCase()==="required"&&e.status===403};s.prototype._requestToken=function(e,t){var r=t.tokenName,n=this._getCsrfConfig(r);if(!r||!n){return Promise.reject("CSRF definition is incorrect")}var s=new Promise(function(e,t){var r=this._oDataProviderFactory.create(n.data);r.getData().then(function(t){var s,a;if(n.data.path){a=new o(t);s=a.getProperty(n.data.path);a.destroy()}else{s=r.getLastJQXHR().getResponseHeader(i)}e(s)}).catch(function(){t("CSRF token cannot be resolved")})}.bind(this));this._registerToken(n,s);return s.then(function(r){this._replaceCsrfPlaceholder(t,r);return e}.bind(this))};s.prototype.resetTokenByRequest=function(e){var t=this._findCsrfPlaceholder(e);if(!t){return}this._deleteRegisteredToken(this._getCsrfConfig(t.tokenName))};s.prototype._getCsrfConfig=function(e){return this._oConfiguration[e]};s.prototype._replaceCsrfPlaceholder=function(e,t){var r=e.object[e.key];e.object[e.key]=r.replace("{{csrfTokens."+e.tokenName+"}}",t)};s.prototype._findCsrfPlaceholder=function(e){var r,o,n;for(o in e){r=e[o];if(typeof r==="string"){n=this._getCsrfTokenName(r);if(n){return{object:e,key:o,tokenName:n}}}if(t(r)){r=this._findCsrfPlaceholder(r);if(r){return r}}}return null};s.prototype._getCsrfTokenName=function(e){var t=e.match(n);if(!t){return""}return t[1]};s.prototype._registerToken=function(e,t){s._mTokens.set(e.data.request.url,t);if(this._oHost){this._oHost.csrfTokenFetched(e,t)}};s.prototype._deleteRegisteredToken=function(e){s._mTokens.delete(e.data.request.url);if(this._oHost){this._oHost.csrfTokenExpired(e)}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/DataProvider", ["sap/ui/base/ManagedObject","sap/ui/performance/Measurement"],function(t,e){"use strict";var i=t.extend("sap.ui.integration.util.DataProvider",{metadata:{library:"sap.ui.integration",properties:{settings:{type:"object"},settingsJson:{type:"string"},baseRuntimeUrl:{type:"string"}},events:{dataRequested:{parameters:{}},dataChanged:{parameters:{data:{type:"object"}}},error:{parameters:{message:{type:"string"}}}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}}});i.prototype.init=function(){this._iCurrentRequestNumber=0};i.prototype.setDestinations=function(t){this._oDestinations=t};i.prototype.setCsrfTokenHandler=function(t){this._oCsrfTokenHandler=t};i.prototype.setDependencies=function(t){this._aDependencies=t};i.prototype.setSettingsJson=function(t){this.setProperty("settingsJson",t);this.setSettings(JSON.parse(t));if(this._bActive){this._scheduleDataUpdate()}};i.prototype._getRuntimeUrl=function(t){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")){return t}var e=t&&t.trim().replace(/^\//,"");return this.getBaseRuntimeUrl()+e};i.prototype.triggerDataUpdate=function(){var t,e;this.fireDataRequested();t=this._waitDependencies();e=t.then(this._triggerDataUpdate.bind(this));if(!this._pInitialRequestPromise){this._pInitialRequestPromise=e}return e};i.prototype._triggerDataUpdate=function(){this._bActive=true;this._iCurrentRequestNumber++;var t;if(this.getCard()){t=e.start("UI5 Integration Cards - "+this.getCard()+"-"+this.getId()+"---getData#"+this._iCurrentRequestNumber,this.getDetails())}return this.getData().then(function(i){if(t){e.end(t.id)}this.fireDataChanged({data:i});this.onDataRequestComplete()}.bind(this)).catch(function(i){if(t){e.end(t.id)}if(Array.isArray(i)&&i.length>0){this.fireError({message:i[0],jqXHR:i[1]})}else{this.fireError({message:i})}this.onDataRequestComplete()}.bind(this))};i.prototype.getData=function(){var t=this.getSettings();return new Promise(function(e,i){if(t.json){e(t.json)}else{i("Could not get card data.")}})};i.prototype.destroy=function(){if(this._iIntervalId){clearInterval(this._iIntervalId);this._iIntervalId=null}if(this._iDataUpdateCallId){clearTimeout(this._iDataUpdateCallId);this._iDataUpdateCallId=null}t.prototype.destroy.apply(this,arguments)};i.prototype.getInitialRequestPromise=function(){return this._pInitialRequestPromise};i.prototype.onDataRequestComplete=function(){var t;var e=this.getSettings();if(!e||!e.updateInterval){return}t=parseInt(e.updateInterval);if(isNaN(t)){return}setTimeout(function(){this.triggerDataUpdate()}.bind(this),t*1e3)};i.prototype._scheduleDataUpdate=function(){if(this._iDataUpdateCallId){clearTimeout(this._iDataUpdateCallId)}this._iDataUpdateCallId=setTimeout(this.triggerDataUpdate.bind(this),0)};i.prototype._waitDependencies=function(){var t=this._aDependencies||[],e=[];t.forEach(function(t){e.push(t.getInitialRequestPromise())});return Promise.all(e)};i.prototype.getDetails=function(){return"Static JSON data provided in the manifest."};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/DataProviderFactory", ["sap/ui/base/Object","sap/ui/integration/util/ServiceDataProvider","sap/ui/integration/util/RequestDataProvider","sap/ui/integration/util/CacheAndRequestDataProvider","sap/ui/integration/util/DataProvider","sap/ui/integration/util/ExtensionDataProvider","sap/ui/integration/util/JSONBindingHelper","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/CsrfTokenHandler"],function(e,t,i,s,r,n,o,a,d){"use strict";var l=e.extend("sap.ui.integration.util.DataProviderFactory",{constructor:function(t){e.call(this);t=t||{};this._oDestinations=t.destinations;this._oExtension=t.extension;this._oCsrfTokenHandler=t.csrfTokenHandler;this._oCard=t.card;this._oEditor=t.editor;this._oHost=t.host;if(t.csrfTokensConfig){this._oCsrfTokenHandler=new d({host:t.host,configuration:t.csrfTokensConfig})}this._aDataProviders=[];this._aFiltersProviders=[]}});l.prototype.destroy=function(){e.prototype.destroy.apply(this,arguments);if(this._aDataProviders){this._aDataProviders.forEach(function(e){if(!e.bIsDestroyed){e.destroy()}});this._aDataProviders=null;this._aFiltersProviders=null}if(this._oCsrfTokenHandler){this._oCsrfTokenHandler.destroy();this._oCsrfTokenHandler=null}this._oCard=null;this._oExtension=null;this._bIsDestroyed=true};l.prototype.isDestroyed=function(){return this._bIsDestroyed};l.prototype.create=function(e,o,d,l){if(!e){return null}var u=this._oCard,f=this._oEditor,h=this._oHost||u&&u.getHostInstance()||f&&f.getHostInstance(),c=h&&h.bUseExperimentalCaching,p=this._createDataProviderSettings(e,l),_;if(e.request&&c){_=new s(p);_.setHost(h)}else if(e.request){_=new i(p);if(h){_.setHost(h)}}else if(e.service){_=new t(p)}else if(e.json){_=new r(p)}else if(e.extension){_=new n(p,this._oExtension)}else{return null}if(u){_.setCard(u);a.propagateModels(u,_)}else if(f){a.propagateModels(f,_)}_.bindObject("/");_.setDestinations(this._oDestinations);if(this._oCsrfTokenHandler){_.setCsrfTokenHandler(this._oCsrfTokenHandler);this._oCsrfTokenHandler.setDataProviderFactory(this)}if(_.isA("sap.ui.integration.util.IServiceDataProvider")){_.createServiceInstances(o)}this._aDataProviders.push(_);if(d){this._aFiltersProviders.push(_)}else{_.setDependencies(this._aFiltersProviders)}return _};l.prototype.remove=function(e){var t=this._aDataProviders.indexOf(e);if(t>-1){this._aDataProviders.splice(t,1)}if(e&&!e.bDestroyed&&e._bIsDestroyed){e.destroy()}};l.prototype.setHost=function(e){this._oHost=e;if(this._oCsrfTokenHandler){this._oCsrfTokenHandler.setHost(e)}};l.prototype._createDataProviderSettings=function(e,t){var i=this._oCard;var s=this._oEditor;var r={};if(i){r.baseRuntimeUrl=i.getRuntimeUrl("/");if(t){r.settings=e}else{r.settingsJson=o.createJsonWithBindingInfos(e,i.getBindingNamespaces())}}else if(s){r.baseRuntimeUrl=s.getRuntimeUrl("/");r.settingsJson=o.createJsonWithBindingInfos(e,s.getBindingNamespaces())}else{r.settingsJson=o.createJsonWithBindingInfos(e,{})}return r};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/Destinations", ["sap/ui/base/Object","sap/base/Log","sap/base/util/isPlainObject","sap/ui/integration/util/Utils"],function(t,e,i,r){"use strict";var n=/\{\{destinations.([^\}]+)/;var o=t.extend("sap.ui.integration.util.Destinations",{metadata:{library:"sap.ui.integration"},constructor:function(e){t.call(this);this._oHost=e.host;this._oCard=e.card;this._oConfiguration=e.manifestConfig;this._mResolved=new Map}});o.prototype.setHost=function(t){this._oHost=t;this._mResolved.clear()};o.prototype.process=function(t){var i=[];this._processObject(t,undefined,i);return Promise.all(i).then(function(){return t}).catch(function(i){e.error(i,"sap.ui.integration.util.Destinations");return t})};o.prototype._processObject=function(t,e,r){if(!t){return Promise.resolve(t)}var n=t.hasOwnProperty(e)?t[e]:t;if(typeof n==="string"){r.push(this.processString(n).then(function(i){if(e!==undefined){t[e]=i}}).catch(function(){if(e!==undefined){t[e]=""}}))}if(i(n)){Object.keys(n).forEach(function(t){this._processObject(n,t,r)}.bind(this))}if(Array.isArray(n)){n.forEach(function(t,e){this._processObject(n,e,r)}.bind(this))}};o.prototype.getUrl=function(t){var e;if(this._mResolved.has(t)){return this._mResolved.get(t)}e=this._resolveUrl(t);this._mResolved.set(t,e);return e};o.prototype._resolveUrl=function(t){var i=this._oConfiguration?this._oConfiguration[t]:null,n,o,s;if(!i){return Promise.reject("Configuration for destination '"+t+"' was not found in the manifest.")}n=i.name;o=i.defaultUrl;if(!n&&!o){return Promise.reject("Can not resolve destination '"+t+"'. Neither 'name' nor 'defaultUrl' is configured.")}if(!n&&o){return Promise.resolve(o)}if(!this._oHost&&!o){return Promise.reject("Can not resolve destination '"+t+"'. There is no 'host' and no defaultUrl specified.")}if(!this._oHost&&o){return Promise.resolve(o)}s=r.timeoutPromise(this._oHost.getDestination(n,this._oCard));if(o){return s.catch(function(t){e.info(t+" Fallback to default url.","sap.ui.integration.util.Destinations");return o})}return s};o.prototype.hasDestination=function(t){return!!t.match(n)};o.prototype.processString=function(t){var e=t.match(n),i;if(!e){return Promise.resolve(t)}i=e[1];return this.getUrl(i).then(function(e){return this._replaceUrl(t,i,e)}.bind(this))};o.prototype._replaceUrl=function(t,e,i){var r=i.trim().replace(/\/$/,"");return t.replace("{{destinations."+e+"}}",r)};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/ExtensionDataProvider", ["sap/ui/integration/util/DataProvider"],function(t){"use strict";var e=t.extend("sap.ui.integration.util.ExtensionDataProvider",{metadata:{library:"sap.ui.integration"},constructor:function(e,o){t.call(this,e);this._oExtension=o}});e.prototype.destroy=function(){t.prototype.destroy.apply(this,arguments);this._oExtension=null};e.prototype.getData=function(){var t=this.getSettings().extension;if(!this._oExtension){return Promise.reject("The extension module is not loaded properly or doesn't export a correct value.")}if(!this._oExtension[t.method]){return Promise.reject("Extension doesn't implement "+t.method+" method.")}return this._oExtension[t.method].apply(this._oExtension,t.args)};e.prototype.getDetails=function(){return"Load data from Extension. Method: "+this.getSettings().extension.method};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/Forms", ["sap/ui/core/library","./Validators","./BindingResolver","sap/base/Log"],function(e,t,r,n){"use strict";var a=e.ValueState;function i(e){if(e.isA("sap.m.ComboBox")){return{key:e.getSelectedKey(),value:e.getValue()}}else{return e.getValue()}}function o(e){switch(e.type){case"ComboBox":return"keyValuePair";default:return"string"}}function s(e,t){var r="/"+e._oItem.id,n=t.getData(),i,o=false;e.setValueState(a.None);for(i=0;i<n.records.length;i++){if(n.records[i].bindingPath===r){n.records.splice(i,1);o=true;break}}if(o){t.setData(n)}}function u(e){var t=e.getProperty("/records");e.setProperty("/hasErrors",!!t.find(function(e){return e.type===a.Error}));e.setProperty("/hasWarnings",!!t.find(function(e){return e.type===a.Warning}))}function f(e,t){var r;if(!e.startsWith("extension.")){n.error("Validation function should start with 'extension.'");return false}if(!t){n.error("Extension is not defined.");return false}r=e.replace("extension.","");if(!t[r]){n.error("No such function.",r,"sap.ui.integration.widgets.Card");return false}return r}var l={validateControl:function(e,n,l){var d=i(e),g=n.getModel("messages"),c=n.getModel("i18n").getResourceBundle(),p=n.getAggregation("_extension"),v=e._oItem,h,V,y,x,b,S,m,P=false,w,B;s(e,g);if(!v||!v.validations){return}B=r.resolveValue(v.validations,e,e.getBindingContext().getPath());h=o(v);V=t[h];B.forEach(function(t){for(var r in t){if(P){return}y=t[r];if(r==="validate"){var n=f(y,p);if(n){x=p[n]}}else{x=V[r]}if(typeof x!=="function"){continue}m=x(d,y);if(!m){b=t.type||a.Error;S=t.message||c.getText(V[r+"Txt"],y);w=g.getData();w.records.push({message:S,type:b,bindingPath:"/"+v.id});g.setData(w);if(l||e._bShowValueState){e._bShowValueState=true;e.setValueState(b);e.setValueStateText(S)}P=true}}});u(g)},getRequiredValidationValue:function(e){var t=e.validations||[],r,n,a;for(n=0;n<t.length;n++){r=t[n];for(a in r){if(a==="required"){return r[a]}}}return false}};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/HeaderFactory", ["sap/ui/core/Core","./BaseFactory","sap/base/Log","sap/base/util/isEmptyObject","sap/ui/integration/cards/actions/CardActions","sap/ui/integration/library","sap/m/library","sap/ui/integration/cards/NumericHeader","sap/ui/integration/cards/Header","sap/ui/integration/util/Utils","sap/m/Button"],function(t,e,a,r,i,n,s,o,c,u,d){"use strict";var p=n.CardActionArea;var g=s.ButtonType;var f=t.getLibraryResourceBundle("sap.ui.integration");var l=e.extend("sap.ui.integration.util.HeaderFactory");l.prototype.create=function(t,e){if(r(t)){a.warning("Card sap.card/header entry in the manifest is mandatory","sap.ui.integration.widgets.Card");return null}var n=this._oCard,s=n.getOpener(),d,g;t=this.createBindingInfos(t,n.getBindingNamespaces());if(s){e=this._createCloseButton()}switch(t.type){case"Numeric":g=new o(t,e);break;default:g=new c(t,e,n._oIconFormatter);break}g.setCard(n);if(t.status&&t.status.text&&t.status.text.format){d=u.getStatusTextBindingInfo(t.status.text.format,g);if(d){g.bindProperty("statusText",d)}}g.setServiceManager(n._oServiceManager);g.setDataProviderFactory(n._oDataProviderFactory);g._setDataConfiguration(t.data);var f=new i({card:n});f.attach({area:p.Header,enabledPropertyName:"interactive",actions:t.actions,control:g});g._oActions=f;if(s){g.setProperty("focusable",false)}return g};l.prototype._createCloseButton=function(){var t=new d({type:g.Transparent,tooltip:f.getText("CARD_DIALOG_CLOSE_BUTTON"),icon:"sap-icon://decline",press:function(){this._oCard.hide()}.bind(this)});return t};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/JSONBindingHelper", ["sap/ui/base/BindingParser","sap/ui/integration/util/BindingHelper"],function(n,i){"use strict";var e=[["ESCAPED_BINDING_START",/\\{/g,"\\{"],["ESCAPED_BINDING_END",/\\}/g,"\\}"],["BINDING_START",/{/g,"{"],["BINDING_END",/}/g,"}"]];var r={};r.createJsonWithBindingInfos=function(n,e){if(!n){return n}var r=this._createBindableJson(n),t=i.createBindingInfos(r,e);if(typeof t==="string"){t=this._escape(t)}return t};r._createBindableJson=function(n){var i;i=JSON.stringify(n,function(n,i){if(typeof i==="string"){return this._encodeBindingString(i)}return i}.bind(this));i=this._escape(i);i=this._decodeBindingString(i);return i};r._escape=function(i){return n.complexParser.escape(i)};r._encodeBindingString=function(n){e.forEach(function(i){var e=i[0],r=i[1];n=n.replace(r,e)});return n};r._decodeBindingString=function(n){e.forEach(function(i){var e=i[0],r=i[2];n=n.replace(new RegExp(e,"g"),r)});return n};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/LoadingProvider", ["../cards/ListContentRenderer","sap/ui/integration/library","sap/ui/core/Element","sap/f/cards/loading/GenericPlaceholder","sap/f/cards/loading/ListPlaceholder","sap/f/cards/loading/CalendarPlaceholder","sap/f/cards/loading/ObjectPlaceholder","sap/f/cards/loading/TablePlaceholder","sap/f/cards/loading/TimelinePlaceholder","sap/f/cards/loading/AnalyticalPlaceholder","../cards/TableContentRenderer","../cards/TimelineContentRenderer","../cards/AnalyticalContentRenderer"],function(e,t,a,n,i,o,r,s,l,d,c,h,m){"use strict";var g=a.extend("sap.ui.integration.util.LoadingProvider",{metadata:{library:"sap.ui.integration",properties:{loading:{type:"boolean",defaultValue:false}}}});g.prototype.setLoading=function(e){if(this.isDataProviderJson()||this._bAwaitPagination&&!e){return this}return this.setProperty("loading",e)};g.prototype.isDataProviderJson=function(){return!!(this._oDataProvider&&this._oDataProvider.getSettings()&&this._oDataProvider.getSettings()["json"])};g.prototype.setDataProvider=function(e){this._oDataProvider=e};g.prototype.destroy=function(){if(this._oContentPlaceholder){this._oContentPlaceholder.destroy();this._oContentPlaceholder=null}this._oDataProvider=null;a.prototype.destroy.apply(this,arguments)};g.prototype.createContentPlaceholder=function(t,a,g){switch(a){case"List":this._oContentPlaceholder=new i({maxItems:g?g.getContentPageSize(t)||2:2,item:t.item,itemHeight:e.getItemMinHeight(t,g||this)+"rem"});break;case"Calendar":this._oContentPlaceholder=new o({maxItems:t.maxItems?parseInt(t.maxItems):2,maxLegendItems:t.maxLegendItems?parseInt(t.maxLegendItems):2,item:t.item?t.item.template:{},legendItem:t.legendItem?t.legendItem.template:{}});break;case"Object":this._oContentPlaceholder=new r;break;case"Table":this._oContentPlaceholder=new s({maxItems:g?g.getContentPageSize(t)||2:2,itemHeight:c.getItemMinHeight(t,g||this)+"rem",columns:t.row?t.row.columns.length||2:2});break;case"Timeline":this._oContentPlaceholder=new l({maxItems:g?g.getContentPageSize(t)||2:2,item:t.item,itemHeight:h.getItemMinHeight(t,g||this)+"rem"});break;case"Analytical":this._oContentPlaceholder=new d({chartType:t.chartType,minHeight:m.getMinHeight(t)});break;default:this._oContentPlaceholder=new n}return this._oContentPlaceholder};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/Manifest", ["sap/ui/base/Object","sap/ui/core/Manifest","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/util/each","sap/base/util/isPlainObject","sap/base/util/isEmptyObject","sap/base/Log","./ParameterMap","sap/ui/integration/util/CardMerger"],function(e,t,s,i,n,r,o,a,f,u){"use strict";var h="/{SECTION}/configuration/parameters",c="/{SECTION}/configuration/filters",p="/{SECTION}",l="/sap.app/dataSources",d=/\{\{(?!parameters.)(?!destinations.)(?!csrfTokens.)([^\}\}]+)\}\}|\{i18n>([^\}]+)\}/g;var g=e.extend("sap.ui.integration.util.Manifest",{constructor:function(i,n,r,o){e.call(this);this._aChanges=o;this._sSection=i;this.PARAMETERS=h.replace("{SECTION}",i);this.FILTERS=c.replace("{SECTION}",i);this.CONFIGURATION=p.replace("{SECTION}",i);if(n){var f={},u;f.process=false;this._oInitialJson=s(n,500);if(r){f.baseUrl=r;this._sBaseUrl=r}else{a.warning("If no base URL is provided when the manifest is an object static resources cannot be loaded.")}if(this._aChanges){u=this.mergeDeltaChanges(n)}else{u=n}this._oManifest=new t(u,f);this.oJson=this._oManifest.getRawJson()}}});g.prototype.mergeDeltaChanges=function(e){return u.mergeCardDelta(e,this._aChanges,this._sSection)};g.prototype.getJson=function(){return this._unfreeze(this.oJson)};g.prototype.setJson=function(e){y(e);this.oJson=e};g.prototype.getInitialJson=function(){return this._oInitialJson};g.prototype.get=function(e){return this._unfreeze(v(this.oJson,e))};g.prototype.getUrl=function(){return this._oManifest.resolveUri("./","manifest")};g.prototype.getResourceBundle=function(){return this.oResourceBundle};g.prototype._unfreeze=function(e){if(typeof e==="object"){return JSON.parse(JSON.stringify(e))}return e};g.prototype.destroy=function(){this.oJson=null;this.oResourceBundle=null;if(this._oManifest){this._oManifest.destroy()}this._bIsDestroyed=true};g.prototype.isDestroyed=function(){return this._bIsDestroyed};g.prototype.load=function(e){if(!e||!e.manifestUrl){if(this._sBaseUrl&&this._oManifest){return this.loadI18n().then(function(){this.processManifest()}.bind(this))}else{if(this._oManifest){this.processManifest()}return new Promise(function(e){e()})}}return t.load({manifestUrl:e.manifestUrl,async:true,processJson:function(e){this._oInitialJson=s(e,500);if(this._aChanges){return this.mergeDeltaChanges(e)}return e}.bind(this)}).then(function(e){this._oManifest=e;this.oJson=this._oManifest.getRawJson();return this.loadI18n().then(function(){this.processManifest()}.bind(this))}.bind(this))};g.prototype.loadI18n=function(){var e=false;t.processObject(this._oManifest.getJson(),function(t,s,i){if(!e&&i.match(d)){e=true}});if(this.get("/sap.app/i18n")){e=true}if(!e){return Promise.resolve()}return this._oManifest._loadI18n(true).then(function(e){this.oResourceBundle=e}.bind(this))};g.prototype.processManifest=function(){var e=0,t=15,s=i({},this._oManifest.getRawJson()),n=this.get(l);O(s,this.oResourceBundle,e,t,this._oCombinedParams,n,this._oCombinedFilters);this.setJson(s)};function y(e){if(e&&typeof e==="object"&&!Object.isFrozen(e)){Object.freeze(e);for(var t in e){if(e.hasOwnProperty(t)){y(e[t])}}}}function b(e){return typeof e==="string"&&e.match(d)&&e.indexOf("{{")===0&&e.indexOf("}}")===e.length-2}function _(e){return typeof e==="string"&&(e.indexOf("{{parameters.")>-1||e.indexOf("{{dataSources")>-1||e.indexOf("{{filters.")>-1)}g._processPlaceholder=function(e,t,s,i){var n=f.processPredefinedParameter(e),r,a;if(!o(t)){for(var u in t){r=t[u].value;a="{{parameters."+u;n=m(n,r,a)}}if(s){n=m(n,s,"{{dataSources")}if(i){n=m(n,i,"{{filters")}return n};function m(e,t,s){if(r(t)||Array.isArray(t)){for(var i in t){e=m(e,t[i],s+"."+i)}}else if(e.includes(s+"}}")){e=e.replace(new RegExp(s+"}}","g"),t)}return e}function O(e,t,s,i,n,r,o){if(s===i){return}if(Array.isArray(e)){e.forEach(function(e,a,f){if(typeof e==="object"){O(e,t,s+1,i,n,r,o)}else if(_(e)){f[a]=g._processPlaceholder(e,n,r,o)}else if(b(e)&&t){f[a]=t.getText(e.substring(2,e.length-2))}},this)}else{for(var a in e){if(typeof e[a]==="object"){O(e[a],t,s+1,i,n,r,o)}else if(_(e[a])){e[a]=g._processPlaceholder(e[a],n,r,o)}else if(b(e[a])&&t){e[a]=t.getText(e[a].substring(2,e[a].length-2))}}}}function v(e,t){if(t==="/"){return e}if(e&&t&&typeof t==="string"&&t[0]==="/"){var s=t.substring(1).split("/"),i;for(var n=0,r=s.length;n<r;n++){i=s[n];e=e.hasOwnProperty(i)?e[i]:undefined;if(e===null||typeof e!=="object"){if(n+1<r&&e!==undefined){e=undefined}break}}return e}return e&&e[t]}g.prototype.processFilters=function(e){if(!this._oManifest){return}var t=this.get(this.FILTERS),s={};if(e.size&&!t){a.error("If runtime filters are set, they have to be defined in the manifest configuration as well.");return}n(t,function(t,i){var n=e.get(t)||i.value;s[t]=n});this._oCombinedFilters=s;this.processManifest()};g.prototype.processParameters=function(e){if(!this._oManifest){return}var t=this.get(this.PARAMETERS);if(!o(e)&&!t){a.error("If parameters property is set, parameters should be described in the manifest");return}this._oCombinedParams=this._syncParameters(e,t);this.processManifest()};g.prototype.getProcessedParameters=function(e){var t=this.get(this.PARAMETERS),s=this._syncParameters(e,t);O(s,this.oResourceBundle,0,15,e);return s};g.prototype._syncParameters=function(e,t){if(o(e)){return t}var i=s(t||{},500),n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(i);for(var a=0;a<r.length;a++){for(var f=0;f<n.length;f++){if(r[a]===n[f]){i[r[a]].value=e[n[f]]}}}return i};g.prototype.findDataSections=function(e){var t=[],s;if(!e){e=this.get(this.CONFIGURATION)}if(!r(e)){return[]}if(e.data){t.push(e.data)}for(s in e){if(e[s]){t=t.concat(this.findDataSections(e[s]))}}return t};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/ManifestResolver", ["sap/ui/core/Core","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/Utils","sap/m/IllustratedMessageType","sap/m/IllustratedMessageSize"],function(e,t,r,a,n,i){"use strict";var s={};s.resolveCard=function(e){e.startManifestProcessing();return s._awaitReadyEvent(e).then(s._handleCardReady).catch(function(t){return s._handleCardSevereError(e,t)})};s._awaitReadyEvent=function(e){if(e.isReady()){return Promise.resolve(e)}return new Promise(function(t,r){e.attachEvent("_ready",function(r){t(e)})})};s._handleCardReady=function(e){var n=e.getManifestEntry("/"),i=[],s=e.getSevereErrors(),o=e.getContentMessage();if(s.length){return Promise.reject(s.join(" "))}try{if(e.getAggregation("_filterBar")){i=e.getAggregation("_filterBar")._getFilters().map(function(e){return["/sap.card/configuration/filters/"+e.getKey(),e]})}i.concat([["/sap.card/content",e.getCardContent()],["/sap.card/header",e.getCardHeader()],["/sap.card/footer",e.getCardFooter()],["/sap.card",e]]).filter(function(t){return!!e.getManifestEntry(t[0])}).forEach(function(i){var s=i[0];var g=i[1];var u;var d;if(o&&s==="/sap.card/content"){u={message:o}}else if(g.getStaticConfiguration){u=g.getStaticConfiguration()}else{u=a.getNestedPropertyValue(n,s)}if(u.data){d=u.data.path;delete u.data}u=t.createBindingInfos(u,e.getBindingNamespaces());u=r.resolveValue(u,g,d);a.setNestedPropertyValue(n,s,u)});return Promise.resolve(JSON.parse(JSON.stringify(n)))}catch(e){return Promise.reject(e)}};s._handleCardSevereError=function(t,r){var a=t.getManifestEntry("/"),s=e.getLibraryResourceBundle("sap.ui.integration");a["sap.card"]={content:{message:{type:"error",title:s.getText("CARD_ERROR_OCCURED"),description:r.toString(),illustrationType:n.SimpleError,illustrationSize:i.Spot}}};return JSON.parse(JSON.stringify(a))};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/ParameterMap", ["sap/ui/core/Core"],function(e){"use strict";var r={};var n={"{{parameters.NOW_ISO}}":t,"{{parameters.TODAY_ISO}}":a,"{{parameters.LOCALE}}":i};function t(){return(new Date).toISOString()}function a(){return(new Date).toISOString().slice(0,10)}function i(){return e.getConfiguration().getLocale().toString()}r.processPredefinedParameter=function(e){var r;Object.keys(n).forEach(function(t){r=new RegExp(t,"g");if(e.indexOf(t)>-1){e=e.replace(r,n[t]())}});return e};r.getParamsForModel=function(){var e={};for(var r in n){var t=r.indexOf("."),a=r.indexOf("}");e[r.substring(t+1,a)]=n[r]()}return e};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/RequestDataProvider", ["sap/ui/integration/util/DataProvider","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/model/odata/v4/ODataUtils","sap/ui/core/Core"],function(e,jQuery,t,r,s){"use strict";var i=[429,503];var n=["no-cors","same-origin","cors"];var o=["GET","POST","HEAD","PUT","PATCH","DELETE","OPTIONS"];var a=e.extend("sap.ui.integration.util.RequestDataProvider",{metadata:{library:"sap.ui.integration",properties:{allowCustomDataType:{type:"boolean",defaultValue:false}},associations:{host:{type:"sap.ui.integration.Host",multiple:false}}}});a.prototype.destroy=function(){if(this._iRetryAfterTimeout){clearTimeout(this._iRetryAfterTimeout)}e.prototype.destroy.apply(this,arguments)};a.prototype.getLastJQXHR=function(){return this._lastJQXHR};a.prototype.getData=function(){var e=this.getSettings().request,t=Promise.resolve(e);if(this._oDestinations){t=this._oDestinations.process(e)}if(this._oCsrfTokenHandler){t=t.then(function(e){return this._oCsrfTokenHandler.resolveToken(e)}.bind(this))}t=t.then(this._fetch.bind(this));if(this._oCsrfTokenHandler){t=t.catch(this._handleExpiredToken.bind(this))}return t};a.prototype._handleExpiredToken=function(e){if(this._oCsrfTokenHandler.isExpiredToken(this.getLastJQXHR())){this._oCsrfTokenHandler.resetTokenByRequest(this.getSettings().request);return this.getData().catch(function(e){throw e})}throw e};a.prototype._fetch=function(e){var s="Invalid request";if(!e||!e.url){t.error(s);return Promise.reject(s)}if(!this.getAllowCustomDataType()&&e.dataType){t.error("To specify dataType property in the Request Configuration, first set allowCustomDataType to 'true'.")}var i=e.parameters,n=e.url,o=this.getAllowCustomDataType()&&e.dataType||"json",a=e.headers||{},u=e.batch,f,d;if(!n.startsWith("/")){n=this._getRuntimeUrl(e.url)}if(this._hasHeader(e,"Content-Type","application/json")){i=JSON.stringify(e.parameters)}if(u){f=r.serializeBatchRequest(Object.values(u));o="text";i=f.body;a=Object.assign({},a,f.headers)}a=this._prepareHeaders(a,this.getSettings());d={mode:e.mode||"cors",url:n,method:e.method&&e.method.toUpperCase()||"GET",dataType:o,data:i,headers:a,timeout:15e3,xhrFields:{withCredentials:!!e.withCredentials}};if(!i){delete d.data}if(!this._isValidRequest(d)){t.error(s);return Promise.reject(s)}return this._request(d).then(function(e){var t=e[0];if(u){return this._deserializeBatchResponse(u,t)}return t}.bind(this))};a.prototype._request=function(e,t){return new Promise(function(r,s){jQuery.ajax(e).done(function(e,t,i){if(this.bIsDestroyed){s("RequestDataProvider is already destroyed before the response is received.");return}this._lastJQXHR=i;r([e,i])}.bind(this)).fail(function(i,n,o){var a=[o,i];if(this.bIsDestroyed){s("RequestDataProvider is already destroyed while error in the response occurred.");return}this._lastJQXHR=i;if(t){s(a);return}this._retryRequest(a,e).then(r,s)}.bind(this))}.bind(this))};a.prototype._retryRequest=function(e,r){var s=e[1],n=this._getRetryAfter(s);if(!i.includes(s.status)){return Promise.reject(e)}if(!n){t.warning("Request could be retried, but Retry-After header or configuration parameter retryAfter are missing.");return Promise.reject(e)}if(this._iRetryAfterTimeout){return Promise.reject("The retry was already scheduled.")}return new Promise(function(e,t){this._iRetryAfterTimeout=setTimeout(function(){this._request(r,true).then(e,t);this._iRetryAfterTimeout=null}.bind(this),n*1e3)}.bind(this))};a.prototype._getRetryAfter=function(e){var r=this.getSettings().request,s=e.getResponseHeader("Retry-After")||r.retryAfter;if(!s){return 0}if(Number.isInteger(s)){return s}if(!s.match(/^\d+$/)){t.error("Only number of seconds is supported as value of retry-after. Given '"+s+"'.");return 0}return parseInt(s)};a.prototype._hasHeader=function(e,t,r){if(!e.headers){return false}for(var s in e.headers){if(s.toLowerCase()===t.toLowerCase()&&e.headers[s]===r){return true}}return false};a.prototype._isValidRequest=function(e){if(!e){return false}if(n.indexOf(e.mode)===-1){return false}if(o.indexOf(e.method)===-1){return false}if(typeof e.url!=="string"){return false}return true};a.prototype._deserializeBatchResponse=function(e,t){return new Promise(function(s,i){var n=this.getLastJQXHR().getResponseHeader("Content-Type"),o=r.deserializeBatchResponse(n,t,false),a=Object.keys(e),u={};a.forEach(function(e,t){var r=o[t],s;if(!r){i("Batch responses do not match the batch requests.");return}s=new Response(r.responseText,r);if(!s.ok){i("One of batch requests fails with '"+s.status+" "+s.statusText+"'");return}u[e]=r.responseText?JSON.parse(r.responseText):{}});s(u)}.bind(this))};a.prototype._prepareHeaders=function(e,t){var r=s.byId(this.getCard()),i=s.byId(this.getHost());if(i&&i.modifyRequestHeaders){return i.modifyRequestHeaders(Object.assign({},e),t,r)}return e};a.prototype.getDetails=function(){return"Backend interaction - load data from URL: "+this.getSettings().request.url};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/ServiceDataProvider", ["sap/ui/integration/util/DataProvider"],function(t){"use strict";var e=t.extend("sap.ui.integration.util.ServiceDataProvider",{metadata:{library:"sap.ui.integration",interfaces:["sap.ui.integration.util.IServiceDataProvider"]}});e.prototype.destroy=function(){this._oDataServicePromise=null;if(this._oServiceManager){this._oServiceManager=null}t.prototype.destroy.apply(this,arguments)};e.prototype.createServiceInstances=function(t){this._oServiceManager=t;if(!this.getSettings()||!this.getSettings().service){return}var e=this.getSettings().service;if(e&&typeof e==="object"){e=e.name}this._createServiceInstance(e)};e.prototype._createServiceInstance=function(t){var e=this.getSettings();this._oDataServicePromise=this._oServiceManager.getService(t).then(function(t){t.attachDataChanged(function(t){this.fireDataChanged({data:t.data})}.bind(this),e.service.parameters);return t}.bind(this))};e.prototype.getData=function(){var t=this.getSettings();var e=t.service;return new Promise(function(t,i){if(e&&this._oDataServicePromise){this._oDataServicePromise.then(function(e){e.getData().then(function(e){t(e)}).catch(function(){i("Card data service failed to get data.")})}).catch(function(){i("Card data service unavailable.")})}else{i("Could not get card data.")}}.bind(this))};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/ServiceManager", ["sap/ui/base/EventProvider","sap/base/Log"],function(e,r){"use strict";var t=e.extend("sap.ui.integration.util.ServiceManager",{constructor:function(r,t){if(!r){throw new Error("Missing manifest services reference!")}if(!t){throw new Error("Missing context object")}e.call(this);this._mServiceFactoryReferences=r;this._mServices={};this._oServiceContext=t;this._initAllServices()}});t.prototype._initAllServices=function(){for(var e in this._mServiceFactoryReferences){this._initService(e)}};t.prototype._initService=function(e){var i=this._mServices[e]||{};i.promise=t._getService(this._oServiceContext,e,this._mServiceFactoryReferences).then(function(e){i.instance=e}).catch(function(e){r.error(e.message)});this._mServices[e]=i};t.prototype.getService=function(e){var r="Invalid service";return new Promise(function(t,i){if(!e||!this._mServices[e]||!Object.keys(this._mServices[e])){i(r);return}this._mServices[e].promise.then(function(){if(this._mServices[e].instance){t(this._mServices[e].instance)}else{i(r)}}.bind(this)).catch(i)}.bind(this))};t.prototype.destroy=function(){this._mServices=null};t._getService=function(e,r,t){return new Promise(function(i,n){var c,s;if(e.bIsDestroyed){n(new Error("Service "+r+" could not be loaded as the requestor "+e.getMetadata().getName()+" was destroyed."));return}if(!t){n(new Error("No Services declared"));return}else{c=t[r]}if(!c||!c.factoryName){n(new Error("No Service '"+r+"' declared or factoryName missing"));return}else{s=c.factoryName}sap.ui.require(["sap/ui/core/service/ServiceFactoryRegistry"],function(t){var o=t.get(s);if(o){o.createInstance({scopeObject:e,scopeType:"component",settings:c.settings||{}}).then(function(e){if(e.getInterface){i(e.getInterface())}else{i(e)}}).catch(n)}else{var a=new Error("ServiceFactory '"+s+"' for Service '"+r+"' not found in ServiceFactoryRegistry");a._optional=c.optional;n(a)}})})};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/SkeletonCard", ["sap/ui/integration/widgets/Card","sap/ui/integration/util/ManifestResolver"],function(t,e){"use strict";var r=t.extend("sap.ui.integration.util.SkeletonCard",{metadata:{library:"sap.ui.integration"}});r.prototype.resolveManifest=function(){return e.resolveCard(this)};r.prototype.isSkeleton=function(){return true};r.prototype._createCard=function(t){return new r(t)};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/Utils", ["sap/ui/core/Core","sap/ui/core/Locale","sap/base/strings/formatMessage","sap/base/util/isPlainObject","sap/base/Log"],function(e,n,r,t,i){"use strict";var a={};a.isJson=function(e){if(typeof e!=="string"){return false}try{JSON.parse(e);return true}catch(e){return false}};a.processFormatArguments=function(e,r){var i=t(e)?e:{},a=typeof e==="string"?new n(e):r&&new n(r);return{formatOptions:i,locale:a}};var s=1,o=2,u=3;a.parseJsonDateTime=function(e){var n=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,r;if(typeof e==="string"){r=n.exec(e)}if(r){var t=new Date(parseInt(r[s]));if(r[o]){var a=parseInt(r[u]);if(r[o]==="-"){a=-a}var f=t.getUTCMinutes();t.setUTCMinutes(f-a)}if(isNaN(t.valueOf())){i.error("Invalid JSON Date format - "+e)}else{e=t}}return e};a.DEFAULT_PROMISE_TIMEOUT=5e3;a.timeoutPromise=function(e,n){var r;if(n===undefined){n=a.DEFAULT_PROMISE_TIMEOUT}r=new Promise(function(e,r){setTimeout(function(){r("The promise was not resolved after "+n+" ms so it timed out.")},n)});return Promise.race([e,r])};a.hasFalsyValueAsString=function(e){return typeof e=="string"&&["null","false","undefined",""].indexOf(e.trim())>-1};a.setNestedPropertyValue=function(e,n,r){var t=n.substring(1).split("/"),i;for(var a=0;a<t.length-1;a++){i=t[a];e=e.hasOwnProperty(i)?e[i]:undefined;if(e===null||typeof e!=="object"){break}}e[t[t.length-1]]=r};a.getNestedPropertyValue=function(e,n){var r=n.substring(1).split("/"),t;for(var i=0;i<r.length;i++){t=r[i];e=e.hasOwnProperty(t)?e[t]:undefined;if(e===null||typeof e!=="object"){break}}return e};a.makeUndefinedValuesNull=function(e){if(Array.isArray(e)){return e.map(function(e){if(e===undefined){return null}if(typeof e==="object"){return a.makeUndefinedValuesNull(e)}return e})}for(var n in e){if(e.hasOwnProperty(n)){if(e[n]===undefined){e[n]=null}else if(typeof e[n]==="object"){e[n]=a.makeUndefinedValuesNull(e[n])}}}return e};a.isBindingSyntaxComplex=function(){if(a._isBindingSyntaxComplex===undefined){a._isBindingSyntaxComplex=e.getConfiguration().getCompatibilityVersion("sapCoreBindingSyntax").compareTo("1.26")>=0}return a._isBindingSyntaxComplex};a.generateUuidV4=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=Math.random()*16|0;if(e==="y"){n=n&3|8}return n.toString(16)});return e};a.getStatusTextBindingInfo=function(e){var n;if(e.parts&&e.translationKey&&e.parts.length===2){n={parts:[e.translationKey,e.parts[0].toString(),e.parts[1].toString()],formatter:function(n,t,i){var a=t||e.parts[0];var s=i||e.parts[1];if(Array.isArray(t)){a=t.length}if(Array.isArray(i)){s=i.length}var o=parseFloat(a)||0;var u=parseFloat(s)||0;return r(n,[o,u])}}}return n};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/Validators", [],function(){"use strict";var t={string:{maxLength:function(t,e){return t.length<=e},maxLengthTxt:"EDITOR_VAL_MAXLENGTH",minLength:function(t,e){return t.length>=e},minLengthTxt:"EDITOR_VAL_MINLENGTH",pattern:function(t,e){var i=new RegExp(e);return i.test(t)},patternTxt:"EDITOR_VAL_NOMATCH",required:function(t,e){return!e||!!t},requiredTxt:"EDITOR_VAL_TEXTREQ",validateTxt:"EDITOR_VAL_NOMATCH"},"string[]":{maxLength:function(t,e){return Array.isArray(t)&&t.length<=e},maxLengthTxt:"EDITOR_VAL_LISTMAXLENGTH",minLength:function(t,e){return Array.isArray(t)&&t.length>=e},minLengthTxt:"EDITOR_VAL_LISTMINLENGTH",required:function(t,e){return Array.isArray(t)&&t.length>0},requiredTxt:"EDITOR_VAL_LISTREQ"},integer:{maximum:function(t,e,i){if(i.exclusiveMaximum){i._txt="maximumExclusiveTxt";return t<e}return t<=e},maximumTxt:"EDITOR_VAL_MAX",maximumExclusiveTxt:"EDITOR_VAL_MAX_E",minimum:function(t,e,i){if(i.exclusiveMinimum){i._txt="minimumExclusiveTxt";return t>e}return t>=e},minimumTxt:"EDITOR_VAL_MIN",minimumExclusiveTxt:"EDITOR_VAL_MIN_E",multipleOf:function(t,e){return t%e===0},multipleOfTxt:"EDITOR_VAL_MULTIPLE",required:function(t,e){return!isNaN(t)&&t!==""},requiredTxt:"EDITOR_VAL_NUMBERREQ",validateTxt:"EDITOR_VAL_NOMATCH"},number:{maximum:function(t,e,i){if(i.exclusiveMaximum){i._txt="maximumExclusiveTxt";return t<e}return t<=e},maximumTxt:"EDITOR_VAL_MAX",maximumExclusiveTxt:"EDITOR_VAL_MAX_E",minimum:function(t,e,i){if(i.exclusiveMinimum){i._txt="minimumExclusiveTxt";return t>e}return t>=e},minimumTxt:"EDITOR_VAL_MIN",minimumExclusiveTxt:"EDITOR_VAL_MAX_E",multipleOf:function(t,e){return t%e===0},multipleOfTxt:"EDITOR_VAL_MULTIPLE",required:function(t,e){return!isNaN(t)&&t!==""},requiredTxt:"EDITOR_VAL_NUMBERREQ",validateTxt:"EDITOR_VAL_NOMATCH"},keyValuePair:{required:function(t,e){return!e||!!t.value},requiredTxt:"EDITOR_VAL_FIELDREQ",restrictToPredefinedOptions:function(t,e){return e&&!t.value&&!t.key||e&&!!t.key},restrictToPredefinedOptionsTxt:"EDITOR_ONLY_LISTED_VALUES_ALLOWED"}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/util/loadCardEditor", function(){"use strict";function i(){return new Promise(function(i,n){sap.ui.require(["sap/ui/integration/designtime/cardEditor/BASEditor"],i,n)})}return function(){return sap.ui.loader._.loadJSResourceAsync("sap-ui-integration-cardEditor.js").then(i).catch(i)}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/widgets/Card", ["./CardRenderer","../cards/Footer","../controls/ActionsToolbar","sap/ui/base/Interface","sap/ui/thirdparty/jquery","sap/ui/core/Core","sap/ui/integration/util/Manifest","sap/ui/integration/util/ServiceManager","sap/base/Log","sap/base/util/merge","sap/base/util/deepEqual","sap/base/util/each","sap/ui/integration/util/DataProviderFactory","sap/ui/model/json/JSONModel","sap/ui/integration/model/ObservableModel","sap/ui/model/resource/ResourceModel","sap/ui/integration/model/ContextModel","sap/base/util/LoaderExtensions","sap/f/CardBase","sap/f/library","sap/ui/integration/library","sap/ui/integration/util/Destinations","sap/ui/integration/util/LoadingProvider","sap/ui/integration/util/HeaderFactory","sap/ui/integration/util/ContentFactory","sap/ui/integration/util/BindingResolver","sap/ui/integration/formatters/IconFormatter","sap/ui/integration/cards/filters/FilterBarFactory","sap/ui/integration/cards/actions/CardActions","sap/ui/integration/util/CardObserver","sap/m/IllustratedMessage","sap/m/IllustratedMessageType","sap/m/IllustratedMessageSize","sap/ui/integration/util/Utils","sap/ui/integration/util/ParameterMap","sap/ui/performance/Measurement","sap/m/HBox","sap/m/library"],function(t,e,i,r,jQuery,a,n,s,o,d,h,f,g,p,c,l,u,_,y,C,v,m,M,P,b,R,A,D,E,T,S,I,w,F,x,O,L,H){"use strict";var B={TYPE:"/sap.card/type",DATA:"/sap.card/data",HEADER:"/sap.card/header",HEADER_POSITION:"/sap.card/headerPosition",CONTENT:"/sap.card/content",FOOTER:"/sap.card/footer",SERVICES:"/sap.ui5/services",APP_TYPE:"/sap.app/type",PARAMS:"/sap.card/configuration/parameters",DESTINATIONS:"/sap.card/configuration/destinations",CSRF_TOKENS:"/sap.card/configuration/csrfTokens",FILTERS:"/sap.card/configuration/filters",ERROR_MESSAGES:"/sap.card/configuration/messages"};var N=["parameters","filters","paginator","form","messages","context","i18n"];var k=["visibleItems","allItems"];var U=C.cards.HeaderPosition;var V=v.CardArea;var W=v.CardDataMode;var j="Card is destroyed!";var q=H.FlexRendertype;var z=H.FlexJustifyContent;var J=H.FlexAlignItems;var Y="module:";function K(){if(performance&&performance.now){return"Start since page load: "+performance.now()}return""}var G=y.extend("sap.ui.integration.widgets.Card",{metadata:{library:"sap.ui.integration",properties:{referenceId:{type:"string",defaultValue:""},manifest:{type:"any",defaultValue:""},parameters:{type:"object",defaultValue:null},dataMode:{type:"sap.ui.integration.CardDataMode",group:"Behavior",defaultValue:W.Active},baseUrl:{type:"sap.ui.core.URI",defaultValue:null},manifestChanges:{type:"object[]"}},aggregations:{actionDefinitions:{type:"sap.ui.integration.ActionDefinition",multiple:true,forwarding:{getter:"_getActionsToolbar",aggregation:"actionDefinitions"}},_header:{type:"sap.f.cards.IHeader",multiple:false,visibility:"hidden"},_filterBar:{type:"sap.ui.integration.cards.filters.FilterBar",multiple:false,visibility:"hidden"},_content:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_footer:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_extension:{type:"sap.ui.integration.Extension",multiple:false,visibility:"hidden"},_loadingProvider:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"}},events:{action:{allowPreventDefault:true,parameters:{actionSource:{type:"sap.ui.core.Control"},manifestParameters:{type:"object"},parameters:{type:"object"},type:{type:"sap.ui.integration.CardActionType"}}},configurationChange:{parameters:{changes:{type:"object"}}},manifestReady:{},manifestApplied:{},stateChanged:{}},associations:{host:{},openerReference:{visibility:"hidden"}}},renderer:t});G.prototype.init=function(){y.prototype.init.call(this);this.setAggregation("_loadingProvider",new M);this._oIntegrationRb=a.getLibraryResourceBundle("sap.ui.integration");this._initModels();this._oContentFactory=new b(this);this._oCardObserver=new T(this);this._bFirstRendering=true;this._aSevereErrors=[];this._sPerformanceId="UI5 Integration Cards - "+this.getId()+"---";this._aActiveLoadingProviders=[];this._fnOnDataReady=function(){this._bDataReady=true}.bind(this);this._oLimitedInterface=new r(this,["getDomRef","setVisible","getParameters","getCombinedParameters","getManifestEntry","resolveDestination","request","refresh","refreshData","showMessage","getBaseUrl","getRuntimeUrl","getTranslatedText","getModel","triggerAction","addActionDefinition","removeActionDefinition","insertActionDefinition","getActionDefinition","indexOfActionDefinition","destroyActionDefinition","showLoadingPlaceholders","hideLoadingPlaceholders","showCard","hide","getOpener","validateControls"])};G.prototype._initModels=function(){this.setModel(new p);N.forEach(function(t){var e;switch(t){case"context":e=new u;break;case"i18n":e=new l({bundle:this._oIntegrationRb});break;case"parameters":e=new p(x.getParamsForModel());break;case"messages":e=new p({hasErrors:false,hasWarnings:false,records:[]});break;default:e=new p;break}this.setModel(e,t)}.bind(this))};G.prototype.clone=function(){var t=y.prototype.clone.apply(this,arguments);t._initModels();return t};G.prototype._initReadyState=function(){this._aReadyPromises=[];this._awaitEvent("_dataReady");this._awaitEvent("_dataPassedToContent");this._awaitEvent("_headerReady");this._awaitEvent("_filterBarReady");this._awaitEvent("_contentReady");Promise.all(this._aReadyPromises).then(function(){this._onReady()}.bind(this));this.attachEventOnce("_dataReady",this._fnOnDataReady)};G.prototype._clearReadyState=function(){this._bReady=false;this._bDataReady=false;this._aReadyPromises=[];this.detachEvent("_dataReady",this._fnOnDataReady)};G.prototype.onBeforeRendering=function(){if(this.getDataMode()!==W.Active){return}this.startManifestProcessing()};G.prototype.onAfterRendering=function(){if(O.getActive()&&this._isManifestReady){if(!O.getMeasurement(this._sPerformanceId+"firstRenderingWithStaticData").end){O.end(this._sPerformanceId+"firstRenderingWithStaticData")}if(this._bDataReady&&!O.getMeasurement(this._sPerformanceId+"firstRenderingWithDynamicData").end){O.end(this._sPerformanceId+"firstRenderingWithDynamicData")}}var t=this.getDomRef();if(this.getDataMode()===W.Auto&&this._bFirstRendering){this._oCardObserver.oObserver.observe(t)}this._bFirstRendering=false};G.prototype.startManifestProcessing=function(){if(!F.isBindingSyntaxComplex()){this._logSevereError("Cannot parse manifest. Complex binding syntax is not enabled - "+"To enable it, set the 'compatVersion' configuration option to 'edge', e.g.: data-sap-ui-compatVersion='edge' - "+"sap.ui.integration.widgets.Card")}if(this._bApplyManifest||this._bApplyParameters){this._clearReadyState();this._initReadyState()}var t=this.getManifest();if(t&&this._bApplyManifest){this._cleanupOldManifest();this.createManifest(t,this.getBaseUrl())}if(!this._bApplyManifest&&this._bApplyParameters){this._oCardManifest.processParameters(this._getContextAndRuntimeParams());this._applyManifestSettings()}this._bApplyManifest=false;this._bApplyParameters=false;this._refreshActionsMenu()};G.prototype.setManifest=function(t){if(!h(this.getProperty("manifest"),t)){this.destroyActionDefinitions()}if(!t){this._destroyManifest()}this._bApplyManifest=true;this.setProperty("manifest",t);return this};G.prototype.setManifestChanges=function(t){this.setProperty("manifestChanges",t);this._bApplyManifest=true;return this};G.prototype.setParameters=function(t){this.setProperty("parameters",t);this._bApplyParameters=true;return this};G.prototype.setParameter=function(t,e){var i=this.getParameters()||{};i[t]=e;this.setParameters(i);return this};G.prototype.setHost=function(t){this.setAssociation("host",t);var e=this.getHostInstance();if(t&&!e){o.error("Host with id '"+t+"' is not available during card initialization. It must be available for host specific features to work.","Make sure that the host already exists, before assigning it to the card.","sap.ui.integration.widgets.Card");return this}this.getModel("context").setHost(e);if(this._oDestinations){this._oDestinations.setHost(e)}if(this._oDataProviderFactory){this._oDataProviderFactory.setHost(e)}if(e&&e.bUseExperimentalCaching){this.addStyleClass("sapFCardExperimentalCaching")}else{this.removeStyleClass("sapFCardExperimentalCaching")}return this};G.prototype.createManifest=function(t,e){var i={};this._isManifestReady=false;if(typeof t==="string"){i.manifestUrl=t;t=null}if(this._oCardManifest){this._oCardManifest.destroy()}O.start(this._sPerformanceId+"initManifest","Load and initialize manifest. "+K());O.start(this._sPerformanceId+"firstRenderingWithStaticData","First rendering with static data (includes initManifest). "+K());O.start(this._sPerformanceId+"firstRenderingWithDynamicData","First rendering with dynamic card level data (includes firstRenderingWithStaticData). "+K());this._oCardManifest=new n("sap.card",t,e,this.getManifestChanges());this._oCardManifest.load(i).then(function(){if(this.bIsDestroyed){throw new Error(j)}O.end(this._sPerformanceId+"initManifest");this._registerManifestModulePath();this._isManifestReady=true;this.fireManifestReady();return this._loadExtension()}.bind(this)).then(this._applyManifest.bind(this)).catch(function(t){if(t.message===j){return}this._logSevereError(t.message);this._applyManifest()}.bind(this))};G.prototype._loadExtension=function(){var t=this._oCardManifest.get("/sap.card/extension"),e;if(!t){return null}if(t.startsWith(Y)){e=t.replace(Y,"")}else{e=this._oCardManifest.get("/sap.app/id").replace(/\./g,"/")+"/"+t}return new Promise(function(t,i){sap.ui.require([e],function(e){var i=new e;i._setCard(this,this._oLimitedInterface);this.setAggregation("_extension",i);t()}.bind(this),function(t){this._logSevereError("Failed to load "+e+". Check if the path is correct. Reason: "+t);i(t)}.bind(this))}.bind(this))};G.prototype._logSevereError=function(t){o.error(t);this._aSevereErrors.push(t)};G.prototype.getSevereErrors=function(){return this._aSevereErrors};G.prototype.validateControls=function(){var t=this.getCardContent();if(t){t.validateControls()}return!this.getModel("messages").getProperty("/hasErrors")};G.prototype._applyManifest=function(){var t=this._oCardManifest;if(!t.get("/sap.card")){this._logSevereError("There must be a 'sap.card' section in the manifest.")}if(t&&t.getResourceBundle()){this._enhanceI18nModel(t.getResourceBundle())}this.getModel("context").resetHostProperties();if(this._hasContextParams()){this._resolveContextParams().then(function(t){this._oContextParameters=t;this._applyManifestWithParams()}.bind(this));return}this._applyManifestWithParams()};G.prototype._applyManifestWithParams=function(){var t=this._oCardManifest,e=this._getContextAndRuntimeParams();t.processParameters(e);this._prepareToApplyManifestSettings().then(function(){this._applyManifestSettings()}.bind(this))};G.prototype._enhanceI18nModel=function(t){var e=this.getModel("i18n"),i;i=new l({bundle:t,enhanceWith:[this._oIntegrationRb]});this.setModel(i,"i18n");e.destroy()};G.prototype._hasContextParams=function(){var t=this._oCardManifest.get(B.PARAMS),e,i;for(e in t){i=t[e].value;if(typeof i==="string"&&i.indexOf("{context>")!==-1){return true}}return false};G.prototype._resolveContextParams=function(){var t=this.getModel("context"),e=this._oCardManifest.get(B.PARAMS),i={},r,a;for(r in e){a=e[r].value;if(typeof a==="string"&&a.indexOf("{context>")!==-1){i[r]=a}}R.resolveValue(i,this,"/");return t.waitForPendingProperties().then(function(){return R.resolveValue(i,this,"/")}.bind(this))};G.prototype._getContextAndRuntimeParams=function(){var t=this._oContextParameters||{},e=this.getParameters()||{};return d(t,e)};G.prototype._awaitEvent=function(t){this._aReadyPromises.push(new Promise(function(e){this.attachEventOnce(t,function(){e()})}.bind(this)))};G.prototype.isReady=function(){return this._bReady};G.prototype.refresh=function(){if(this.getDataMode()===W.Active){this._bApplyManifest=true;this.invalidate()}};G.prototype.setFilterValue=function(t,e){var i=this._oCardManifest.get(B.FILTERS);if(!i.hasOwnProperty(t)){o.error("Filter with key '"+t+"' does not exist in the manifest section 'filters'.","sap.ui.integration.widgets.Card");return}var r=this.getAggregation("_filterBar");if(!r){return}var a=r._getFilters().find(function(e){return e.getKey()===t});a.setValueFromOutside(e)};G.prototype.refreshData=function(){if(!this.isReady()){return}var t=this.getCardHeader(),e=this.getCardContent(),i=this.getAggregation("_filterBar");if(this._oDataProvider){this._oDataProvider.triggerDataUpdate()}if(t){t.refreshData()}if(e&&e.isA("sap.ui.integration.cards.BaseContent")){e.refreshData()}else{this.destroyAggregation("_content");this._destroyTemporaryContent();this._applyContentManifestSettings()}if(i){i.refreshData()}this.resetPaginator()};G.prototype._refreshActionsMenu=function(){var t=this.getCardHeader(),e=this.getHostInstance(),i=this.getAggregation("_extension"),r=[];if(!t){return}if(e){r=r.concat(e.getActions()||[])}if(i){r=r.concat(i.getActions()||[])}if(h(r,this._getActionsToolbar()._aActions)){return}this._getActionsToolbar().initializeContent(this)};G.prototype.exit=function(){y.prototype.exit.call(this);this._destroyManifest();this._oCardObserver.destroy();this._oCardObserver=null;this._oContentFactory=null;this._bFirstRendering=null;this._oIntegrationRb=null;this._aActiveLoadingProviders=null;this._oContentMessage=null;if(this._oActionsToolbar){this._oActionsToolbar.destroy();this._oActionsToolbar=null}};G.prototype._destroyManifest=function(){if(this._oCardManifest){this._oCardManifest.destroy();this._oCardManifest=null}if(this._oServiceManager){this._oServiceManager.destroy();this._oServiceManager=null}if(this._oDestinations){this._oDestinations.destroy();this._oDestinations=null}if(this._oIconFormatter){this._oIconFormatter.destroy();this._oIconFormatter=null}if(this._oActionsToolbar){this._oActionsToolbar.destroy();this._oActionsToolbar=null}this.destroyAggregation("_header");this.destroyAggregation("_filterBar");this.destroyAggregation("_content");this.destroyAggregation("_footer");this._cleanupOldManifest()};G.prototype._cleanupOldManifest=function(){this._aReadyPromises=null;this.getModel("filters").setData({});this.getModel("parameters").setData({});this.getModel("paginator").setData({});this._oContextParameters=null;this._deregisterCustomModels();this.destroyAggregation("_extension");this._destroyTemporaryContent();if(this._oDataProviderFactory){this._oDataProviderFactory.destroy();this._oDataProviderFactory=null;this._oDataProvider=null}};G.prototype._registerManifestModulePath=function(){if(!this._oCardManifest){return}this._sAppId=this._oCardManifest.get("/sap.app/id");if(this._sAppId){_.registerResourcePath(this._sAppId.replace(/\./g,"/"),this._oCardManifest.getUrl()||"/")}else{this._logSevereError("Card sap.app/id entry in the manifest is mandatory")}};G.prototype.getManifest=function(){var t=this.getProperty("manifest");if(t&&typeof t==="object"){return jQuery.extend(true,{},t)}return t};G.prototype.getParameters=function(){var t=this.getProperty("parameters");if(t&&typeof t==="object"){return jQuery.extend(true,{},t)}return t};G.prototype.getCombinedParameters=function(){if(!this._isManifestReady){o.error("The manifest is not ready. Consider using the 'manifestReady' event.","sap.ui.integration.widgets.Card");return null}var t=this._oCardManifest.getProcessedParameters(this._getContextAndRuntimeParams()),e={},i;for(i in t){e[i]=t[i].value}return e};G.prototype.getManifestEntry=function(t){if(!this._isManifestReady){o.error("The manifest is not ready. Consider using the 'manifestReady' event.","sap.ui.integration.widgets.Card");return null}return this._oCardManifest.get(t)};G.prototype.getManifestRawJson=function(){if(!this._oCardManifest||!this._oCardManifest){o.error("The manifest is not ready. Consider using the 'manifestReady' event.","sap.ui.integration.widgets.Card");return{}}return this._oCardManifest.getInitialJson()};G.prototype.getManifestWithMergedChanges=function(){if(!this._oCardManifest||!this._oCardManifest._oManifest){o.error("The manifest is not ready. Consider using the 'manifestReady' event.","sap.ui.integration.widgets.Card");return{}}return jQuery.extend(true,{},this._oCardManifest._oManifest.getRawJson())};G.prototype.resolveDestination=function(t){return this._oDestinations.getUrl(t)};G.prototype.processDestinations=function(t){return this._oDestinations.process(t)};G.prototype.showMessage=function(t,e){if(this._createContentPromise){this._createContentPromise.then(function(i){i.showMessage(t,e)})}else{o.error("'showMessage' cannot be used before the card instance is ready. Consider using the event 'manifestApplied' event.","sap.ui.integration.widgets.Card")}};G.prototype.getTranslatedText=function(t,e,i){var r=this.getModel("i18n"),a;if(!r){o.warning("There are no translations available. Either the i18n configuration is missing or the method is called too early.");return null}a=r.getResourceBundle();return a.getText(t,e,i)};G.prototype.getDataProviderFactory=function(){if(!this._oDataProviderFactory){o.error("The DataProviderFactory instance is not ready yet. Consider using the event 'manifestApplied'.","sap.ui.integration.widgets.Card");return null}return this._oDataProviderFactory};G.prototype.getRuntimeUrl=function(t){var e=this._sAppId,i,r=t&&t.trim().replace(/^\//,"");if(e===null){o.error("The manifest is not ready so the URL can not be resolved. Consider using the 'manifestReady' event.","sap.ui.integration.widgets.Card");return null}if(!e||t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")){return t}i=e.replace(/\./g,"/");return sap.ui.require.toUrl(i)+"/"+r};G.prototype._prepareToApplyManifestSettings=function(){var t=this._oCardManifest.get(B.APP_TYPE),e=this.getAggregation("_extension");if(t&&t!=="card"){o.error("sap.app/type entry in manifest is not 'card'")}if(this._oDataProviderFactory){this._oDataProviderFactory.destroy()}this._oDestinations=new m({host:this.getHostInstance(),card:this,manifestConfig:this._oCardManifest.get(B.DESTINATIONS)});this._oIconFormatter=new A({card:this});return this.processDestinations(this._oCardManifest.getJson()).then(function(t){this._oCardManifest.setJson(t);this._oDataProviderFactory=new g({host:this.getHostInstance(),extension:e,csrfTokensConfig:this._oCardManifest.get(B.CSRF_TOKENS),card:this});this._registerCustomModels();if(e){e.onCardReady()}}.bind(this))};G.prototype._applyManifestSettings=function(){this._setParametersModelData();this._applyServiceManifestSettings();this._applyFilterBarManifestSettings();this._applyDataManifestSettings();this._applyHeaderManifestSettings();this._applyContentManifestSettings();this._applyFooterManifestSettings();this.fireManifestApplied()};G.prototype._setParametersModelData=function(){var t=x.getParamsForModel(),e={},i=this.getCombinedParameters(),r;for(r in i){if(k.indexOf(r)>=0){o.warning("The parameter name '"+r+"' is reserved for cards. Can not be used for creating custom parameter.")}else{e[r]={value:i[r]}}}this.getModel("parameters").setData(d(t,e))};G.prototype._applyDataManifestSettings=function(){var t=this._oCardManifest.get(B.DATA),e;if(!t){this.fireEvent("_dataReady");this.fireEvent("_dataPassedToContent");return}this.bindObject(R.resolveValue(t.path||"/",this));if(this._oDataProvider){this._oDataProvider.destroy()}this._oDataProvider=this._oDataProviderFactory.create(t,this._oServiceManager);this.getAggregation("_loadingProvider").setDataProvider(this._oDataProvider);if(t.name){e=this.getModel(t.name)}else if(this._oDataProvider){e=new c;this.setModel(e)}if(!e){this.fireEvent("_dataReady");this.fireEvent("_dataPassedToContent");return}e.attachEvent("change",function(){var t=this.getAggregation("_content");if(t&&!t.isA("sap.ui.integration.cards.BaseContent")){this.destroyAggregation("_content");this._destroyTemporaryContent();this._applyContentManifestSettings()}if(this._createContentPromise){this._createContentPromise.then(function(t){t.onDataChanged();this.fireEvent("_dataPassedToContent");this.onDataRequestComplete()}.bind(this))}else{this.fireEvent("_dataPassedToContent");this.onDataRequestComplete()}}.bind(this));if(this._oDataProvider){this._oDataProvider.attachDataRequested(function(){this._setLoadingProviderState(true)}.bind(this));this._oDataProvider.attachDataChanged(function(t){this.fireEvent("_dataReady");e.setData(t.getParameter("data"))}.bind(this));this._oDataProvider.attachError(function(t){this.fireEvent("_dataReady");this.fireEvent("_dataPassedToContent");this._handleError("Data service unavailable. "+t.getParameter("message"));this.onDataRequestComplete()}.bind(this));this._oDataProvider.triggerDataUpdate()}else{this.fireEvent("_dataReady");this.fireEvent("_dataPassedToContent")}};G.prototype._applyServiceManifestSettings=function(){var t=this._oCardManifest.get(B.SERVICES);if(!t){return}if(!this._oServiceManager){this._oServiceManager=new s(t,this)}};G.prototype.getCardHeader=function(){return this.getAggregation("_header")};G.prototype.getCardHeaderPosition=function(){if(!this._oCardManifest){return"Top"}return this._oCardManifest.get(B.HEADER_POSITION)||U.Top};G.prototype.getCardContent=function(){return this.getAggregation("_content")};G.prototype.getCardFooter=function(){return this.getAggregation("_footer")};G.prototype._getActionsToolbar=function(){if(!this._oActionsToolbar){this._oActionsToolbar=new i;this._oActionsToolbar.setCard(this);this._oActionsToolbar.setEnabled(false)}return this._oActionsToolbar};G.prototype._applyHeaderManifestSettings=function(){var t=this.getAggregation("_header");var e=this.createHeader();if(t){t.setToolbar(null);this.destroyAggregation("_header")}if(!e){this.fireEvent("_headerReady");return}e.attachEvent("_error",function(t){this._handleError(t.getParameter("message"))}.bind(this));this.setAggregation("_header",e);if(e.isReady()){this.fireEvent("_headerReady")}else{e.attachEvent("_ready",function(){this.fireEvent("_headerReady")}.bind(this))}};G.prototype._applyFilterBarManifestSettings=function(){var t=this.createFilterBar();this.destroyAggregation("_filterBar");if(!t){this.fireEvent("_filterBarReady");return}t.attachEventOnce("_filterBarDataReady",function(){this.fireEvent("_filterBarReady")}.bind(this));this.setAggregation("_filterBar",t)};G.prototype._applyFooterManifestSettings=function(){var t=this.createFooter();this.destroyAggregation("_footer");if(t){this.setAggregation("_footer",t)}this.fireEvent("_footerReady")};G.prototype.getHostInstance=function(){var t=this.getHost();if(!t){return null}return a.byId(t)};G.prototype._applyContentManifestSettings=function(){var t=this._oCardManifest.get(B.TYPE),e=this.getContentManifest(),i=t+" "+this._oRb.getText("ARIA_ROLEDESCRIPTION_CARD");this._ariaText.setText(i);if(!e){this.fireEvent("_contentReady");return}this._setTemporaryContent(t,e);if(this._bIsPreviewMode){this.fireEvent("_contentReady");return}this._createContentPromise=this.createContent({cardType:t,contentManifest:e,serviceManager:this._oServiceManager,dataProviderFactory:this._oDataProviderFactory,iconFormatter:this._oIconFormatter,appId:this._sAppId}).then(function(t){this._setCardContent(t);return t}.bind(this));this._createContentPromise.catch(function(t){if(t){this._handleError(t)}}.bind(this))};G.prototype.createHeader=function(){var t=this._oCardManifest.get(B.HEADER),e=new P(this);return e.create(t,this._getActionsToolbar())};G.prototype.createFilterBar=function(){var t=this._oCardManifest.get(B.FILTERS),e=new D(this);return e.create(t,this.getModel("filters"))};G.prototype.createFooter=function(){var t=this._oCardManifest.get(B.FOOTER);if(!t){return null}return e.create(this,t)};G.prototype.getContentManifest=function(){var t=this._oCardManifest.get(B.TYPE),e=t&&t.toLowerCase()==="component",i=this._oCardManifest.get(B.CONTENT),r=!!i;if(r&&!t){this._logSevereError("Card type property is mandatory!");return null}if(!r&&!e){return null}if(e){i=d(i,{componentManifest:this._oCardManifest.getJson()})}return i};G.prototype.createContent=function(t){t.cardManifest=this._oCardManifest;return this._oContentFactory.create(t)};G.prototype._setCardContent=function(t){if(this._bShowContentLoadingPlaceholders){t.showLoadingPlaceholders();this._bShowContentLoadingPlaceholders=false}t.attachEvent("_error",function(t){this._handleError(t.getParameter("logMessage"))}.bind(this));var e=this.getAggregation("_content");if(e&&e!==this._oTemporaryContent){e.destroy()}this.setAggregation("_content",t);if(t.isReady()){this.fireEvent("_contentReady")}else{t.attachReady(function(){this.fireEvent("_contentReady")}.bind(this))}};G.prototype._setTemporaryContent=function(t,e){var i=this._getTemporaryContent(t,e),r=this.getAggregation("_content");if(r&&r!==i){r.destroy()}this.setAggregation("_content",i)};G.prototype._preserveMinHeightInContent=function(t){t.addEventDelegate({onAfterRendering:function(){if(!this._oCardManifest){return}var e=this._oCardManifest.get(B.TYPE),i=this._oCardManifest.get(B.CONTENT),r=this._oContentFactory.getClass(e),a;if(!r){return}a=r.getMetadata().getRenderer().getMinHeight(i,t,this);if(this.getHeight()==="auto"){t.$().css({"min-height":a})}}},this)};G.prototype._destroyPreviousContent=function(t){if(t&&!t.hasStyleClass("sapFCardErrorContent")){t.destroy();if(t===this._oTemporaryContent){this._oTemporaryContent=null}}};G.prototype._destroyTemporaryContent=function(){if(this._oTemporaryContent){this._oTemporaryContent.destroy();this._oTemporaryContent=null}};G.prototype._handleError=function(t,e){if(!e){o.error(t,null,"sap.ui.integration.widgets.Card");this.fireEvent("_error",{message:t})}var i=this._oCardManifest.get(B.ERROR_MESSAGES),r=this._getIllustratedMessage(i,e),a=this._oCardManifest.get(B.CONTENT);if(a){this._destroyPreviousContent(this.getCardContent());this._preserveMinHeightInContent(r);this.setAggregation("_content",r);this.fireEvent("_contentReady")}else{this.getCardHeader().setAggregation("_error",r)}};G.prototype._getIllustratedMessage=function(t,e){var i=I.UnableToLoad,r=w.Auto,a="",n=this._oIntegrationRb.getText("CARD_DATA_LOAD_ERROR"),s;if(e&&!t){switch(this._oCardManifest.get(B.TYPE)){case"List":case"Timeline":i=I.NoData;n=this._oIntegrationRb.getText("CARD_NO_ITEMS_ERROR_LISTS");break;case"Table":i=I.NoEntries;n=this._oIntegrationRb.getText("CARD_NO_ITEMS_ERROR_LISTS");break;case"Analytical":i=I.NoEntries;n=this._oIntegrationRb.getText("CARD_NO_ITEMS_ERROR_CHART");break;case"Object":i=I.NoData;n=this._oIntegrationRb.getText("CARD_NO_ITEMS_ERROR_CHART");break}}if(t&&t.noData&&e){var o=t.noData;i=I[o.type];r=w[o.size];n=o.title;s=o.description}this._oContentMessage={type:e?"noData":"error",illustrationType:i,illustrationSize:r,title:n,description:s};var d=new S({illustrationType:i,illustrationSize:r,title:n,enableVerticalResponsiveness:true,description:s?s:" "});if(this.getCardContent()&&this.getCardContent().getDomRef()){a=this.getCardContent().getDomRef().offsetHeight+"px"}var h=new L({renderType:q.Bare,justifyContent:z.Center,alignItems:J.Center,width:"100%",height:a,items:[d]}).addStyleClass("sapFCardErrorContent");return h};G.prototype.getContentMessage=function(){return this._oContentMessage};G.prototype._getTemporaryContent=function(t,e){var i=this.getAggregation("_loadingProvider");if(!this._oTemporaryContent&&i){this._oTemporaryContent=i.createContentPlaceholder(e,t,this);this._oTemporaryContent.addEventDelegate({onAfterRendering:function(){if(!this._oCardManifest){return}var i=this._oContentFactory.getClass(t).getMetadata().getRenderer().getMinHeight(e,this._oTemporaryContent,this);if(this.getHeight()==="auto"){this._oTemporaryContent.$().css({"min-height":i})}}},this)}return this._oTemporaryContent};G.prototype.setDataMode=function(t){if(this._oDataProviderFactory&&t===W.Inactive){this._oDataProviderFactory.destroy();this._oDataProviderFactory=null}this.setProperty("dataMode",t,true);if(this.getProperty("dataMode")===W.Active){this.refresh()}if(this.getProperty("dataMode")===W.Auto){this._oCardObserver.createObserver(this);if(!this._bFirstRendering){this._oCardObserver.oObserver.observe(this.getDomRef())}}return this};G.prototype.loadDesigntime=function(){if(this._oDesigntime){return Promise.resolve(this._oDesigntime)}if(!this._oCardManifest){return new Promise(function(t,e){this.attachManifestReady(function(){this.loadDesigntime().then(t,e)}.bind(this))}.bind(this))}var t=this._oCardManifest.get("/sap.app/id");if(!t){return Promise.reject("App id not maintained")}return new Promise(function(t,e){var i=this._oCardManifest.get("/sap.card/configuration/editor");if(i===undefined){i=this._oCardManifest.get("/sap.card/designtime")}var r=this._oCardManifest.get("/sap.app/id").replace(/\./g,"/")+"/"+i;if(r){sap.ui.require([r],function(e){e=new e;e._readyPromise(this._oLimitedInterface,this).then(function(){this._oDesigntime=e;t(e)}.bind(this))}.bind(this),function(){e({error:r+" not found"})})}else{e()}}.bind(this))};G.prototype.showLoadingPlaceholders=function(t){var e;switch(t){case V.Header:e=this.getCardHeader();if(e){e.showLoadingPlaceholders()}break;case V.Filters:e=this.getAggregation("_filterBar");if(e){e.showLoadingPlaceholders()}break;case V.Content:if(this._createContentPromise){this._createContentPromise.then(function(t){t.showLoadingPlaceholders()})}else{this._bShowContentLoadingPlaceholders=true}break;default:this.showLoadingPlaceholders(V.Header);this.showLoadingPlaceholders(V.Filters);this.showLoadingPlaceholders(V.Content);this._setLoadingProviderState(true)}return this};G.prototype.hideLoadingPlaceholders=function(t){var e;switch(t){case V.Header:e=this.getCardHeader();if(e){e.hideLoadingPlaceholders()}break;case V.Filters:e=this.getAggregation("_filterBar");if(e){e.hideLoadingPlaceholders()}break;case V.Content:if(this._createContentPromise){this._createContentPromise.then(function(t){t.hideLoadingPlaceholders()})}else{this._bShowContentLoadingPlaceholders=false}break;default:this.hideLoadingPlaceholders(V.Header);this.hideLoadingPlaceholders(V.Filters);this.hideLoadingPlaceholders(V.Content);this._setLoadingProviderState(false)}return this};G.prototype.isLoading=function(){var t=this.getAggregation("_loadingProvider");return t?t.getLoading():false};G.prototype.getFocusDomRef=function(){var t=this.getCardHeader();if(t&&t.getFocusDomRef()){return t.getFocusDomRef()}return this.getDomRef()};G.prototype.onDataRequestComplete=function(){var t=this.getCardContent();this.hideLoadingPlaceholders(V.Header);this.hideLoadingPlaceholders(V.Filters);if(t&&t.isA("sap.ui.integration.cards.BaseContent")&&t.isReady()){this.hideLoadingPlaceholders(V.Content)}this._setLoadingProviderState(false);this._fireContentDataChange()};G.prototype.request=function(t){return this.processDestinations(t).then(function(t){return this._oDataProviderFactory.create({request:t}).setAllowCustomDataType(true).getData()}.bind(this))};G.prototype.triggerAction=function(t){E.fireAction({card:this,host:this.getHostInstance(),action:t,parameters:t.parameters,source:this})};G.prototype._setPreviewMode=function(t){this._bIsPreviewMode=t;if(t){this.addStyleClass("sapFCardPreview")}else{this.removeStyleClass("sapFCardPreview")}this._bApplyManifest=true;this.invalidate()};G.prototype.getBindingNamespaces=function(){var t={},e=this.getAggregation("_extension");if(e){t.extension={formatters:e.getFormatters()}}return t};G.prototype._registerCustomModels=function(){var t=this._oCardManifest.findDataSections();if(!this._aCustomModels){this._aCustomModels=[]}this._deregisterCustomModels();t.forEach(function(t){var e=t&&t.name;if(!e){return}if(N.indexOf(e)>-1){o.error("The model name (data section name) '"+e+"' is reserved for cards. Can not be used for creating a custom model.");return}if(this._aCustomModels.indexOf(e)>-1){o.error("The model name (data section name) '"+e+"' is already used.");return}this.setModel(new c,e);this._aCustomModels.push(e)}.bind(this))};G.prototype._deregisterCustomModels=function(){if(!this._aCustomModels){return}this._aCustomModels.forEach(function(t){this.getModel(t).destroy();this.setModel(null,t)}.bind(this));this._aCustomModels=[]};G.prototype._fireConfigurationChange=function(t){var e=this.getHostInstance();if(!this.isReady()){return}this.fireConfigurationChange({changes:t});if(e){e.fireCardConfigurationChange({card:this,changes:t})}};G.prototype._fireStateChanged=function(){var t=this.getHostInstance();if(!this.isReady()){return}this.fireStateChanged();if(t){t.fireCardStateChanged({card:this})}};G.prototype._fireDataChange=function(){this.fireEvent("_dataChange");this._fireStateChanged()};G.prototype._fireContentDataChange=function(){this.fireEvent("_contentDataChange");this._fireDataChange()};G.prototype._onReady=function(){this._bReady=true;this._setActionButtonsEnabled(true);this.fireEvent("_ready");this._fireStateChanged()};G.prototype._setLoadingProviderState=function(t){var e=this.getAggregation("_loadingProvider");if(!e){return}e.setLoading(t);if(t){this.addActiveLoadingProvider(e)}else{this.removeActiveLoadingProvider(e)}};G.prototype.addActiveLoadingProvider=function(t){if(!this.isReady()){return}if(!this.hasActiveLoadingProvider()){this._setActionButtonsEnabled(false)}if(this._aActiveLoadingProviders.indexOf(t)===-1){this._aActiveLoadingProviders.push(t)}};G.prototype.removeActiveLoadingProvider=function(t){if(!this.isReady()){return}var e=this._aActiveLoadingProviders,i=e.indexOf(t);e.splice(i,1);if(!this.hasActiveLoadingProvider()){this._setActionButtonsEnabled(true)}};G.prototype._setActionButtonsEnabled=function(t){var e=this.getAggregation("_footer");if(e){e.setEnabled(t)}if(this._oActionsToolbar){this._oActionsToolbar.setEnabled(t)}};G.prototype.hasActiveLoadingProvider=function(){return this._aActiveLoadingProviders.length>0};G.prototype.isSkeleton=function(){return false};G.prototype.getContentPageSize=function(t){var e=0,i=this.getAggregation("_footer"),r;if(t.maxItems!==undefined){if(typeof t.maxItems==="number"){e=t.maxItems}else{e=parseInt(R.resolveValue(t,this).maxItems)||0}}if(!i){return e}r=i.getAggregation("paginator");if(!r){return e}if(r.getPageSize()){return r.getPageSize()}return e};G.prototype.hasPaginator=function(){var t=this._oCardManifest.get(B.FOOTER);return t&&t.paginator};G.prototype.resetPaginator=function(){if(this.hasPaginator()){this.getCardFooter().getPaginator().reset()}};G.prototype.showCard=function(t){var e=this._createChildCard(t);t._cardId=e.getId();this.triggerAction({type:"ShowCard",parameters:t});return Promise.resolve(e)};G.prototype.hide=function(){this.triggerAction({type:"HideCard"})};G.prototype.getOpener=function(){var t=a.byId(this.getAssociation("openerReference"));if(!t){return null}return t._oLimitedInterface};G.prototype._createChildCard=function(t){var e=t.manifest,i=t.baseUrl,r=t.data,a=this._createCard({width:t.width,host:this.getHostInstance(),parameters:t.parameters,referenceId:this.getReferenceId()});a.setAssociation("openerReference",this);if(r){f(r,function(t,e){var i=new p(e);a.setModel(i,t)})}if(typeof e==="string"){a.setManifest(this.getRuntimeUrl(e));if(i){a.setBaseUrl(i)}}else{a.setManifest(e);a.setBaseUrl(i||this.getRuntimeUrl("/"))}return a};G.prototype._createCard=function(t){return new G(t)};return G});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/integration/widgets/CardRenderer", ["sap/f/CardRenderer"],function(e){"use strict";var t={TYPE:"/sap.card/type"};return e.extend("sap.ui.integration.widgets.CardRenderer",{apiVersion:2,renderContainerAttributes:function(r,n){e.renderContainerAttributes.apply(this,arguments);r.class("sapUiIntCard");var a=n._oCardManifest;if(a&&a.get(t.TYPE)&&a.get(t.TYPE).toLowerCase()==="analytical"){r.class("sapUiIntCardAnalytical")}if(n.getCardFooter()&&n.getCardFooter().getVisible()){r.class("sapUiIntCardWithFooter")}},renderContentSection:function(t,r){var n=r.getAggregation("_filterBar");if(n){t.renderControl(n)}e.renderContentSection.apply(this,arguments)},renderFooterSection:function(e,t){var r=t.getAggregation("_footer");if(r){e.renderControl(r)}}})});
sap.ui.require.preload({
	"sap/ui/integration/customElements/CustomElementCard.js":function(){
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.require(["sap/ui/integration/widgets/Card","sap/ui/integration/customElements/CustomElementBase","sap/m/BadgeCustomData"],function(t,e,i){"use strict";var n=e.extend(t,{privateProperties:["width","height"],customProperties:{badge:{set:function(t,e){t.addCustomData(new i({value:e}))}}}});n.prototype.refresh=function(){this._getControl().refresh()};n.prototype.loadDesigntime=function(){return this._getControl().loadDesigntime()};e.define("ui-integration-card",n)});
},
	"sap/ui/integration/customElements/CustomElementCardEditor.js":function(){
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.require(["sap/ui/integration/designtime/editor/CardEditor","sap/ui/integration/customElements/CustomElementBase"],function(t,e){"use strict";var i=e.extend(t,{});i.prototype.getCurrentSettings=function(){return this._getControl().getCurrentSettings()};var n=["ui-integration-card"];e.define("ui-integration-card-editor",i,n)});
},
	"sap/ui/integration/customElements/CustomElementEditor.js":function(){
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.require(["sap/ui/integration/editor/Editor","sap/ui/integration/customElements/CustomElementBase"],function(t,e){"use strict";var i=e.extend(t,{});i.prototype.getCurrentSettings=function(){return this._getControl().getCurrentSettings()};e.define("ui-integration-editor",i)});
},
	"sap/ui/integration/library-bootstrap.js":function(){
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
(function(t){"use strict";var i;var e=document.currentScript||document.querySelector("script[src*='/sap-ui-integration.js']");function n(){if(t.sap&&t.sap.ui&&t.sap.ui.getCore){i=t.sap.ui.getCore();return u()}t.sap.ui.require(["sap/ui/core/Core"],function(t){t.boot();i=t;t.attachInit(function(){u()})})}function r(n){var r=i.getLoadedLibraries()[n];var u=Object.keys(r.customElements),a=e.getAttribute("tags");if(a){u=a.split(",")}t.sap.ui.require(u.map(function(t,i){return r.customElements[u[i]]}))}function u(){i.loadLibraries(["sap/ui/integration"],{async:true}).then(function(){r("sap.ui.integration")})}n()})(window);
},
	"sap/ui/integration/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.integration","type":"library","embeds":[],"applicationVersion":{"version":"1.108.6"},"title":"SAPUI5 library with integration-related controls.","description":"SAPUI5 library with integration-related controls.","ach":"CA-UI5-CTR","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"ui5-web-components","packagedWithMySelf":true,"version":"1.7.0"},{"name":"adaptive-cards","packagedWithMySelf":true,"version":"2.9.0"},{"name":"adaptive-cards-templating","packagedWithMySelf":true,"version":"2.2.0"},{"name":"adaptive-expressions","packagedWithMySelf":true,"version":"4.15.0"},{"name":"markdown-it","packagedWithMySelf":true,"version":"12.2.0"},{"name":"@cfworker/json-schema","packagedWithMySelf":true,"version":"1.6.8"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.108","libs":{"sap.ui.core":{"minVersion":"1.108.6"},"sap.f":{"minVersion":"1.108.6"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.ui.integration.widgets.Card","sap.ui.integration.cards.filters.FilterBar","sap.ui.integration.cards.Header","sap.ui.integration.cards.NumericHeader","sap.ui.integration.controls.ListContentItem"],"elements":["sap.ui.integration.ActionDefinition","sap.ui.integration.Host"],"types":["sap.ui.integration.CardActionType","sap.ui.integration.CardDataMode","sap.ui.integration.CardMenuAction"],"interfaces":[]}}}}',
	"sap/ui/integration/sap-ui-integration-config.js":function(){
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
window["sap-ui-config"]=window["sap-ui-config"]||{};window["sap-ui-config"].bindingSyntax="complex";window["sap-ui-config"].compatVersion="edge";window["sap-ui-config"].async=true;window["sap-ui-config"]["xx-waitForTheme"]=true;
},
	"sap/ui/integration/sap-ui-integration-define-nojQuery.js":function(){
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
(function(){"use strict";var e={"sap/ui/thirdparty/jquery":"jQuery","sap/ui/thirdparty/jqueryui/jquery-ui-core":"jQuery.ui","sap/ui/thirdparty/jqueryui/jquery-ui-widget":"jQuery.widget","sap/ui/thirdparty/jqueryui/jquery-ui-mouse":"jQuery.ui.mouse","sap/ui/thirdparty/jqueryui/jquery-ui-datepicker":"jQuery.ui.datepicker","sap/ui/thirdparty/jqueryui/jquery-ui-draggable":"jQuery.ui.draggable","sap/ui/thirdparty/jqueryui/jquery-ui-droppable":"jQuery.ui.droppable","sap/ui/thirdparty/jqueryui/jquery-ui-position":"jQuery.ui.position","sap/ui/thirdparty/jqueryui/jquery-ui-resizable":"jQuery.ui.resizable","sap/ui/thirdparty/jqueryui/jquery-ui-selectable":"jQuery.ui.selectable","sap/ui/thirdparty/jqueryui/jquery-ui-sortable":"jQuery.ui.sortable","sap/ui/thirdparty/jqueryui/jquery-ui-effect":"jQuery.effects.effect","sap/ui/thirdparty/jqueryui/jquery-ui-effect-blind":"jQuery.effects.effect.blind","sap/ui/thirdparty/jqueryui/jquery-ui-effect-bounce":"jQuery.effects.effect.bounce","sap/ui/thirdparty/jqueryui/jquery-ui-effect-clip":"jQuery.effects.effect.clip","sap/ui/thirdparty/jqueryui/jquery-ui-effect-drop":"jQuery.effects.effect.drop","sap/ui/thirdparty/jqueryui/jquery-ui-effect-explode":"jQuery.effects.effect.explode","sap/ui/thirdparty/jqueryui/jquery-ui-effect-fade":"jQuery.effects.effect.fade","sap/ui/thirdparty/jqueryui/jquery-ui-effect-fold":"jQuery.effects.effect.fold","sap/ui/thirdparty/jqueryui/jquery-ui-effect-highlight":"jQuery.effects.effect.highlight","sap/ui/thirdparty/jqueryui/jquery-ui-effect-pulsate":"jQuery.effects.effect.pulsate","sap/ui/thirdparty/jqueryui/jquery-ui-effect-scale":"jQuery.effects.effect.scale","sap/ui/thirdparty/jqueryui/jquery-ui-effect-shake":"jQuery.effects.effect.shake","sap/ui/thirdparty/jqueryui/jquery-ui-effect-slide":"jQuery.effects.effect.slide","sap/ui/thirdparty/jqueryui/jquery-ui-effect-transfer":"jQuery.effects.effect.transfer"};for(var u in e){r(u,e[u])}function r(e,u){if(!i(u)){return}sap.ui.define(e,function(){return jQuery})}function i(e){var u=e.split("."),r=window,i;i=u.some(function(e){r=r[e];return r===undefined});return!i}})();
}
});
//# sourceMappingURL=library-preload.js.map
