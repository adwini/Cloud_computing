{"version":3,"file":"UIContextInjector.js","names":["sap","ui","define","jQuery","URI","BaseObject","_debounce","CommunicationBus","CommunicationChannels","constants","oUIContextInjector","bResizeHandleDragged","UIContextInjector","extend","constructor","apply","this","arguments","_sIdentifier","generateIdentifier","prototype","injectFrame","aTestRecorderConfig","fnOnClose","window","communicationWindows","_generateTestRecorderUrl","_isInIframe","indexOf","_onResizeHandleMouseover","bind","_onResizeHandleMousedown","_onResizeHandleMouseleave","_onDocumentMouseup","_onDocumentMousemove","dockFrameBottom","_openWindow","subscribe","MINIMIZE_IFRAME","minimizeFrame","SHOW_IFRAME","unminimizeFrame","CLOSE_IFRAME","close","OPEN_NEW_WINDOW","openNewWindow","DOCK_IFRAME_BOTTOM","DOCK_IFRAME_RIGHT","dockFrameRight","DOCK_IFRAME_LEFT","dockFrameLeft","_iframe","style","width","FRAME","MINIMIZED","height","Object","values","_resizeHandles","forEach","resizeHandle","display","_sRememberedDockSide","DOCK","RIGHT","LEFT","BOTTOM","_dockFrame","sSide","_dockStarted","_openFrame","sFrameProp","sHandleProp","RESIZE_HANDLE","testRecorder","open","_sUrl","document","title","_setLanguageFromParentWindow","_closeTriggered","setTimeout","fnBeforeUnloadListener","removeEventListener","closed","addEventListener","iFrame","createElement","resizeOverlay","resizeHandleBottom","_createResizeHandle","cursor","resize","mPosition","top","y","resizeHandleRight","left","x","resizeHandleLeft","id","RESIZE_OVERLAY_ID","position","RESIZE_OVERLAY_ZINDEX","IFRAME_ID","src","border","borderRadius","IFRAME_ZINDEX","boxShadow","body","appendChild","contentWindow","_resizeOverlay","frameWindow","CollectGarbage","remove","getCommunicationInfo","origin","_sOrigin","identifier","url","mUriParams","search","aIncludeList","aExcludeList","sSapUriParams","keys","map","sUriParamName","startsWith","join","require","toUrl","location","protocol","host","frameURI","replace","mOptions","RESIZE_HANDLE_ZINDEX","onmouseover","onmousedown","onmouseleave","background","fnResize","e","preventDefault","onmouseup","onmousemove","iLimit","Math","max","min","clientX","innerWidth","clientY","innerHeight","Date","now","appBootstrapScript","getElementById","dataset","sapUiLanguage","_pollForRecorderBootstrap","recorderBootstrapScript","sapUiConfig","split","sConfig","language","fnDone"],"sources":["UIContextInjector-dbg.js"],"mappings":";;;;;AAMAA,IAAIC,GAAGC,OAAO,CACb,2BACA,wBACA,qBACA,qCACA,uCACA,4CACA,iCACE,SAAUC,OAAQC,EAAKC,EAAYC,EAAWC,EAAkBC,EAAuBC,GACzF,aAEA,IAAIC,EAAqB,KACzB,IAAIC,EAAuB,MAE3B,IAAIC,EAAoBP,EAAWQ,OAAO,wCAAyC,CAClFC,YAAa,WACZ,IAAKJ,EAAoB,CACxBL,EAAWU,MAAMC,KAAMC,WACvBD,KAAKE,aAAeC,GACrB,KAAO,CACN,OAAOT,CACR,CACD,IAIDE,EAAkBQ,UAAUC,YAAc,SAAUC,EAAqBC,GACxEC,OAAOC,qBAAuBD,OAAOC,sBAAwB,CAAC,EAC9DT,KAAKU,2BACLV,KAAKO,UAAYA,EACjBP,KAAKW,YAAcL,EAAoBM,QAAQ,aAAe,EAE9DZ,KAAKa,yBAA2BA,EAAyBC,KAAKd,MAC9DA,KAAKe,yBAA2BA,EAAyBD,KAAKd,MAC9DA,KAAKgB,0BAA4BA,EAA0BF,KAAKd,MAChEA,KAAKiB,mBAAqBA,EAAmBH,KAAKd,MAClDA,KAAKkB,qBAAuBA,EAAqBJ,KAAKd,MAEtD,GAAIA,KAAKW,YAAa,CAErBX,KAAKmB,iBACN,KAAO,CACNnB,KAAKoB,aACN,CAEA7B,EAAiB8B,UAAU7B,EAAsB8B,gBAAiBtB,KAAKuB,cAAcT,KAAKd,OAC1FT,EAAiB8B,UAAU7B,EAAsBgC,YAAaxB,KAAKyB,gBAAgBX,KAAKd,OACxFT,EAAiB8B,UAAU7B,EAAsBkC,aAAc1B,KAAK2B,MAAMb,KAAKd,OAC/ET,EAAiB8B,UAAU7B,EAAsBoC,gBAAiB5B,KAAK6B,cAAcf,KAAKd,OAC1FT,EAAiB8B,UAAU7B,EAAsBsC,mBAAoB9B,KAAKmB,gBAAgBL,KAAKd,OAC/FT,EAAiB8B,UAAU7B,EAAsBuC,kBAAmB/B,KAAKgC,eAAelB,KAAKd,OAC7FT,EAAiB8B,UAAU7B,EAAsByC,iBAAkBjC,KAAKkC,cAAcpB,KAAKd,MAC5F,EAEAJ,EAAkBQ,UAAUmB,cAAgB,WAC3CvB,KAAKmC,QAAQC,MAAMC,MAAQ5C,EAAU6C,MAAMC,UAAUF,MACrDrC,KAAKmC,QAAQC,MAAMI,OAAS/C,EAAU6C,MAAMC,UAAUC,OACtDC,OAAOC,OAAO1C,KAAK2C,gBAAgBC,QAAQ,SAAUC,GACpDA,EAAaT,MAAMU,QAAU,MAC9B,EACD,EAEAlD,EAAkBQ,UAAUqB,gBAAkB,WAC7C,OAAQzB,KAAK+C,sBACZ,KAAKtD,EAAUuD,KAAKC,MAAOjD,KAAKgC,iBAAkB,MAClD,KAAKvC,EAAUuD,KAAKE,KAAMlD,KAAKkC,gBAAiB,MAChD,KAAKzC,EAAUuD,KAAKG,OACpB,QAASnD,KAAKmB,kBAAmB,MAEnC,EAEAvB,EAAkBQ,UAAUe,gBAAkB,WAC7CnB,KAAKoD,WAAW3D,EAAUuD,KAAKG,OAChC,EAEAvD,EAAkBQ,UAAU4B,eAAiB,WAC5ChC,KAAKoD,WAAW3D,EAAUuD,KAAKC,MAChC,EAEArD,EAAkBQ,UAAU8B,cAAgB,WAC3ClC,KAAKoD,WAAW3D,EAAUuD,KAAKE,KAChC,EAEAtD,EAAkBQ,UAAUgD,WAAa,SAAUC,GAClD,IAAKrD,KAAKmC,QAAS,CAElBnC,KAAKsD,aAAe,KACpBtD,KAAK2B,QACL3B,KAAKuD,YACN,CACAvD,KAAK+C,qBAAuBM,EAE5B,IAAK,IAAIG,KAAc/D,EAAU6C,MAAMe,GAAQ,CAC9CrD,KAAKmC,QAAQC,MAAMoB,GAAc/D,EAAU6C,MAAMe,GAAOG,EACzD,CAGAf,OAAOC,OAAO1C,KAAK2C,gBAAgBC,QAAQ,SAAUC,GACpDA,EAAaT,MAAMU,QAAU,MAC9B,GACA9C,KAAK2C,eAAeU,GAAOjB,MAAMU,QAAU,QAE3C,IAAK,IAAIW,KAAehE,EAAUiE,cAAcL,GAAQ,CACvDrD,KAAK2C,eAAeU,GAAOjB,MAAMqB,GAAehE,EAAUiE,cAAcL,GAAOI,EAChF,CACD,EAGA7D,EAAkBQ,UAAUyB,cAAgB,WAC3C7B,KAAKsD,aAAe,KACpBtD,KAAK2B,QACL3B,KAAKoB,aACN,EAEAxB,EAAkBQ,UAAUgB,YAAc,WACzCZ,OAAOC,qBAAqBkD,aAAenD,OAAOoD,KACjD5D,KAAK6D,MACL,oBACA,iHAGDrD,OAAOC,qBAAqBkD,aAAaG,SAASC,MAAQ,gBAC1DC,IAEAhE,KAAKW,YAAc,MACnBX,KAAKsD,aAAe,MACpBtD,KAAKiE,gBAAkB,MAEvBC,WAAW,WACV,IAAIC,EAAyB,WAC5B3D,OAAOC,qBAAqBkD,aAAaS,oBAAoB,eAAgBD,GAC7E,IAAKnE,KAAKsD,eAAiBtD,KAAKiE,gBAAiB,CAChDjE,KAAK2B,OACN,CACD,EAAEb,KAAKd,MAGP,GAAIQ,OAAOC,qBAAqBkD,aAAaU,OAAQ,CACpD,IAAKrE,KAAKsD,eAAiBtD,KAAKiE,gBAAiB,CAChDjE,KAAK2B,OACN,CACD,KAAO,CACNnB,OAAOC,qBAAqBkD,aAAaW,iBAAiB,eAAgBH,EAC3E,CACD,EAAErD,KAAKd,MAAO,IACf,EAEAJ,EAAkBQ,UAAUmD,WAAa,WACxC,IAAIgB,EAAST,SAASU,cAAc,UAGpC,IAAIC,EAAgBX,SAASU,cAAc,OAC3C,IAAIE,EAAqB1E,KAAK2E,oBAAoBxF,OAAOU,OAAOJ,EAAUiE,cAAcP,OAAQ,CAC/FyB,OAAQ,WACRC,OAAQ,SAAUhC,EAAciC,GAC/BjC,EAAaT,MAAM2C,IAAMD,EAAUE,EAAI,KACvChF,KAAKmC,QAAQC,MAAMI,OAAS,eAAiBsC,EAAUE,EAAI,KAC5D,EAAElE,KAAKd,SAER,IAAIiF,EAAoBjF,KAAK2E,oBAAoBxF,OAAOU,OAAOJ,EAAUiE,cAAcT,MAAO,CAC7F2B,OAAQ,WACRC,OAAQ,SAAUhC,EAAciC,GAC/BjC,EAAaT,MAAM8C,KAAOJ,EAAUK,EAAI,KACxCnF,KAAKmC,QAAQC,MAAM8C,KAAOJ,EAAUK,EAAI,KACxCnF,KAAKmC,QAAQC,MAAMC,MAAQ,eAAiByC,EAAUK,EAAI,KAC3D,EAAErE,KAAKd,SAER,IAAIoF,EAAmBpF,KAAK2E,oBAAoBxF,OAAOU,OAAOJ,EAAUiE,cAAcR,KAAM,CAC3F0B,OAAQ,WACRC,OAAQ,SAAUhC,EAAciC,GAC/BjC,EAAaT,MAAM8C,KAAOJ,EAAUK,EAAI,KACxCnF,KAAKmC,QAAQC,MAAMC,MAAQyC,EAAUK,EAAI,IAC1C,EAAErE,KAAKd,SAGRyE,EAAcY,GAAK5F,EAAU6F,kBAC7Bb,EAAcrC,MAAMmD,SAAW,WAC/Bd,EAAcrC,MAAMC,MAAQ,OAC5BoC,EAAcrC,MAAMI,OAAS,OAC7BiC,EAAcrC,MAAM2C,IAAM,IAC1BN,EAAcrC,MAAM8C,KAAO,IAC3BT,EAAcrC,MAAM,WAAa3C,EAAU+F,sBAC3Cf,EAAcrC,MAAMU,QAAU,OAE9ByB,EAAOc,GAAK5F,EAAUgG,UACtBlB,EAAOmB,IAAM1F,KAAK6D,MAClBU,EAAOnC,MAAMmD,SAAW,WACxBhB,EAAOnC,MAAMuD,OAAS,OACtBpB,EAAOnC,MAAMwD,aAAe,MAC5BrB,EAAOnC,MAAM,WAAa3C,EAAUoG,cACpCtB,EAAOnC,MAAM0D,UAAY,2BAEzBhC,SAASiC,KAAKC,YAAYtB,GAC1BZ,SAASiC,KAAKC,YAAYf,GAC1BnB,SAASiC,KAAKC,YAAYZ,GAC1BtB,SAASiC,KAAKC,YAAYvB,GAC1BX,SAASiC,KAAKC,YAAYzB,GAE1B/D,OAAOC,qBAAqBkD,aAAeY,EAAO0B,cAClDjC,IAEAhE,KAAKmC,QAAUoC,EACfvE,KAAKkG,eAAiBzB,EACtBzE,KAAK2C,eAAiB,CACrBQ,OAAQuB,EACRzB,MAAOgC,EACP/B,KAAMkC,GAEPpF,KAAKsD,aAAe,MACpBtD,KAAKW,YAAc,KACnBX,KAAKiE,gBAAkB,KACxB,EAEArE,EAAkBQ,UAAUuB,MAAQ,WAInC,GAAI3B,KAAKiE,gBAAiB,CACzB,MACD,CACAjE,KAAKiE,gBAAkB,KACvB,GAAIjE,KAAKW,YAAa,CACrB,IAAIwF,EAAcnG,KAAKmC,SAAWnC,KAAKmC,QAAQ8D,cAC/C,GAAIE,EAAa,CAChBnG,KAAKmC,QAAQuD,IAAM,cACnBS,EAAYxE,QAEZ,UAAWyE,gBAAkB,WAAY,CACxCA,gBACD,CACApG,KAAKmC,QAAQkE,SACbrG,KAAKkG,eAAeG,SACpB5D,OAAOC,OAAO1C,KAAK2C,gBAAgBC,QAAQ,SAAUC,GACpDA,EAAawD,QACd,GACArG,KAAKmC,QAAU,KACfnC,KAAKkG,eAAiB,KACtBlG,KAAK2C,eAAiB,CAAC,CACxB,CACD,MAAO,GAAInC,OAAOC,qBAAqBkD,aAAc,CACpDnD,OAAOC,qBAAqBkD,aAAahC,OAC1C,CAEA,IAAK3B,KAAKsD,aAAc,CAEvB9C,OAAOC,qBAAuB,CAAC,EAE/BT,KAAKO,WACN,CACD,EAEAX,EAAkBQ,UAAUkG,qBAAuB,WAClD,MAAO,CACNC,OAAQvG,KAAKwG,SACbC,WAAYzG,KAAKE,aACjBwG,IAAK1G,KAAK6D,MAEZ,EAEAjE,EAAkBQ,UAAUM,yBAA2B,WACtD,IAAIiG,GAAa,IAAIvH,GAAMwH,OAAO,MAClC,IAAIC,EAAe,CAAC,gBACpB,IAAIC,EAAe,CAAC,uBACpB,IAAIC,EAAgBtE,OAAOuE,KAAKL,GAAYM,IAAI,SAAUC,GACzD,GAAIJ,EAAalG,QAAQsG,MAAoB,GAAKA,EAAcC,WAAW,YAAcN,EAAajG,QAAQsG,IAAkB,EAAG,CAClI,MAAO,IAAMA,EAAgB,IAAMP,EAAWO,EAC/C,CACD,GAAGE,KAAK,IAERpH,KAAK6D,MAAQ7E,IAAIC,GAAGoI,QAAQC,MAAM,uCACjC,+BAAiC9G,OAAO+G,SAASC,SACjD,KAAOhH,OAAO+G,SAASE,KAAO,IAAM,wCAA0CzH,KAAKE,aAAe6G,EACnG,IAAIW,EAAW,IAAItI,EAAIY,KAAK6D,OAC5B7D,KAAKwG,UAAakB,EAASF,YAAchH,OAAO+G,SAASC,SAASG,QAAQ,IAAK,KAC9E,OAAUD,EAASD,QAAUjH,OAAO+G,SAASE,KAC/C,EAEA7H,EAAkBQ,UAAUuE,oBAAsB,SAAUiD,GAC3D,IAAI/E,EAAeiB,SAASU,cAAc,OAC1C3B,EAAawC,GAAKuC,EAASvC,GAC3BxC,EAAaT,MAAMmD,SAAW,WAC9B1C,EAAaT,MAAMC,MAAQuF,EAASvF,MACpCQ,EAAaT,MAAMI,OAASoF,EAASpF,OACrCK,EAAaT,MAAM8C,KAAO0C,EAAS1C,KACnCrC,EAAaT,MAAM2C,IAAM6C,EAAS7C,IAClClC,EAAaT,MAAM,WAAa3C,EAAUoI,qBAC1ChF,EAAaT,MAAMwC,OAASgD,EAAShD,OACrC/B,EAAaT,MAAMU,QAAU,OAE7BD,EAAaiF,YAAc9H,KAAKa,yBAAyBgC,GACzDA,EAAakF,YAAc/H,KAAKe,yBAAyB8B,EAAc+E,EAAS/C,QAChFhC,EAAamF,aAAehI,KAAKgB,0BAA0B6B,GAE3D,OAAOA,CACR,EAEA,SAAShC,EAA0BgC,GAClC,OAAO,WAENA,EAAaT,MAAM6F,WAAa,SACjC,CACD,CAEA,SAASlH,EAA0B8B,EAAcqF,GAChD,OAAO,SAAUC,GAChBA,EAAEC,iBACFzI,EAAuB,KAEvBK,KAAKkG,eAAe9D,MAAMU,QAAU,QAEpCgB,SAASuE,UAAYrI,KAAKiB,mBAC1B6C,SAASwE,YAActI,KAAKkB,qBAAqB2B,EAAcqF,EAChE,EAAEpH,KAAKd,KACR,CAEA,SAASgB,EAA2B6B,GACnC,OAAO,WACN,IAAKlD,EAAsB,CAE1BkD,EAAaT,MAAM6F,WAAa,aACjC,CACD,CACD,CAEA,SAAShH,IAERtB,EAAuB,MACvBK,KAAKkG,eAAe9D,MAAMU,QAAU,OACpCgB,SAASuE,UAAY,KACrBvE,SAASwE,YAAc,IACxB,CAEA,SAASpH,EAAsB2B,EAAcqF,GAC5C,OAAO5I,EAAU,SAAU6I,GAC1BA,EAAEC,iBACF,IAAIG,EAAS,IACbL,EAASrF,EAAc,CACtBsC,EAAGqD,KAAKC,IAAID,KAAKE,IAAIP,EAAEQ,QAASnI,OAAOoI,WAAaL,GAASA,GAC7DvD,EAAGwD,KAAKC,IAAID,KAAKE,IAAIP,EAAEU,QAASrI,OAAOsI,YAAcP,GAASA,IAEhE,EAAG,GACJ,CAEA,SAASpI,IACR,MAAO,GAAK4I,KAAKC,KAClB,CAEA,SAAShF,IACR,IAAIiF,EAAqBzI,OAAOsD,SAASoF,eAAe,oBACxD,GAAID,GAAsBA,EAAmBE,QAAQC,cAAe,CACnEC,EAA0B,SAAUC,GACnCA,EAAwBH,QAAQC,cAAgBH,EAAmBE,QAAQC,aAC5E,EACD,CACA,GAAIH,GAAsBA,EAAmBE,QAAQI,YAAa,CACjEN,EAAmBE,QAAQI,YAAYC,MAAM,KAAK5G,QAAQ,SAAU6G,GACnE,GAAIA,EAAQtC,WAAW,aAAc,CACpCkC,EAA0B,SAAUC,GACnCA,EAAwBH,QAAQI,YAAcD,EAAwBH,QAAQI,YAC9ED,EAAwBH,QAAQI,YAAc,IAAME,EAAUA,CAC/D,EACD,CACD,EACD,CACA,GAAIjJ,OAAO,iBAAiBkJ,SAAU,CACrClJ,OAAOC,qBAAqBkD,aAAa,iBAAmBnD,OAAOC,qBAAqBkD,aAAa,kBAAoB,CAAC,EAC1HnD,OAAOC,qBAAqBkD,aAAa,iBAAiB+F,SAAWlJ,OAAO,iBAAiBkJ,QAC9F,CACD,CAEA,SAASL,EAA0BM,GAClC,IAAIL,EAA0B9I,OAAOC,qBAAqBkD,aAAaG,SAASoF,eAAe,oBAC/F,GAAII,EAAyB,CAC5BK,EAAOL,EACR,KAAO,CACNpF,WAAW,WACVmF,EAA0BM,EAC3B,EAAG,GACJ,CACD,CAEAjK,EAAqB,IAAIE,EAEzB,OAAOF,CAER,EAAG"}