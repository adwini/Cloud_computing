sap.ui.define(["exports","sap/ui/webc/common/thirdparty/localization/getCachedLocaleDataInstance","sap/ui/webc/common/thirdparty/localization/dates/CalendarDate","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/types/Integer","sap/ui/webc/common/thirdparty/base/locale/getLocale","./CalendarPart","./generated/templates/MonthPickerTemplate.lit","./generated/themes/MonthPicker.css"],function(e,t,s,i,a,n,m,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=l(t);s=l(s);a=l(a);n=l(n);m=l(m);o=l(o);r=l(r);function l(e){return e&&e.__esModule?e:{default:e}}const h={tag:"ui5-monthpicker",properties:{selectedDates:{type:a.default,multiple:true,compareValues:true},_months:{type:Object,multiple:true},_hidden:{type:Boolean,noAttribute:true}},events:{change:{},navigate:{}}};const c=12;const p=3;class d extends m.default{static get metadata(){return h}static get template(){return o.default}static get styles(){return r.default}onBeforeRendering(){this._buildMonths()}_buildMonths(){if(this._hidden){return}const e=(0,t.default)((0,n.default)());const i=e.getMonthsStandAlone("wide",this._primaryCalendarType);const a=[];const m=this._calendarDate;const o=this._minDate;const r=this._maxDate;const l=new s.default(m,this._primaryCalendarType);let h;for(let e=0;e<12;e++){l.setMonth(e);h=l.valueOf()/1e3;const t=this.selectedDates.some(e=>{const t=s.default.fromTimestamp(e*1e3,this._primaryCalendarType);return t.getYear()===l.getYear()&&t.getMonth()===l.getMonth()});const n=l.getMonth()===m.getMonth();const c=this._isOutOfSelectableRange(l,o,r);const d={timestamp:h.toString(),focusRef:n,_tabIndex:n?"0":"-1",selected:t,ariaSelected:t?"true":"false",name:i[e],disabled:c,classes:"ui5-mp-item"};if(t){d.classes+=" ui5-mp-item--selected"}if(c){d.classes+=" ui5-mp-item--disabled"}const f=parseInt(e/p);if(a[f]){a[f].push(d)}else{a[f]=[d]}}this._months=a}onAfterRendering(){if(!this._hidden){this.focus()}}_onkeydown(e){let t=true;if((0,i.isEnter)(e)){this._selectMonth(e)}else if((0,i.isSpace)(e)){e.preventDefault()}else if((0,i.isLeft)(e)){this._modifyTimestampBy(-1)}else if((0,i.isRight)(e)){this._modifyTimestampBy(1)}else if((0,i.isUp)(e)){this._modifyTimestampBy(-p)}else if((0,i.isDown)(e)){this._modifyTimestampBy(p)}else if((0,i.isPageUp)(e)){this._modifyTimestampBy(-c)}else if((0,i.isPageDown)(e)){this._modifyTimestampBy(c)}else if((0,i.isHome)(e)||(0,i.isEnd)(e)){this._onHomeOrEnd((0,i.isHome)(e))}else if((0,i.isHomeCtrl)(e)){this._setTimestamp(parseInt(this._months[0][0].timestamp))}else if((0,i.isEndCtrl)(e)){this._setTimestamp(parseInt(this._months[c/p-1][p-1].timestamp))}else{t=false}if(t){e.preventDefault()}}_onHomeOrEnd(e){this._months.forEach(t=>{const i=t.findIndex(e=>s.default.fromTimestamp(parseInt(e.timestamp)*1e3).getMonth()===this._calendarDate.getMonth());if(i!==-1){const s=e?0:p-1;this._setTimestamp(parseInt(t[s].timestamp))}})}_setTimestamp(e){this._safelySetTimestamp(e);this.fireEvent("navigate",{timestamp:this.timestamp})}_modifyTimestampBy(e){this._safelyModifyTimestampBy(e,"month");this.fireEvent("navigate",{timestamp:this.timestamp})}_onkeyup(e){if((0,i.isSpace)(e)){this._selectMonth(e)}}_selectMonth(e){e.preventDefault();if(e.target.className.indexOf("ui5-mp-item")>-1){const t=this._getTimestampFromDom(e.target);this._safelySetTimestamp(t);this.fireEvent("change",{timestamp:this.timestamp})}}_hasPreviousPage(){return this._calendarDate.getYear()!==this._minDate.getYear()}_hasNextPage(){return this._calendarDate.getYear()!==this._maxDate.getYear()}_showPreviousPage(){this._modifyTimestampBy(-c)}_showNextPage(){this._modifyTimestampBy(c)}_isOutOfSelectableRange(e,t,s){const i=e.getMonth();const a=e.getYear();const n=t.getYear();const m=t.getMonth();const o=s.getYear();const r=s.getMonth();return a<n||a===n&&i<m||a>o||a===o&&i>r}}d.define();var f=d;e.default=f});
//# sourceMappingURL=MonthPicker.js.map