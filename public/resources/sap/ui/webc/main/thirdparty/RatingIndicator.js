sap.ui.define(["exports","sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/types/Integer","sap/ui/webc/common/thirdparty/base/types/Float","./generated/i18n/i18n-defaults","./generated/templates/RatingIndicatorTemplate.lit","./Icon","sap/ui/webc/common/thirdparty/icons/favorite","sap/ui/webc/common/thirdparty/icons/unfavorite","./generated/themes/RatingIndicator.css"],function(e,t,i,a,s,n,l,u,r,o,d,h,c){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=f(t);i=f(i);n=f(n);l=f(l);r=f(r);o=f(o);c=f(c);function f(e){return e&&e.__esModule?e:{default:e}}const p={tag:"ui5-rating-indicator",languageAware:true,properties:{value:{type:l.default,defaultValue:0},max:{type:n.default,defaultValue:5},disabled:{type:Boolean},readonly:{type:Boolean},accessibleName:{type:String,defaultValue:undefined},_stars:{type:Object,multiple:true},_focused:{type:Boolean}},slots:{},events:{change:{}}};class v extends t.default{static get metadata(){return p}static get render(){return i.default}static get styles(){return c.default}static get template(){return r.default}static async onDefine(){v.i18nBundle=await(0,s.getI18nBundle)("@ui5/webcomponents")}static get dependencies(){return[o.default]}constructor(){super();this._liveValue=null}onBeforeRendering(){this.calcState()}calcState(){this._stars=[];for(let e=1;e<this.max+1;e++){const t=Math.round((this.value-Math.floor(this.value))*10);let i=false,a=this.value;if(Math.floor(this.value)+1===e&&t>2&&t<8){i=true}else if(t<=2){a=Math.floor(this.value)}else if(t>=8){a=Math.ceil(this.value)}this._stars.push({selected:e<=a,index:e,halfStar:i})}}_onclick(e){if(this.disabled||this.readonly){return}this.value=parseInt(e.target.getAttribute("data-ui5-value"));if(this.value===1&&this._liveValue===1){this.value=0}if(this._liveValue!==this.value){this.fireEvent("change");this._liveValue=this.value}}_onkeydown(e){if(this.disabled||this.readonly){return}const t=(0,a.isDown)(e)||(0,a.isLeft)(e);const i=(0,a.isRight)(e)||(0,a.isUp)(e);const s=(0,a.isSpace)(e)||(0,a.isEnter)(e);const n=(0,a.isHome)(e);const l=(0,a.isEnd)(e);const u=e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105;if(t||i||s||n||l||u){e.preventDefault();if(t&&this.value>0){this.value=Math.round(this.value-1)}else if(i&&this.value<this.max){this.value=Math.round(this.value+1)}else if(s){const e=Math.round(this.value+1);this.value=e>this.max?0:e}else if(n){this.value=0}else if(l){this.value=this.max}else if(u){const t=parseInt(e.key);this.value=t>this.max?this.max:t}this.fireEvent("change")}}_onfocusin(){if(this.disabled){return}this._focused=true;this._liveValue=this.value}_onfocusout(){this._focused=false}get tabIndex(){return this.disabled?"-1":"0"}get tooltip(){return this.getAttribute("title")||this.defaultTooltip}get defaultTooltip(){return v.i18nBundle.getText(u.RATING_INDICATOR_TOOLTIP_TEXT)}get _ariaRoleDescription(){return v.i18nBundle.getText(u.RATING_INDICATOR_TEXT)}get _ariaDisabled(){return this.disabled||undefined}get ariaReadonly(){return this.readonly?"true":undefined}}v.define();var g=v;e.default=g});
//# sourceMappingURL=RatingIndicator.js.map