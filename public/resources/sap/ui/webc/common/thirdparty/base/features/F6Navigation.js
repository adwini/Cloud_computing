sap.ui.define(["exports","../FeaturesRegistry","../Keys","../util/FocusableElements"],function(e,t,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;class r{init(){this.keydownHandler=this._keydownHandler.bind(this);this.attachEventListeners();this.selectedGroup=null;this.groups=[]}attachEventListeners(){document.addEventListener("keydown",this.keydownHandler)}async _keydownHandler(e){if((0,s.isF6Next)(e)){this.updateGroups();if(this.groups.length<1){return}e.preventDefault();const t=this.groups.indexOf(this.selectedGroup);let s=null;if(t>-1){if(t+1>=this.groups.length){s=this.groups[0]}else{s=this.groups[t+1]}}else{s=this.groups[0]}const r=await(0,i.getFirstFocusableElement)(s.isUI5Element?s.getDomRef():s,true);r.focus()}if((0,s.isF6Previous)(e)){this.updateGroups();if(this.groups.length<1){return}e.preventDefault();const t=this.groups.indexOf(this.selectedGroup);let s=null;if(t>-1){if(t-1<0){s=this.groups[this.groups.length-1]}else{const e=await(0,i.getFirstFocusableElement)(this.groups[t-1],true);const r=e===await(0,i.getFirstFocusableElement)(this.groups[t],true);s=this.groups[r?t-2:t-1]}}else{s=this.groups[this.groups.length-1]}const r=await(0,i.getFirstFocusableElement)(s.isUI5Element?s.getDomRef():s,true);r.focus()}}removeEventListeners(){document.removeEventListener("keydown",this.keydownHandler)}updateGroups(){this.setSelectedGroup(document.activeElement);this.setGroups()}setGroups(){this.groups=Array.from(document.querySelectorAll("[data-sap-ui-fastnavgroup='true']")).filter(e=>e.clientWidth&&window.getComputedStyle(e).visibility!=="hidden")}setSelectedGroup(e){while(e&&e.getAttribute("data-sap-ui-fastnavgroup")!=="true"&&e!==document.querySelector("html")){e=e.parentElement?e.parentNode:e.parentNode.host}this.selectedGroup=e}destroy(){this.removeEventListeners()}}const o=new r;(0,t.registerFeature)("F6Navigation",o);var n=r;e.default=n});
//# sourceMappingURL=F6Navigation.js.map