sap.ui.define(["exports","./EventProvider","./RenderQueue","./CustomElementsRegistry","./locale/RTLAwareRegistry"],function(e,t,n,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.renderImmediately=e.renderFinished=e.renderDeferred=e.reRenderAllUI5Elements=e.detachBeforeComponentRender=e.cancelRender=e.attachBeforeComponentRender=void 0;t=a(t);n=a(n);function a(e){return e&&e.__esModule?e:{default:e}}const s=new Set;const d=new t.default;const i=new n.default;let c,u;let l;let m;const f=async e=>{i.add(e);await g()};e.renderDeferred=f;const w=e=>{d.fireEvent("beforeComponentRender",e);s.add(e);e._render()};e.renderImmediately=w;const R=e=>{i.remove(e);s.delete(e)};e.cancelRender=R;const g=async()=>{if(!m){m=new Promise(e=>{window.requestAnimationFrame(()=>{i.process(w);m=null;e();if(!l){l=setTimeout(()=>{l=undefined;if(i.isEmpty()){A()}},200)}})})}await m};const p=()=>{if(c){return c}c=new Promise(e=>{u=e;window.requestAnimationFrame(()=>{if(i.isEmpty()){c=undefined;e()}})});return c};const h=()=>{const e=(0,r.getAllRegisteredTags)().map(e=>customElements.whenDefined(e));return Promise.all(e)};const y=async()=>{await h();await p()};e.renderFinished=y;const A=()=>{if(!i.isEmpty()){return}if(u){u();u=undefined;c=undefined}};const E=async e=>{s.forEach(t=>{const n=t.constructor.getMetadata().getTag();const r=(0,o.isRtlAware)(t.constructor);const a=t.constructor.getMetadata().isLanguageAware();const s=t.constructor.getMetadata().isThemeAware();if(!e||e.tag===n||e.rtlAware&&r||e.languageAware&&a||e.themeAware&&s){f(t)}});await y()};e.reRenderAllUI5Elements=E;const v=e=>{d.attachEvent("beforeComponentRender",e)};e.attachBeforeComponentRender=v;const C=e=>{d.detachEvent("beforeComponentRender",e)};e.detachBeforeComponentRender=C});
//# sourceMappingURL=Render.js.map