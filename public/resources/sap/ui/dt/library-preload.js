//@ui5-bundle sap/ui/dt/library-preload.js
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/AggregationDesignTimeMetadata", ["sap/ui/dt/DesignTimeMetadata"],function(t){"use strict";var e=t.extend("sap.ui.dt.AggregationDesignTimeMetadata",{metadata:{library:"sap.ui.dt"}});e.prototype.getLabel=function(e,a){return t.prototype.getLabel.apply(this,arguments)||a};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/AggregationOverlay", ["sap/ui/thirdparty/jquery","sap/ui/dt/Overlay","sap/ui/dt/ElementUtil","sap/ui/dt/OverlayUtil","sap/ui/dt/Util","sap/base/util/merge"],function(jQuery,e,t,i,r,n){"use strict";var a=e.extend("sap.ui.dt.AggregationOverlay",{metadata:{library:"sap.ui.dt",properties:{aggregationName:{type:"string"},targetZone:{type:"boolean",defaultValue:false},scrollContainerId:{type:"int"}},events:{targetZoneChange:{parameters:{targetZone:{type:"boolean"}}}}}});a.prototype._getAttributes=function(){return n({},e.prototype._getAttributes.apply(this,arguments),{"data-sap-ui-dt-aggregation":this.getAggregationName()})};a.prototype._getChildIndex=function(e){var t=this.getChildren();var i;var r=t.indexOf(e)-1;while(r>0){i=t[r];if(i.isRendered()){break}r--}return r<0?0:r+1};a.prototype.insertChild=function(e,n){if(!r.isInteger(e)){e=this.isAssociation()?t.getIndexInAssociation:i.getIndexInAggregation(n.getElement(),this.getElement(),this.getAggregationName())}var a=this.indexOfAggregation("children",n);if(a!==e){if(a>-1){this.removeAggregation("children",n)}this.insertAggregation("children",n,e);if(this.isRendered()){var o=this._getChildIndex(n);var g=n.isRendered();var s=g?n.$():n.render(true);var d=jQuery(this.getChildrenDomRef());var l=d.find(">").index(s);var p;if(l!==o){if(o>0){p=l>-1&&l<o?o:o-1;d.find(">").eq(p).after(s)}else{p=o;d.prepend(s)}}if(!g){n.fireAfterRendering({domRef:s.get(0)})}}this.fireChildAdded();return true}return false};a.prototype.addChild=function(e,t){this.insertChild(this.getChildren().length,e);if(!t){this.fireChildAdded()}};a.prototype.render=function(){if(this.getChildren().length>0||this.getDesignTimeMetadata().getDomRef()){this.addStyleClass("sapUiDtAggregationOverlay");return e.prototype.render.apply(this,arguments)}return undefined};a.prototype._getRenderingParent=function(){if(r.isInteger(this.getScrollContainerId())){return this.getParent().getScrollContainerById(this.getScrollContainerId())}return e.prototype._getRenderingParent.apply(this,arguments)};a.prototype._setPosition=function(t,i,n,a){e.prototype._setPosition.apply(this,arguments);if(i.domRef&&!r.isInteger(this.getScrollContainerId())){this._handleOverflowScroll(i,this.$(),this.getParent(),a)}};a.prototype.getAssociatedDomRef=function(){var e=this.getElement();var t=this.getAggregationName();var i=this.getDesignTimeMetadata();return i.getAssociatedDomRef(e,i.getDomRef(),t)};a.prototype.setTargetZone=function(e){if(this.getTargetZone()!==e){this.setProperty("targetZone",e);this.toggleStyleClass("sapUiDtOverlayTargetZone",e);this.fireTargetZoneChange({targetZone:e})}return this};a.prototype.isTargetZone=function(){return this.getTargetZone()};a.prototype.isAssociation=function(){return!!this.getDesignTimeMetadata().getData().aggregationLike};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/ControlObserver", ["sap/ui/dt/ManagedObjectObserver"],function(e){"use strict";var t=e.extend("sap.ui.dt.ControlObserver",{metadata:{library:"sap.ui.dt",properties:{},associations:{target:{type:"sap.ui.core.Control"}}}});t.prototype.init=function(){e.prototype.init.apply(this,arguments);this._oControlDelegate={onAfterRendering:this._onAfterRendering}};t.prototype.observe=function(t){e.prototype.observe.apply(this,arguments);t.addEventDelegate(this._oControlDelegate,this)};t.prototype.unobserve=function(){var t=this.getTargetInstance();if(t){t.removeDelegate(this._oControlDelegate,this)}e.prototype.unobserve.apply(this,arguments)};t.prototype._onAfterRendering=function(){this.fireModified({type:"afterRendering"})};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/DOMUtil", ["sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/core/Configuration","sap/ui/dom/jquery/zIndex","sap/ui/dom/jquery/scrollLeftRTL"],function(jQuery,e,t){"use strict";var r={};r.getSize=function(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}};r.getOffsetFromParent=function(o,l){var n=l?jQuery(l):null;var i=n?n.scrollTop():null;var a=l?r.getScrollLeft(l):null;var s=n?n.offset():null;var c={left:o.position.left,top:o.position.top};if(s){c.left-=s.left-(a||0);c.top-=s.top-(i||0)}if(t.getRTL()){var f=n?n.outerWidth():jQuery(window).outerWidth();if(e.browser.safari&&!e.browser.mobile&&r.hasVerticalScrollBar(n)){c.left-=r.getScrollbarWidth()}c.left=c.left-(f-o.size.width)}return c};r.getScrollLeft=function(e){if(!t.getRTL()||!r.hasHorizontalScrollBar(e)){return jQuery(e).scrollLeft()}var o=jQuery(e).scrollLeftRTL();var l=e.scrollWidth-e.clientWidth;return o-l};r.getZIndex=function(e){var t;var r=jQuery(e);if(r.length){t=r.zIndex()||r.css("z-index")}return t};r._getElementDimensions=function(e,t,r){var o=e[0]||e;var l=o["offset"+t];var n=0;for(var i=0;i<2;i++){var a=window.getComputedStyle(o,null)["border"+r[i]+t];n-=a?parseInt(a.slice(0,-2)):0}return l+n};r._getElementWidth=function(e){return r._getElementDimensions(e,"Width",["Right","Left"])};r._getElementHeight=function(e){return r._getElementDimensions(e,"Height",["Top","Bottom"])};r.hasVerticalScrollBar=function(e){var t=jQuery(e);var o=t.css("overflow-y")==="auto"||t.css("overflow-y")==="scroll";return o&&t.get(0).scrollHeight>r._getElementHeight(e)};r.hasHorizontalScrollBar=function(e){var t=jQuery(e);var o=t.css("overflow-x")==="auto"||t.css("overflow-x")==="scroll";return o&&t.get(0).scrollWidth>r._getElementWidth(e)};r.hasScrollBar=function(e){return r.hasVerticalScrollBar(e)||r.hasHorizontalScrollBar(e)};r.getScrollbarWidth=function(){if(typeof r.getScrollbarWidth._cache==="undefined"){var e=jQuery("<div></div>").css({position:"absolute",top:"-9999px",left:"-9999px",width:"100px"}).appendTo("body");var t=e.width();e.css("overflow","scroll");var o=jQuery("<div></div>").css("width","100%").appendTo(e);var l=o.width();e.remove();r.getScrollbarWidth._cache=t-l}return r.getScrollbarWidth._cache};r.getOverflows=function(e){var t=jQuery(e);return{overflowX:t.css("overflow-x"),overflowY:t.css("overflow-y")}};r.getGeometry=function(e,t){if(e){var r=jQuery(e).offset();if(t){r.left=r.left-jQuery(window).scrollLeft();r.top=r.top-jQuery(window).scrollTop()}return{domRef:e,size:this.getSize(e),position:r,visible:this.isVisible(e)}}};r.syncScroll=function(e,t){var r=jQuery(t);var o=r.scrollTop();var l=r.scrollLeft();var n=jQuery(e);var i=n.scrollTop();var a=n.scrollLeft();if(i!==o){r.scrollTop(i)}if(a!==l){r.scrollLeft(a)}};r.getDomRefForCSSSelector=function(e,t){if(t&&e){var r=jQuery(e);if(t===":sap-domref"){return r}if(t.indexOf(":sap-domref")>-1){return r.find(t.replace(/:sap-domref/g,""))}return r.find(t)}return jQuery()};r.isVisible=function(e){if(e){var t=e.getBBox&&e.getBBox();var r=t?t.width:e.offsetWidth;var o=t?t.height:e.offsetHeight;return r>0&&o>0}return false};r.setDraggable=function(e,t){e.setAttribute("draggable",t)};r.getDraggable=function(e){switch(e.getAttribute("draggable")){case"true":return true;case"false":return false;default:return}};r._copyStylesTo=function(e,t){var r="";var o="";var l=e.length;for(var n=0;n<l;n++){o=e[n];r=r+o+":"+e.getPropertyValue(o)+";"}t.style.cssText=r};r._copyPseudoElement=function(e,t,o){var l=window.getComputedStyle(t,e);var n=l.getPropertyValue("content");if(n&&n!=="none"){n=String(n).trim();if(n.indexOf("attr(")===0){n=n.replace("attr(","");if(n.length){n=n.substring(0,n.length-1)}n=t.getAttribute(n)||""}var i=jQuery("<span></span>");if(e===":after"){i.appendTo(o)}else{i.prependTo(o)}i.text(n.replace(/(^['"])|(['"]$)/g,""));r._copyStylesTo(l,i.get(0));i.css("display","inline")}};r.copyComputedStyle=function(e,t){e=jQuery(e).get(0);t=jQuery(t).get(0);var o=window.getComputedStyle(e);if(o.getPropertyValue("display")==="none"){t.style.display="none";return}r._copyStylesTo(o,t);this._copyPseudoElement(":after",e,t);this._copyPseudoElement(":before",e,t)};r.copyComputedStyles=function(e,t){e=jQuery(e).get(0);t=jQuery(t).get(0);for(var r=0;r<e.children.length;r++){this.copyComputedStyles(e.children[r],t.children[r])}jQuery(t).removeClass();jQuery(t).attr("id","");jQuery(t).attr("role","");jQuery(t).attr("data-sap-ui","");jQuery(t).attr("for","");jQuery(t).attr("tabindex",-1);this.copyComputedStyle(e,t)};r.cloneDOMAndStyles=function(e,t){e=jQuery(e).get(0);var r=e.cloneNode(true);this.copyComputedStyles(e,r);jQuery(t).append(r)};r.contains=function(e,t){var r=document.getElementById(e);return!!r&&r.contains(t)};r.appendChild=function(e,t){var r=t.scrollTop;var o=jQuery(t).scrollLeft();e.appendChild(t);t.scrollTop=r;jQuery(t).scrollLeft(o)};r.focusWithoutScrolling=function(t){if(e.browser.name!=="ie"){t.focus({preventScroll:true});return}var r=[];var o=t.parentNode;while(o){r.push([o,jQuery(o).scrollLeft(),o.scrollTop]);o=o.parentNode}t.focus();r.forEach(function(e){var t=e[0];if(jQuery(t).scrollLeft()!==e[1]){jQuery(t).scrollLeft(e[1])}if(t.scrollTop!==e[2]){t.scrollTop=e[2]}})};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/DesignTime", ["sap/ui/base/ManagedObject","sap/ui/dt/ElementOverlay","sap/ui/dt/AggregationOverlay","sap/ui/dt/OverlayRegistry","sap/ui/dt/SelectionManager","sap/ui/dt/ElementDesignTimeMetadata","sap/ui/dt/AggregationDesignTimeMetadata","sap/ui/dt/ElementUtil","sap/ui/dt/Overlay","sap/ui/dt/OverlayUtil","sap/ui/dt/MetadataPropagationUtil","sap/ui/dt/Util","sap/ui/dt/TaskManager","sap/ui/dt/TaskRunner","sap/base/Log","sap/base/util/isPlainObject","sap/base/util/merge","sap/ui/dt/SelectionMode","sap/base/util/includes","sap/ui/dt/DesignTimeStatus","sap/base/util/restricted/_curry","sap/base/util/restricted/_difference","sap/base/util/isEmptyObject"],function(e,t,a,r,n,i,s,o,l,g,d,c,h,y,u,p,m,v,f,E,O,_,b){"use strict";var S=e.extend("sap.ui.dt.DesignTime",{metadata:{library:"sap.ui.dt",properties:{designTimeMetadata:{type:"object"},enabled:{type:"boolean",defaultValue:true},scope:{type:"string",defaultValue:"default"}},associations:{rootElements:{type:"sap.ui.core.Element",multiple:true}},aggregations:{plugins:{type:"sap.ui.dt.Plugin",multiple:true}},events:{addRootElement:{parameters:{element:{type:"sap.ui.core.Element"}}},addPlugin:{parameters:{plugin:{type:"sap.ui.dt.Plugin"}}},enabledChanged:{parameters:{value:{type:"boolean"}}},elementOverlayCreated:{parameters:{elementOverlay:{type:"sap.ui.dt.ElementOverlay"}}},elementOverlayDestroyed:{parameters:{elementOverlay:{type:"sap.ui.dt.ElementOverlay"}}},elementOverlayAdded:{parameters:{id:{type:"string"},targetIndex:{type:"int"},targetId:{type:"string"},targetAggregation:{type:"string"}}},elementOverlayMoved:{parameters:{id:{type:"string"},targetIndex:{type:"int"},targetId:{type:"string"},targetAggregation:{type:"string"}}},elementOverlayEditableChanged:{parameters:{id:{type:"string"},elementId:{type:"string"},editable:{type:"boolean"}}},elementPropertyChanged:{parameters:{id:{type:"string"},name:{type:"string"},oldValue:{type:"any"},value:{type:"any"}}},syncing:{},synced:{},syncFailed:{}}},constructor:function(){this._sStatus=E.SYNCED;this._mPendingOverlays={};this._oTaskManager=new h({complete:function(e){if(e.getSource().isEmpty()){this._registerElementOverlays();if(this._oTaskManager.isEmpty()&&this._sStatus!==E.SYNCED){this._sStatus=E.SYNCED;setTimeout(function(){if(this._sStatus===E.SYNCED){this.fireSynced()}}.bind(this),0)}}}.bind(this),add:function(e){if(e.getSource().count()===1){this._sStatus=E.SYNCING;this.fireSyncing()}}.bind(this)});this._oTaskRunner=new y({taskManager:this._oTaskManager,taskType:"applyStyles"}).run();this._oSelectionManager=new n;this._aOverlaysCreatedInLastBatch=[];e.apply(this,arguments);this.getRootElements().forEach(this._createOverlaysForRootElement,this);this.attachEvent("addRootElement",function(e){this._createOverlaysForRootElement(e.getParameter("element"))},this);this.getPlugins().forEach(function(e){e.attachEvent("processingStatusChange",this._onProcessingStatusChange,this)},this);this.attachEvent("addPlugin",function(e){var t=e.getParameter("plugin");t.attachEvent("processingStatusChange",this._onProcessingStatusChange,this)},this);this.attachEvent("enabledChanged",function(e){var t=e.getParameter("value");var a=l.getOverlayContainer();a[t?"show":"hide"]();this.getRootElements().forEach(function(e){var a=r.getOverlay(e);a.setVisible(t);if(t){this._oTaskManager.add({type:"applyStyles",callbackFn:a.applyStyles.bind(a,true),overlayId:a.getId()})}}.bind(this))},this)}});S.prototype._onProcessingStatusChange=function(e){if(e.getParameter("processing")){this._oTaskManager.add({type:"pluginInProcess",plugin:e.getSource().getMetadata().getName()})}else{this._oTaskManager.completeBy({type:"pluginInProcess",plugin:e.getSource().getMetadata().getName()})}};S.prototype._onApplyStylesRequired=function(e){var t=e.getParameters();var a=e.getSource();this._oTaskManager.add({type:"applyStyles",callbackFn:a.applyStyles.bind(a,t.bForceScrollbarSync,t.bSkipForceCalculation),overlayId:a.getId()},"overlayId")};S.prototype._removeOverlayFromSyncingBatch=function(e){var t=this._aOverlaysCreatedInLastBatch.indexOf(e);if(t!==-1){this._aOverlaysCreatedInLastBatch.splice(t,1)}};S.prototype._registerElementOverlays=function(){var e=this._aOverlaysCreatedInLastBatch.slice();if(!e.length){return}var t=this._oTaskManager.add({type:"registerElementOverlays"});var a=this.getPlugins();e.forEach(function(e){r.register(e);e.attachBeforeDestroy(function(e){r.deregister(e.getSource())})});e.forEach(function(e){a.forEach(function(t){try{t.callElementOverlayRegistrationMethods(e)}catch(r){var a=c.propagateError(r,"DesignTime#_registerElementOverlays",c.printf("registerElementOverlay() method of the plugin {0} has failed for overlay with id='{1}' (element id='{2}')",t.getMetadata().getName(),e.getId(),e.getElement().getId()));u.error(c.errorToString(a))}})},this);e.forEach(function(e){try{this.fireElementOverlayCreated({elementOverlay:e})}catch(a){var t=c.propagateError(a,"DesignTime#_registerElementOverlays",c.printf('One of the listeners of elementOverlayCreated event failed while precessing the overlay with id="{0}" for element with id="{1}"',e.getId(),e.getElement().getId()));u.error(c.errorToString(t))}},this);this._aOverlaysCreatedInLastBatch=[];this._oTaskManager.complete(t)};S.prototype.exit=function(){this._bDestroyPending=true;this.getPlugins().forEach(function(e){e.destroy()});this._oSelectionManager.destroy();this._oTaskManager.destroy();this._destroyAllOverlays();this._aOverlaysCreatedInLastBatch=[];delete this._bDestroyPending};S.prototype.getSelection=function(){return this.getSelectionManager().get()};S.prototype.getSelectionManager=function(){return this._oSelectionManager};S.prototype.getPlugins=function(){return this.getAggregation("plugins")||[]};S.prototype.getBusyPlugins=function(){return this.getPlugins().filter(function(e){return e.isBusy()})};S.prototype.waitForBusyPlugins=function(){var e=this.getBusyPlugins();return Promise.all(e.map(function(e){return e.waitForBusyAction()}))};S.prototype.addPlugin=function(e){this.addAggregation("plugins",e);this.fireAddPlugin({plugin:e});e.setDesignTime(this);return this};S.prototype.insertPlugin=function(e,t){this.insertAggregation("plugins",e,t);this.fireAddPlugin({plugin:e});e.setDesignTime(this);return this};S.prototype.removePlugin=function(e){this.getPlugins().forEach(function(t){if(t===e){e.setDesignTime(null);e.detachEvent("processingStatusChange",this._onProcessingStatusChange,this)}}.bind(this));this.removeAggregation("plugins",e);return this};S.prototype.removeAllPlugins=function(){this.getPlugins().forEach(function(e){e.setDesignTime(null);e.detachEvent("processingStatusChange",this._onProcessingStatusChange,this)}.bind(this));this.removeAllAggregation("plugins");return this};S.prototype.getRootElements=function(){return(this.getAssociation("rootElements")||[]).map(function(e){return o.getElementInstance(e)})};S.prototype.getDesignTimeMetadataFor=function(e){var t;if(typeof e==="string"){t=e;u.error("sap.ui.dt.DesignTime#getDesignTimeMetadataFor / Function getDesignTimeMetadataFor() should be called with element instance")}else{t=e.getMetadata().getName()}return(this.getDesignTimeMetadata()||{})[t]};S.prototype.addRootElement=function(e){this.addAssociation("rootElements",e);this.fireAddRootElement({element:e})};S.prototype._createOverlaysForRootElement=function(e){var t=this._oTaskManager.add({type:"createOverlay",element:e,root:true});this.createOverlay({element:o.getElementInstance(e),root:true,visible:this.getEnabled()}).then(function(e){l.getOverlayContainer().append(e.render());this._oTaskManager.add({type:"applyStyles",callbackFn:e.applyStyles.bind(e),overlayId:e.getId()},"overlayId");this._oTaskManager.complete(t);return e}.bind(this),function(a){var r=c.propagateError(a,"DesignTime#_createOverlaysForRootElement",c.printf("Root element with id = '{0}' initialization is failed",e.getId()));u.error(c.errorToString(r));this._oTaskManager.cancel(t);this.fireSyncFailed({error:r})}.bind(this))};S.prototype.removeRootElement=function(e){this.removeAssociation("rootElements",e);this._destroyOverlaysForElement(o.getElementInstance(e));return this};S.prototype.removeAllRootElement=function(){this.removeAssociation("rootElements");this._destroyAllOverlays();return this};S.prototype.getElementOverlays=function(){var e=[];this._iterateRootElements(function(t){e=e.concat(this._getAllElementOverlaysIn(t))},this);return e};function T(e,t){if(e){t.setIsRoot(true)}}S.prototype.createOverlay=function(e){var t=Object.assign({},p(e)?e:{element:e});var a=this._oTaskManager.add({type:"createOverlay"});if(!t.element||!o.isElementValid(t.element)){this._oTaskManager.cancel(a);return this._rejectCreateOverlay(t.element)}var n=t.element.getId();var i=r.getOverlay(n);if(i){T(t.root,i);this._oTaskManager.complete(a);return Promise.resolve(i)}else if(n in this._mPendingOverlays){this._oTaskManager.complete(a);return this._mPendingOverlays[n]}if(typeof t.root==="undefined"){t.root=true}this._mPendingOverlays[n]=this._createElementOverlay(t).then(function(e){return this._createChildren(e,t).then(function(){this.attachEventOnce("synced",function(){delete this._mPendingOverlays[n]},this);if(this.bIsDestroyed){e.detachEvent("destroyed",this._onElementOverlayDestroyed,this);e.destroy();this._oTaskManager.cancel(a);return Promise.reject(c.createError("DesignTime#createOverlay","while creating overlay, DesignTime instance has been destroyed"))}else if(e.bIsDestroyed){this._oTaskManager.cancel(a);return Promise.reject(c.createError("DesignTime#createOverlay","while creating children overlays, its parent overlay has been destroyed"))}this._aOverlaysCreatedInLastBatch.push(e);this._oTaskManager.complete(a);return e}.bind(this))}.bind(this)).catch(function(e){var t=c.propagateError(e,"DesignTime#createOverlay",c.printf("Failed attempt to create overlay for '{0}'",n));delete this._mPendingOverlays[n];this._oTaskManager.cancel(a);return Promise.reject(t)}.bind(this));return this._mPendingOverlays[n]};S.prototype._rejectCreateOverlay=function(t){var a;if(!t){a="Cannot create overlay — no element is specified."}else if(t.bIsDestroyed){a="Cannot create overlay — the element is already destroyed."}else if(t instanceof e&&!o.isElementInTemplate(t)){a="Element is in a bound aggregation, but not found in the binding template. Skipping overlay creation for element with id='"+t.getId()+"'. Please report to CA-UI5-FL-RTA component."}else{a=c.printf("Cannot create overlay without a valid element. Expected a descendant of sap.ui.core.Element or sap.ui.core.Component, but {0} was given",c.getObjectType(t))}return Promise.reject(c.createError("DesignTime#createOverlay",a))};S.prototype._createAggregationOverlay=function(e,t,n,i){return new a({aggregationName:e,element:t,visible:!i,isPartOfTemplate:i,designTimeMetadata:new s({data:n}),init:function(e){var t=e.getSource();t.attachEvent("destroyed",this._onAggregationOverlayDestroyed,this);t.attachEvent("applyStylesRequired",this._onApplyStylesRequired,this)}.bind(this),beforeDestroy:function(e){var t=e.getSource();r.deregister(t);t.detachEvent("applyStylesRequired",this._onApplyStylesRequired,this)}.bind(this)})};S.prototype._createElementOverlay=function(e){var a=e.element;function r(e){return new t(e)}return new Promise(function(t,n){r({element:a,isRoot:e.root,visible:typeof e.visible!=="boolean"||e.visible,isPartOfTemplate:e.isPartOfTemplate,metadataScope:this.getScope(),designTimeMetadata:this.getDesignTimeMetadataFor(a)instanceof i?this.getDesignTimeMetadataFor(a):O(function(e,t,a,r){r=m({},r,e);this._mMetadataOriginal=r;if(t){r=d.propagateMetadataToElementOverlay(r,t,a)}return r})(this.getDesignTimeMetadataFor(a),e.parentMetadata,a),init:function(e){var a=e.getSource();t(e.getSource());a.attachEvent("destroyed",this._onElementOverlayDestroyed,this);a.attachEvent("elementDestroyed",this._onElementDestroyed,this);a.attachEvent("selectionChange",this._onElementOverlaySelectionChange,this);a.attachEvent("elementModified",this._onElementModified,this);a.attachEvent("editableChange",this._onEditableChanged,this);a.attachEvent("applyStylesRequired",this._onApplyStylesRequired,this)}.bind(this),initFailed:function(e,t){var a=t.getSource();var r=c.propagateError(t.getParameter("error"),"DesignTime#_createElementOverlay",c.printf("Can't create overlay properly (id='{0}') for '{1}'",a.getId(),e));a.detachEvent("destroyed",this._onElementOverlayDestroyed,this);a.detachEvent("elementDestroyed",this._onElementDestroyed,this);a.detachEvent("applyStylesRequired",this._onApplyStylesRequired,this);a.destroy();n(r)}.bind(this,a.getId())})}.bind(this))};function I(e,t){var a=e.getElement();return t.reduce(function(e,t){var r=o.getAggregationBindingTemplate(a,t);if(r){e[t]=r}return e},{})}S.prototype._createChildren=function(e,t){var a=e.getAggregationNames();var r=t.parentMetadata;var n=I(e,a);var i=Object.keys(n);var s=t.isPartOfTemplate!==undefined;var o=!b(n);var l=o&&!s;var g=l?true:t.isPartOfTemplate;var d=l?false:t.isPartOfTemplate;if(o&&g&&!l){a=_(a,i)}return this._createChildrenOverlays(e,r,i,g,n).then(this._createChildrenOverlays.bind(this,e,r,a,d))};S.prototype._createChildrenOverlays=function(e,a,n,i,s){var l=!b(s);if(l&&!i){return Promise.resolve()}return Promise.all(n.map(function(n){var g=e.getElement();var c=g.getMetadata().getName();var h=d.propagateMetadataToAggregationOverlay(e.getDesignTimeMetadata().getAggregation(n),g,a);var y=this._createAggregationOverlay(n,g,h,l);r.register(y);var p;if(l){p=[s[n]]}else{p=o[y.isAssociation()?"getAssociationInstances":"getAggregation"](g,n)}return Promise.all(p.map(function(t,a){return this.createOverlay({element:a,root:false,parentMetadata:h,isPartOfTemplate:i}).catch(function(r){var i=this._enrichChildCreationError(r,a,t,n);if(!g.isDestroyed()&&!e.isDestroyed()){u[i.severity](i.message)}return i.errorObject}.bind(this))}.bind(this,c))).then(function(e){e.map(function(e){if(e instanceof t&&!e.bIsDestroyed&&!e.getParent()){y.addChild(e,true)}},this);return y}.bind(this))},this)).then(function(t){t.forEach(function(t){if(e.bIsDestroyed){t.destroy()}else if(l){e.addAggregationBindingTemplateOverlay(t)}else{e.addChild(t,true)}})})};S.prototype._enrichChildCreationError=function(e,t,a,r){var n="error";var i=c.errorToString(e);if(e.message.includes("Cannot create overlay without a valid element")){n="warning";e=c.createError("DesignTime#_createChildren",c.printf(["Child element in aggregation '{0}' of {1} must be a descendant of sap.ui.core.Element or ","sap.ui.core.Component, but {2} was give. Consider ignoring the aggregation '{0}' ","in the .designtime configuration of the control."].join(""),r,a,c.getObjectType(t)));i=e.toString()}else if(e.message.startsWith("Element is in a bound aggregation")){n="error";i=e.toString()}return{errorObject:e,severity:n,message:i}};S.prototype._destroyOverlaysForElement=function(e){var t=r.getOverlay(e);if(t){t.destroy()}};S.prototype._destroyAllOverlays=function(){this._iterateRootElements(function(e){this._destroyOverlaysForElement(e)},this)};S.prototype._onElementOverlayDestroyed=function(e){if(this._bDestroyPending){return}var t=e.getSource();this._oTaskManager.cancelBy({type:"applyStyles",overlayId:t.getId()},"overlayId");this._removeOverlayFromSyncingBatch(t);var a=t.getAssociation("element");if(a in this._mPendingOverlays){delete this._mPendingOverlays[a];return}if(!r.hasOverlays()){l.destroyMutationObserver();l.removeOverlayContainer()}if(t.isSelected()){this.getSelectionManager().remove(t)}this.fireElementOverlayDestroyed({elementOverlay:t})};S.prototype._onElementDestroyed=function(e){var t=e.getParameter("targetId");this.removeRootElement(t)};S.prototype._onAggregationOverlayDestroyed=function(e){this._oTaskManager.cancelBy({type:"applyStyles",overlayId:e.getSource().getId()},"overlayId");if(!r.hasOverlays()){l.removeOverlayContainer()}};S.prototype._onElementOverlaySelectionChange=function(e){var t=e.getSource();var a=e.getParameter("selected");if(a){if(this.getSelectionManager().getSelectionMode()===v.Multi){this.getSelectionManager().add(t)}else{this.getSelectionManager().set(t)}if(!f(this.getSelectionManager().get(),t)){t.setSelected(false)}}else{this.getSelectionManager().remove(t)}};S.prototype._onElementModified=function(e){var t=m({},e.getParameters());var a=e.getSource();t.type=!t.type?e.getId():t.type;switch(t.type){case"addOrSetAggregation":case"insertAggregation":this._onAddAggregation(t.value,t.target,t.name);break;case"setParent":setTimeout(function(){if(!this.bIsDestroyed){this._checkIfOverlayShouldBeDestroyed(t.target)}}.bind(this),0);break;case"propertyChanged":t.id=e.getSource().getId();delete t.type;delete t.target;if(this.getStatus()===E.SYNCING){this.attachEventOnce("synced",t,function(){if(!a.bIsDestroyed){this.fireElementPropertyChanged(arguments[1])}},this)}else{this.fireElementPropertyChanged(t)}break;default:break}};S.prototype._onEditableChanged=function(e){var t=m({},e.getParameters());var a=e.getSource();t.id=a.getId();if(this.getStatus()===E.SYNCING){this.attachEventOnce("synced",t,function(){if(!a.bIsDestroyed){this.fireElementOverlayEditableChanged(arguments[1])}},this)}else{this.fireElementOverlayEditableChanged(t)}};S.prototype._onAddAggregation=function(e,t,a){if(o.isElementValid(e)){var n=r.getOverlay(t);var i=n&&n.getAggregationOverlay(a);if(!i){var s=function(r){var n=r.getParameter("elementOverlay");if(n.getElement().getId()===t.getId()){var i=n.getAggregationOverlay(a);this.detachElementOverlayCreated(s,this);this._addAggregation(e,i)}};this.attachElementOverlayCreated(s,this)}else{this._addAggregation(e,i)}}};S.prototype._addAggregation=function(e,t){var a=r.getOverlay(e);if(!a&&t&&t.getElement()){var n=this._oTaskManager.add({type:"createChildOverlay",element:e});this.createOverlay({element:e,root:false,parentMetadata:t.getDesignTimeMetadata().getData()}).then(function(e){var a=t.insertChild(null,e);if(a===true){this._oTaskManager.add({type:"applyStyles",callbackFn:e.applyStyles.bind(e),overlayId:e.getId()},"overlayId");var r=t.indexOfAggregation("children",e);this.attachEventOnce("synced",e,function(){if(!e.bIsDestroyed){this.fireElementOverlayAdded({id:e.getId(),targetIndex:r,targetId:t.getId(),targetAggregation:t.getAggregationName()})}},this)}this._oTaskManager.complete(n)}.bind(this)).catch(function(a,r,i){this._oTaskManager.cancel(n);var s=c.propagateError(i,"DesignTime#_onAddAggregation",c.printf("Failed to add new element overlay (elementId='{0}') into aggregation overlay (id='{1}')",a,r));if(!e.bIsDestroyed&&!t.bIsDestroyed){u.error(c.errorToString(s))}}.bind(this,e.getId(),t.getId()))}else{if(a&&!this._isElementInRootElements(a)&&a.isRoot()){a.setIsRoot(false)}if(t){t.insertChild(null,a)}else{u.error("No parentAggregationOverlay exists during addAggregation");return}a.setDesignTimeMetadata(d.propagateMetadataToElementOverlay(a._mMetadataOriginal,t.getDesignTimeMetadata().getData(),e));this.fireElementOverlayMoved({id:a.getId(),targetIndex:t.indexOfAggregation("children",a),targetId:t.getId(),targetAggregation:t.getAggregationName()})}};S.prototype._checkIfOverlayShouldBeDestroyed=function(e){var t=r.getOverlay(e);if(!e.bIsDestroyed&&t&&(!this._isElementInRootElements(e)||e.sParentAggregationName==="dependents")){t.destroy()}};S.prototype._isElementInRootElements=function(e){var t=false;this._iterateRootElements(function(a){if(o.hasAncestor(e,a)){t=true;return false}return undefined});return t};S.prototype._iterateRootElements=function(e,t){var a=this.getRootElements();a.forEach(function(a){var r=o.getElementInstance(a);e.call(t||this,r)},this)};S.prototype._getAllElementOverlaysIn=function(e){var t=[];var a=r.getOverlay(e);if(a){g.iterateOverlayElementTree(a,function(e){if(e.getDesignTimeMetadata()){t.push(e)}})}return t};S.prototype.setEnabled=function(e){e=!!e;if(this.getEnabled()!==e){this.setProperty("enabled",e);this.fireEnabledChanged({value:e})}};S.prototype.getStatus=function(){return this._sStatus};return S});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/DesignTimeMetadata", ["sap/ui/thirdparty/jquery","sap/ui/base/ManagedObject","sap/ui/dt/ElementUtil","sap/ui/dt/DOMUtil","sap/base/util/merge","sap/base/util/ObjectPath","sap/base/util/includes"],function(jQuery,t,e,r,a,n,i){"use strict";function o(t,e){if(typeof t==="function"){t=t(e)}if(typeof t==="string"){return{changeType:t}}return t}var u=t.extend("sap.ui.dt.DesignTimeMetadata",{metadata:{library:"sap.ui.dt",properties:{data:{type:"any",defaultValue:{}}}}});u.prototype.setData=function(t){this.setProperty("data",a({},this.getDefaultData(),t));return this};u.prototype.getDefaultData=function(){return{ignore:false,domRef:undefined}};u.prototype.isIgnored=function(t){var e=this.getData().ignore;if(!e||e&&typeof e==="function"&&!e(t)){return false}return true};u.prototype.markedAsNotAdaptable=function(){var t=this.getData().actions;return t==="not-adaptable"};u.prototype.getDomRef=function(){return this.getData().domRef};u.prototype.getAssociatedDomRef=function(t,a,n){if(t){var i=e.getDomRef(t);var o=[];o.push(t);if(n){o.push(n)}if(typeof a==="function"){try{var u=a.apply(null,o);return u&&jQuery(u)}catch(t){return undefined}}else if(i&&typeof a==="string"){return r.getDomRefForCSSSelector(i,a)}}};u.prototype.getAction=function(t,e,r){var a=this.getData();var i=["actions",t];if(r){i.push(r)}return o(n.get(i,a),e)};u.prototype.getCommandName=function(t,e,r){var n=this.getData();var i=a({},r&&n.aggregations[r]?n.aggregations[r].actions:{},n.actions);function u(r){return Object.keys(r).map(function(a){var n=r[a];if(a==="add"&&!n.changeType){return{delegate:"addDelegateProperty",custom:"customAdd"}[u(n)]}try{var i=o(n,e);return i&&i.changeType===t&&a}catch(t){return undefined}}).filter(Boolean)[0]}return u(i)};u.prototype.getLibraryText=function(t,e,r){var a=t.getMetadata();return this._lookForLibraryTextInHierarchy(a,e,r)};u.prototype._lookForLibraryTextInHierarchy=function(t,e,r){var a;var n;var i;a=t.getLibraryName();i=this._getTextFromLibrary(a,e,r);if(!i){n=t.getParent();if(n&&n.getLibraryName){i=this._lookForLibraryTextInHierarchy(n,e,r)}else{i=e}}return i};u.prototype._getTextFromLibrary=function(t,e,r){var a=sap.ui.getCore().getLibraryResourceBundle(t+".designtime");if(a&&a.hasText(e)){return a.getText(e,r)}a=sap.ui.getCore().getLibraryResourceBundle(t);if(a&&a.hasText(e)){return a.getText(e,r)}};u.prototype.getLabel=function(){var t=this.getData().getLabel;return typeof t==="function"?t.apply(this,arguments):undefined};u.prototype.getControllerExtensionTemplate=function(){return this.getData().controllerExtensionTemplate};u.prototype.getResponsibleElement=function(t){var e=this.getData();var r=n.get(["actions","getResponsibleElement"],e);if(r){return r(t)}};u.prototype.isResponsibleActionAvailable=function(t){var e=this.getData();var r=n.get(["actions","actionsFromResponsibleElement"],e);if(r){return i(r,t)}return false};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/DesignTimeStatus", [],function(){"use strict";return{SYNCING:"syncing",SYNCED:"synced"}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/ElementDesignTimeMetadata", ["sap/ui/dt/DesignTimeMetadata","sap/ui/dt/AggregationDesignTimeMetadata","sap/ui/dt/ElementUtil"],function(t,e,a){"use strict";var n=t.extend("sap.ui.dt.ElementDesignTimeMetadata",{metadata:{library:"sap.ui.dt"}});n.prototype.getDefaultData=function(){var e=t.prototype.getDefaultData.apply(this,arguments);e.aggregations={layout:{ignore:true},dependents:{ignore:true},customData:{ignore:true},layoutData:{ignore:true},tooltip:{ignore:true},dragDropConfig:{ignore:true}};return e};n.prototype.hasAggregation=function(t){return!!this.getAggregations()[t]};n.prototype.getAggregation=function(t){return this.getAggregations()[t]};n.prototype.createAggregationDesignTimeMetadata=function(t){return new e({data:t})};n.prototype.getAggregations=function(){var t=this.getData().aggregations||{};var e=this.getData().associations||{};Object.keys(e).forEach(function(a){var n=e[a];if(n.aggregationLike){t[a]=n}});return t};n.prototype.getAggregationNamesWithAction=function(t){var e=this.getAggregations();return Object.keys(e).filter(function(a){return e[a].actions&&e[a].actions[t]})};n.prototype.getActionDataFromAggregations=function(t,e,a,n){var i;var r=this.getAggregations();var g=[];for(var o in r){if(r[o].actions&&r[o].actions[t]){i=r[o].actions[t];if(n){i=i[n]}if(typeof i==="function"){var s=[e];if(a){s=s.concat(a)}i=i.apply(null,s)}if(typeof i==="string"){i={changeType:i}}if(i){i.aggregation=o;g.push(i)}}}return g};n.prototype._getText=function(t,e){if(typeof e==="function"){return e()}return this.getLibraryText(t,e)};n.prototype.getAggregationDescription=function(t,e){var a=this.getAggregation(t).childNames;if(typeof a==="function"){a=a(e)}if(a){return{singular:this._getText(e,a.singular),plural:this._getText(e,a.plural)}}};n.prototype.getAggregationDisplayName=function(t,e){var a=this.getAggregation(t)&&this.getAggregation(t).displayName;if(typeof a==="function"){a=a(e)}if(a){return{singular:this._getText(e,a.singular),plural:this._getText(e,a.plural)}}};n.prototype.getName=function(t){var e=this.getData().name;if(typeof e==="function"){e=e(t)}if(e){return{singular:this._getText(t,e.singular),plural:this._getText(t,e.plural)}}};n.prototype.getToolHooks=function(){return this.getData().tool||{start:function(){},stop:function(){}}};n.prototype.isAggregationIgnored=function(t,e){var a=this.getAggregations();var n=a[e];var i=n?n.ignore:false;if(!i||i&&typeof i==="function"&&!i(t)){return false}return true};n.prototype.getScrollContainers=function(t,e,a){var n=this.getData().scrollContainers||[];n.forEach(function(n){if(typeof n.aggregations==="function"){n.aggregationsFunction=n.aggregations;n.aggregations=n.aggregations(t,a)}else if(e&&n.aggregationsFunction){n.aggregations=n.aggregationsFunction(t,a)}});return n};n.prototype.getLabel=function(e){return t.prototype.getLabel.apply(this,arguments)||a.getLabelForElement(e)};n.prototype.getStableElements=function(t){var e=t.getElement();var a;var n=this.getData().getStableElements;if(n){a=n(e)}else{a=[e]}if(!a||!Array.isArray(a)){a=[]}return a};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/ElementOverlay", ["sap/ui/dt/Overlay","sap/ui/dt/OverlayRegistry","sap/ui/dt/OverlayUtil","sap/ui/dt/ControlObserver","sap/ui/dt/ManagedObjectObserver","sap/ui/dt/ElementDesignTimeMetadata","sap/ui/dt/ElementUtil","sap/ui/dt/DOMUtil","sap/ui/dt/Util","sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/isPlainObject","sap/base/util/merge","sap/base/util/restricted/_intersection","sap/base/util/restricted/_max"],function(e,t,i,r,a,s,n,o,l,d,jQuery,g,h,p,u,f){"use strict";var c="sapUiDtOverlayScrollContainer";var y=e.extend("sap.ui.dt.ElementOverlay",{metadata:{library:"sap.ui.dt",associations:{editableByPlugins:{type:"any[]",multiple:true,singularName:"editableByPlugin"}},aggregations:{aggregationBindingTemplateOverlays:{type:"sap.ui.dt.Overlay",multiple:true,defaultValue:[]}},properties:{selected:{type:"boolean",defaultValue:false},selectable:{type:"boolean",defaultValue:false},movable:{type:"boolean",defaultValue:false},editable:{type:"boolean",defaultValue:false},relevantOverlays:{type:"any[]",defaultValue:[]},metadataScope:{type:"string"},ignoreEnterKeyUpOnce:{type:"boolean",defaultValue:false}},events:{selectionChange:{parameters:{selected:{type:"boolean"}}},movableChange:{parameters:{movable:{type:"boolean"}}},selectableChange:{parameters:{selectable:{type:"boolean"}}},editableChange:{parameters:{editable:{type:"boolean"}}},elementModified:{parameters:{type:"string",name:"string",value:"any",oldValue:"any",target:"sap.ui.core.Element"}},elementDestroyed:{parameters:{targetId:"string"}}}},constructor:function(){this._aMetadataEnhancers=[];e.apply(this,arguments)}});y.prototype.asyncInit=function(){return(this.getDesignTimeMetadata()?Promise.resolve():this._loadDesignTimeMetadata()).then(function(){this.attachEvent("elementModified",function(e){var t=e.getParameters();var i=t.name;if(t.type==="propertyChanged"){if(i==="visible"){this.setRelevantOverlays([])}}else if(i){this.setRelevantOverlays([])}},this);this._initMutationObserver();this._initControlObserver()}.bind(this))};y.prototype._updateScrollContainer=function(e){if(this.getShouldBeDestroyed()||this.bIsDestroyed){return}var t=e.index;var i=this.getScrollContainerById(t);var r=this.getScrollContainers(true)[t];var a=[].concat(r.aggregations);var s=i.find(">:not(.sapUiDtDummyScrollContainer)").toArray();s.forEach(function(e){var t=e.getAttribute("data-sap-ui-dt-aggregation");if(r.aggregations.includes(t)){a.splice(a.indexOf(t),1)}else{i.get(0).removeChild(e);o.appendChild(this.getChildrenDomRef(),e)}}.bind(this));a.forEach(function(e){var t=this.getAggregationOverlay(e).getDomRef();this.getChildrenDomRef().removeChild(t);o.appendChild(i.get(0),t)}.bind(this))};y.prototype._onRootChanged=function(e){var t=e.getParameter("value");this._subscribeToMutationObserver(t)};y.prototype._initMutationObserver=function(){this._subscribeToMutationObserver(this.isRoot());this.attachEvent("isRootChanged",this._onRootChanged,this)};y.prototype._subscribeToMutationObserver=function(t){var i=e.getMutationObserver();var r=this.getAssociatedDomRef();this._sObservableNodeId=r&&r.get(0)&&r.get(0).id;if(this._sObservableNodeId){i.registerHandler(this._sObservableNodeId,this._domChangedCallback.bind(this),t);if(r.get(0).shadowRoot){i.addNode(r.get(0).shadowRoot)}}else if(t){g.error("sap.ui.dt.ElementOverlay#_subscribeToMutationObserver: please provide a root control with proper domRef and id to ensure that RTA is working properly")}};y.prototype._unsubscribeFromMutationObserver=function(){if(this._sObservableNodeId){var t=e.getMutationObserver();t.deregisterHandler(this._sObservableNodeId);delete this._sObservableNodeId}};y.prototype._initControlObserver=function(){if(this.getElement()instanceof d){this._oObserver=new r({target:this.getElement(),aggregations:this.getAggregationNames()})}else{this._oObserver=new a({target:this.getElement(),aggregations:this.getAggregationNames()})}this._oObserver.attachModified(this._onElementModified,this);this._oObserver.attachDestroyed(this._onElementDestroyed,this)};y.prototype._destroyControlObserver=function(){if(this._oObserver){this._oObserver.destroy()}};y.prototype._getAttributes=function(){return p({},e.prototype._getAttributes.apply(this,arguments),{"data-sap-ui-dt-for":this.getElement().getId(),draggable:this.getMovable()})};y.prototype.render=function(){this.addStyleClass("sapUiDtElementOverlay");return e.prototype.render.apply(this,arguments)};y.prototype.exit=function(){this._unsubscribeFromMutationObserver();this._destroyControlObserver();if(this._iApplyStylesRequest){window.cancelAnimationFrame(this._iApplyStylesRequest)}e.prototype.exit.apply(this,arguments)};y.prototype._loadDesignTimeMetadata=function(){return this.getElement().getMetadata().loadDesignTime(this.getElement(),this.getMetadataScope()).then(function(e){var t=this.getElement();if(!t||t.bIsDestroyed){throw l.createError("ElementOverlay#loadDesignTimeMetadata","Can't set metadata to overlay which element has been destroyed already")}this.setDesignTimeMetadata(e)}.bind(this)).catch(function(e){throw l.propagateError(e,"ElementOverlay#loadDesignTimeMetadata",l.printf("Can't load designtime metadata data for overlay with id='{1}', element id='{2}': {3}",this.getId(),this.getAssociation("element"),l.wrapError(e).message))}.bind(this))};y.prototype._setPosition=function(t,i,r,a){e.prototype._setPosition.apply(this,arguments);this.getScrollContainers().forEach(function(t,i){var r=this.getDesignTimeMetadata().getAssociatedDomRef(this.getElement(),t.domRef)||jQuery();var s=this.getScrollContainerById(i);if(r.length){var n=r.get(0);var l=o.getGeometry(n);this._setSize(s,l);e.prototype._setPosition.call(this,s,l,this.$());this._handleOverflowScroll(l,s,this,a);this._setZIndex(l,s);this._setClipPath(s,r)}else{s.css("display","none")}},this)};y.prototype._applySizes=function(){return e.prototype._applySizes.apply(this,arguments).then(function(){this._sortChildren(this.getChildrenDomRef());if(!this.bIsDestroyed){this.getScrollContainers().forEach(function(e,t){var i=this.getDesignTimeMetadata().getAssociatedDomRef(this.getElement(),e.domRef)||jQuery();var r=this.getScrollContainerById(t);if(i.length){this._sortChildren(r.get(0))}},this)}}.bind(this))};y.prototype._sortChildren=function(e){function t(e,t){var i=o.getGeometry(e);var r=o.getGeometry(t);var a=i&&i.position;var s=r&&r.position;if(a&&s){var n=a.top+i.size.height;var l=s.top+r.size.height;if(a.top<s.top){if(n>=l&&s.left<a.left){return 1}return-1}else if(a.top===s.top){if(a.left===s.left){if(i.size.height<r.size.height||i.size.width<r.size.width){return-1}else if(i.size.height>r.size.height||i.size.width>r.size.width){return 1}return 0}else if(a.left<s.left){return-1}return 1}else if(n<=l&&s.left>a.left){return-1}return 1}return 0}var i=jQuery(e).find(">:not(.sapUiDtDummyScrollContainer)").toArray();var r=i.slice().sort(t);var a=i.some(function(e,t){return e!==r[t]});if(a){r.forEach(function(t){o.appendChild(e,t)})}};y.prototype.placeInOverlayContainer=function(){if(this._bInit){if(this.isRoot()){if(!this.isRendered()){e.getOverlayContainer().append(this.render());this.applyStyles()}else{g.error("sap.ui.dt.ElementOverlay: overlay is already rendered and can't be placed in overlay container. Isn't it already there?")}}else{g.error("sap.ui.dt.ElementOverlay: it's not possible to place overlay inside overlay container while it's part of some hierarchy")}}else{g.error('sap.ui.dt.ElementOverlay: overlay is not ready yet. Please wait until "init" event happens')}};y.prototype.setDesignTimeMetadata=function(t){var i=this.getDesignTimeMetadata();var r;if(typeof t==="function"){if(!i){this._aMetadataEnhancers=this._aMetadataEnhancers.concat(t)}else{i.setData(t(p({},i.getData())));return}}else if(t instanceof s){i=t}else if(h(t)){r=t;var a;while(a=this._aMetadataEnhancers.shift()){r=a.call(this,r)}i=new s({data:r})}if(i){e.prototype.setDesignTimeMetadata.call(this,i)}};y.prototype.getScrollContainers=function(e){return this.getDesignTimeMetadata().getScrollContainers(this.getElement(),e,this._updateScrollContainer.bind(this))};y.prototype._renderChildren=function(){var t=e.prototype._renderChildren.apply(this,arguments);this.getScrollContainers().forEach(function(e,i){var r=jQuery("<div></div>",{class:c,"data-sap-ui-dt-scrollContainerIndex":i});if(e.aggregations){u(e.aggregations,this.getAggregationNames()).forEach(function(e){var a=this.getAggregationOverlay(e);var s=t.indexOf(a.$());a.setScrollContainerId(i);r.append(t[s]);t.splice(s,1)},this)}t.push(r)},this);return t};y.prototype.getScrollContainerById=function(e){return jQuery(this.getChildrenDomRef()).find(">."+c+'[data-sap-ui-dt-scrollcontainerindex="'+e+'"]')};y.prototype.getAssociatedDomRef=function(){var e=this.getDesignTimeMetadata();var t=e.getDomRef();var i=e.getAssociatedDomRef(this.getElement(),t);if(!i){i=n.getDomRef(this.getElement())}if(i){return jQuery(i)}return undefined};y.prototype.setSelectable=function(e){e=!!e;if(e!==this.isSelectable()){if(!e){this.setSelected(false)}this.toggleStyleClass("sapUiDtOverlaySelectable",e);this.setProperty("selectable",e);this.fireSelectableChange({selectable:e})}this.setFocusable(e);return this};y.prototype.setSelected=function(e){e=!!e;if(this.isSelectable()&&e!==this.isSelected()){this.setProperty("selected",e);this.toggleStyleClass("sapUiDtOverlaySelected",e);var r=i.getClosestBoundControl(this);if(r.overlayId){var a=t.getOverlay(r.overlayId);v(r,a)}this.fireSelectionChange({selected:e})}return this};function v(e,t,i){i=i===undefined?e.stack.length-1:i;var r=e.stack[i];var a=i===0;var s=e.stack.length===1;if(r){t.getChildren().forEach(function(t){if(t.getAggregationName()===r.aggregation){t.getChildren().some(function(t,n){if(a&&s){t.toggleStyleClass("sapUiDtOverlayHighlighted")}else if(a&&n===r.index){t.toggleStyleClass("sapUiDtOverlayHighlighted");return true}else if(!a){v(e,t,i-1)}return undefined})}})}}y.prototype.setMovable=function(e){e=!!e;if(this.getMovable()!==e){this.toggleStyleClass("sapUiDtOverlayMovable",e);this.setProperty("movable",e);this.fireMovableChange({movable:e});this.$()[e?"attr":"removeAttr"]("draggable",e)}return this};y.prototype.setEditable=function(e){e=!!e;if(this.getEditable()!==e){this.toggleStyleClass("sapUiDtOverlayEditable",e);this.setProperty("editable",e);this.fireEditableChange({editable:e})}return this};y.prototype.getAggregationNames=function(){var e=this.getElement();var t=this.getDesignTimeMetadata();var i=e.getMetadata().getAllAggregations();return[].concat(Object.keys(i),Object.keys(t.getAggregations())).filter(function(i,r,a){return r===a.indexOf(i)&&!t.isAggregationIgnored(e,i)})};y.prototype._onChildAdded=function(e){var t=e.getSource();if(this.isRendered()&&!t.isRendered()){var i=l.isInteger(t.getScrollContainerId())?this.getScrollContainerById(t.getScrollContainerId()):jQuery(this.getChildrenDomRef());i.append(t.render())}};y.prototype.addChild=function(t){t.detachChildAdded(this._onChildAdded,this);t.attachChildAdded(this._onChildAdded,this);e.prototype.addChild.apply(this,arguments)};y.prototype._onElementModified=function(e){if(e.getParameters().type==="afterRendering"){this._subscribeToMutationObserver(this.isRoot());this._oScrollbarSynchronizers.forEach(function(e){e.refreshListeners()})}this.fireElementModified(e.getParameters())};y.prototype._domChangedCallback=function(e){e.targetOverlay=this;if(this.isReady()){if(this._iApplyStylesRequest){window.cancelAnimationFrame(this._iApplyStylesRequest)}this._iApplyStylesRequest=window.requestAnimationFrame(function(){this.getGeometry(true);e.bSkipForceCalculation=true;this.fireApplyStylesRequired(e);delete this._iApplyStylesRequest}.bind(this))}};y.prototype._onElementDestroyed=function(e){var t=e.getSource().getTarget();this.fireElementDestroyed({targetId:t});if(this._bInit){this.destroy()}else{this._bShouldBeDestroyed=true}};y.prototype.getAggregationOverlays=function(){return this.getAggregation("children")||[]};y.prototype.getAggregationOverlay=function(e,t){var i="get"+(t||"Children");return this[i]().filter(function(t){return t.getAggregationName()===e}).pop()};y.prototype.getParentElementOverlay=function(){var e=this.getParentAggregationOverlay();if(e){return e.getParent()}return undefined};y.prototype.getParentAggregationOverlay=function(){var e=this.getParent();return e instanceof sap.ui.dt.AggregationOverlay?e:null};y.prototype.isSelected=function(){return this.getSelected()};y.prototype.isSelectable=function(){return this.getSelectable()};y.prototype.isMovable=function(){return this.getMovable()};y.prototype.isEditable=function(){return this.getEditable()};y.prototype._getElementInstanceVisible=function(){var e=this.getElement();if(e){var t=this.getGeometry();return t&&t.visible}return false};y.prototype.getElementVisibility=function(){var e=this.getElement();if(e instanceof sap.ui.core.Control){return e.getVisible()}var t=this.getDesignTimeMetadata();var i=t&&t.getData().isVisible;if(!i){return undefined}return i(this.getElement())};y.prototype.isElementVisible=function(){var e=this.getElement();var t=false;var i=this.getDesignTimeMetadata();var r=i.getData();if(i.isIgnored(e)){t=false}else if(typeof r.isVisible==="function"){t=r.isVisible(e)}else{var a=this.getGeometry();if(a){t=a.visible}else if(e instanceof d){t=!!e.getDomRef()&&e.getVisible()}}return t};y.prototype.isVisible=function(){return e.prototype.isVisible.apply(this,arguments)&&this.isElementVisible()};y.prototype.getRelevantContainer=function(e){var t=this.getDesignTimeMetadata();if(t&&t.getData().relevantContainer){return t.getData().relevantContainer}else if(e){return this.getElement()}var i=this.getParentElementOverlay();return i?i.getElement():undefined};y.prototype._hasSameSize=function(e,t){var i=this.getScrollContainers();var r;if(i.length){r=f(i.map(function(e,i){var r=o.getGeometry(this.getScrollContainerById(i).get(0));return r.size[t]},this))}else{r=this.getGeometry().size[t]}return e.size[t]===r};return y});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/ElementUtil", ["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ui/dt/Util","sap/ui/dt/DOMUtil","sap/ui/core/Element","sap/ui/core/Component","sap/base/util/isPlainObject","sap/ui/core/UIArea"],function(jQuery,e,t,n,r,i,a,g){"use strict";var o={};o.iterateOverAllPublicAggregations=function(e,t){var n=e.getMetadata().getAllAggregations();var r=Object.keys(n);r.forEach(function(r){var i=n[r];var a=this.getAggregation(e,r);t(i,a)},this)};o.getElementInstance=function(e){if(typeof e==="string"){var t=sap.ui.getCore().byId(e);return t||i.get(e)}return e};o.hasAncestor=function(e,t){t=this.fixComponentContainerElement(t);var n;while(e&&e!==t){n=this.fixComponentParent(e);if(e===n){e=e.getParent()}else{e=n}}return!!e};o.getClosestElementForNode=function(e){var t=jQuery(e).closest("[data-sap-ui]");return t.length?sap.ui.getCore().byId(t.attr("data-sap-ui")):undefined};o.fixComponentParent=function(t){if(e.isA(t,"sap.ui.core.UIComponent")){var n=t.oContainer;if(n){return n.getParent()}}else{return t}};o.fixComponentContainerElement=function(t){if(e.isA(t,"sap.ui.core.ComponentContainer")){if(!t.getComponentInstance()){return undefined}return t.getComponentInstance().getRootControl()}return t};o.getDomRef=function(e){if(e){var t;if(e.getDomRef){t=e.getDomRef()}if(!t&&e.getRenderedDomRef){t=e.getRenderedDomRef()}return t}};o.findAllSiblingsInContainer=function(e,t){var n=e&&e.getParent();if(!n){return[]}if(n!==t){var r=o.findAllSiblingsInContainer(n,t);return r.map(function(t){return o.getAggregation(t,e.sParentAggregationName)}).reduce(function(e,t){return e.concat(t)},[])}return o.getAggregation(n,e.sParentAggregationName)};o.getAggregationAccessors=function(e,t){var n=e.getMetadata();n.getJSONKeys();var r=n.getAggregation(t);if(r){var i=r._sGetter;if(r.altTypes&&r.altTypes.length&&e[r._sGetter+"Control"]){i=r._sGetter+"Control"}return{get:i,add:r._sMutator,remove:r._sRemoveMutator,insert:r._sInsertMutator,removeAll:r._sRemoveAllMutator}}return{}};o.getAggregation=function(e,t){var n;var r=this.getAggregationAccessors(e,t).get;if(r){n=e[r]()}else{n=e.getAggregation(t)}n=n&&n.splice?n:n?[n]:[];return n};o.getIndexInAggregation=function(e,t,n){return this.getAggregation(t,n).indexOf(e)};o.addAggregation=function(e,t,n){if(this.hasAncestor(e,n)){throw new Error("Trying to add an element to itself or its successors")}var r=this.getAggregationAccessors(e,t).add;if(r){e[r](n)}else{e.addAggregation(t,n)}};o.removeAggregation=function(e,t,n,r){var i=this.getAggregationAccessors(e,t).remove;if(i){e[i](n,r)}else{e.removeAggregation(t,n,r)}};o.insertAggregation=function(e,t,n,r){if(this.hasAncestor(e,n)){throw new Error("Trying to add an element to itself or its successors")}if(this.getIndexInAggregation(n,e,t)!==-1){n.__bSapUiDtSupressParentChangeEvent=true;try{this.removeAggregation(e,t,n,true)}finally{delete n.__bSapUiDtSupressParentChangeEvent}}var i=this.getAggregationAccessors(e,t).insert;if(i){e[i](n,r)}else{e.insertAggregation(t,n,r)}};o.isValidForAggregation=function(t,n,r){var i=t.getMetadata().getAggregation(n);if(this.hasAncestor(t,r)){return false}if(i){var a=i.type;if(i.multiple===false&&this.getAggregation(t,n)&&this.getAggregation(t,n).length>0){return false}return e.isA(r,a)||this.hasInterface(r,a)}};o.getAssociationAccessors=function(e,t){var n=e.getMetadata();n.getJSONKeys();var r=n.getAssociation(t);if(r){return{get:r._sGetter,add:r._sMutator,remove:r._sRemoveMutator,insert:r._sInsertMutator,removeAll:r._sRemoveAllMutator}}return{}};o.getAssociation=function(e,t){var n;var r=this.getAssociationAccessors(e,t).get;if(r){n=e[r]()}return n};o.getIndexInAssociation=function(e,t,n){return this.getAssociationInstances(t,n).indexOf(e)};o.getAssociationInstances=function(e,n){var r=t.castArray(this.getAssociation(e,n));return r.map(function(e){return this.getElementInstance(e)},this)};o.hasInterface=function(e,t){var n=e.getMetadata().getInterfaces();return n.indexOf(t)!==-1};o.isElementInTemplate=function(e){var t=o.getAggregationInformation(e);if(t.templateId){var n=o.extractTemplateId(t);if(!n){return false}}return true};o.isElementDirectTemplateChild=function(e){var t=o.getAggregationInformation(e);if(t.templateId){var n=o.extractTemplateId(t);if(n&&t.stack.length===1){return true}}return false};o.isElementValid=function(e){var t=(e instanceof r||e instanceof i)&&!e.bIsDestroyed&&o.isElementInTemplate(e);return t};o.getParent=function(t){return e.isA(t,"sap.ui.core.Component")?t.oContainer:t.getParent()};o.getLabelForElement=function(e,n){if(!o.isElementValid(e)){throw t.createError("ElementUtil#getLabelForElement","A valid managed object instance should be passed as parameter","sap.ui.dt")}if(typeof n==="function"){return n(e)}function r(e){var t=typeof e.getText==="function"&&e.getText()||typeof e.getLabelText==="function"&&e.getLabelText()||typeof e.getLabel==="function"&&e.getLabel()||typeof e.getTitle==="function"&&e.getTitle()||typeof e.getHeading==="function"&&e.getHeading()||typeof e.getDataSourceLabel==="function"&&e.getDataSourceLabel();if(o.isElementValid(t)){return r(t)}return t}var i=r(e);return typeof i!=="string"?e.getId():i};o.extractTemplateId=function(e){if(a(e)&&e.templateId){if(e.stack.length>1){var t;var n=sap.ui.getCore().byId(e.templateId);var r;var i;for(var g=e.stack.length-2;g>=0;g--){r=e.stack[g].aggregation;i=e.stack[g].index;t=o.getAggregation(n,r)[i];if(!t){return undefined}n=t}return n.getId()}else if(e.stack.length===1){return e.templateId}}else{return undefined}};o.getAggregationInformation=function(e){var t=[];return this._evaluateBinding(e,t)};o._evaluateBinding=function(e,t){var n;var r;var i;var a;var s=e.aAPIParentInfos;if(s&&s.length>0){a=s.some(function(t){i=t.parent;n=t.aggregationName;r=o.getAggregation(i,n).indexOf(e);return i.getBinding(n)})}if(!a){i=e.getParent();if(i){n=e.sParentAggregationName;r=o.getAggregation(i,n).indexOf(e)}else{r=-1}}t.push({element:e.getId(),type:e.getMetadata().getName(),aggregation:n,index:r});if(n&&i.getBinding(n)){var u=i.getBindingInfo(n);var f=u&&u.template;return{elementId:i.getId(),aggregation:n,templateId:f?f.getId():undefined,stack:t}}return!i||i instanceof g?{elementId:undefined,aggregation:undefined,templateId:undefined,stack:t}:this._evaluateBinding(i,t)};o.getAggregationBindingTemplate=function(e,t){var n=e&&e.getBindingInfo(t);return n&&n.template};o.adjustIndexForMove=function(e,t,n,r){if(e===t&&n<r&&n>-1){return r-1}return r};o.checkTargetZone=function(e,t,r){var i=e.getGeometry();var a=i&&i.size.height>0&&i.size.width>0;var g=e.getElement();var s=t.getElement();var u=e.getAggregationName();if(!s||!o.isValidForAggregation(g,u,s)){return Promise.resolve(false)}function f(e,t){var r=e.getDomRef();var i=n.isVisible(r);if(!r){return i}var a=t&&t.getDomRef&&t.getDomRef();var g=a?n.isVisible(a):true;return i||g}if(r&&!a||!r&&!f(e,g)||!(g&&g.getVisible&&g.getVisible())||!g.getParent()){return Promise.resolve(false)}return Promise.resolve(true)};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/ManagedObjectObserver", ["sap/ui/base/ManagedObject","sap/ui/dt/ElementUtil","sap/base/util/includes"],function(e,t,i){"use strict";var a=e.extend("sap.ui.dt.ManagedObjectObserver",{metadata:{abstract:true,library:"sap.ui.dt",properties:{aggregations:{type:"array",defaultValue:null}},associations:{target:{type:"sap.ui.base.ManagedObject"}},events:{modified:{parameters:{type:"string",name:"string",value:"any",oldValue:"any",target:"sap.ui.core.Element"}},destroyed:{}}}});a.prototype.init=function(){this._fnFireModified=function(e){var t=e.getParameters();if(e.sId==="_change"){e.sId="propertyChanged"}this.fireModified({type:e.sId,name:t.name,value:t.newValue,oldValue:t.oldValue,target:e.getSource()})}.bind(this)};a.prototype.exit=function(){this.unobserve();delete this._fnFireModified};a.prototype.setTarget=function(e){this.unobserve();this.setAssociation("target",e);var t=this.getTargetInstance();if(t){this.observe(t)}return this};a.prototype.observe=function(e){this._bIsObserved=true;e.attachEvent("_change",this._fnFireModified,this);this._fnOriginalDestroy=e.destroy;e.destroy=function(){this.unobserve(e);var t=e.destroy.apply(e,arguments);this.fireDestroyed();return t}.bind(this);this._fnOriginalBindProperty=e.bindProperty;e.bindProperty=function(){var t=this._fnOriginalBindProperty.apply(e,arguments);this.fireModified();return t}.bind(this);this._fnOriginalUnBindProperty=e.unbindProperty;e.unbindProperty=function(){var t=this._fnOriginalUnBindProperty.apply(e,arguments);this.fireModified();return t}.bind(this);this._fnOriginalBindAggregation=e.bindAggregation;e.bindAggregation=function(t){var i=this._fnOriginalBindAggregation.apply(e,arguments);if(this._isAggregationObservable(t)){this.fireModified()}return i}.bind(this);this._fnOriginalUnBindAggregation=e.unbindAggregation;e.unbindAggregation=function(t){var i=this._fnOriginalUnBindAggregation.apply(e,arguments);if(this._isAggregationObservable(t)){this.fireModified()}return i}.bind(this);this._fnOriginalSetParent=e.setParent;e.setParent=function(t,i){var a=false;if(!e._bInSetParent){a=true;e._bInSetParent=true}var n=e.getParent();var r=this._fnOriginalSetParent.apply(e,arguments);if(a){e._bInSetParent=false;if(!e.__bSapUiDtSupressParentChangeEvent&&(n!==t||i==="dependents")){this.fireModified({type:"setParent",value:t,oldValue:n,target:e})}}return r}.bind(this);this._fnOriginalAddAggregation=e.addAggregation;e.addAggregation=function(t,i){this._sAddOrSetAggregationCall=t;var a=this._fnOriginalAddAggregation.apply(e,arguments);if(this._isAggregationObservable(t)){this.fireModified({type:"addOrSetAggregation",name:t,value:i,target:e})}return a}.bind(this);this._fnOriginalSetAggregation=e.setAggregation;e.setAggregation=function(t,i){this._sAddOrSetAggregationCall=t;var a=this._fnOriginalSetAggregation.apply(e,arguments);if(this._isAggregationObservable(t)){this.fireModified({type:"addOrSetAggregation",name:t,value:i,target:e})}return a}.bind(this);this._fnOriginalRemoveAggregation=e.removeAggregation;e.removeAggregation=function(t,i){this._sRemoveAggregationCall=t;var a=this._fnOriginalRemoveAggregation.apply(e,arguments);if(this._isAggregationObservable(t)){this.fireModified({type:"removeAggregation",name:t,value:i,target:e})}return a}.bind(this);this._fnOriginalInsertAggregation=e.insertAggregation;e.insertAggregation=function(t,i){this._sInsertAggregationCall=t;var a=this._fnOriginalInsertAggregation.apply(e,arguments);if(this._isAggregationObservable(t)){this.fireModified({type:"insertAggregation",name:t,value:i,target:e})}return a}.bind(this);this._fnOriginalRemoveAllAggregation=e.removeAllAggregation;e.removeAllAggregation=function(t){this._sRemoveAllAggregationCall=t;var i=e.getAggregation(t);var a=this._fnOriginalRemoveAllAggregation.apply(e,arguments);if(this._isAggregationObservable(t)){this.fireModified({type:"removeAllAggregation",name:t,value:i,target:e})}return a}.bind(this);this._fnOriginalDestroyAggregation=e.destroyAggregation;e.destroyAggregation=function(t){this._sDestroyAggregationCall=t;var i=e.getAggregation(t);var a=this._fnOriginalDestroyAggregation.apply(e,arguments);if(this._isAggregationObservable(t)){this.fireModified({type:"destroyAggregation",name:t,value:i,target:e})}return a}.bind(this);this._fnOriginalAddAssociation=e.addAssociation;e.addAssociation=function(t,i){this._sAddOrSetAssociationCall=t;var a=this._fnOriginalAddAssociation.apply(e,arguments);if(this._isAggregationObservable(t)){this.fireModified({type:"addOrSetAggregation",name:t,value:i,target:e})}return a}.bind(this);this._fnOriginalSetAssociation=e.setAssociation;e.setAssociation=function(t,i){this._sAddOrSetAssociationCall=t;var a=this._fnOriginalSetAssociation.apply(e,arguments);if(this._isAggregationObservable(t)){this.fireModified({type:"addOrSetAggregation",name:t,value:i,target:e})}return a}.bind(this);this._fnOriginalRemoveAssociation=e.removeAssociation;e.removeAssociation=function(t,i){this._sRemoveAssociationCall=t;var a=this._fnOriginalRemoveAssociation.apply(e,arguments);if(this._isAggregationObservable(t)){this.fireModified({type:"removeAggregation",name:t,value:i,target:e})}return a}.bind(this);this._fnOriginalRemoveAllAssociation=e.removeAllAssociation;e.removeAllAssociation=function(t){this._sRemoveAllAssociationCall=t;var i=e.getAssociation(t);var a=this._fnOriginalRemoveAllAssociation.apply(e,arguments);if(this._isAggregationObservable(t)){this.fireModified({type:"removeAllAggregation",name:t,value:i,target:e})}return a}.bind(this);this._aOriginalAddMutators={};this._aOriginalInsertMutators={};this._aOriginalRemoveMutators={};this._aOriginalRemoveAllMutators={};this._aOriginalDestructors={};var t=e.getMetadata().getAllAggregations();Object.keys(t).forEach(function(i){var a=t[i];var n=e[a._sMutator];this._aOriginalAddMutators[a.name]=n;e[a._sMutator]=function(t){delete this._sAddOrSetAggregationCall;var i=n.apply(e,arguments);if((!this._sAddOrSetAggregationCall||this._sAddOrSetAggregationCall!==a.name)&&this._isAggregationObservable(a.name)){this.fireModified({type:"addOrSetAggregation",name:a.name,value:t,target:e})}return i}.bind(this);var r=e[a._sInsertMutator];this._aOriginalInsertMutators[a.name]=r;e[a._sInsertMutator]=function(t){delete this._sInsertAggregationCall;var i=r.apply(e,arguments);if((!this._sInsertAggregationCall||this._sInsertAggregationCall!==a.name)&&this._isAggregationObservable(a.name)){this.fireModified({type:"insertAggregation",name:a.name,value:t,target:e})}return i}.bind(this);var s=e[a._sRemoveMutator];this._aOriginalRemoveMutators[a.name]=s;e[a._sRemoveMutator]=function(t){delete this._sRemoveAggregationCall;var i=s.apply(e,arguments);if((!this._sRemoveAggregationCall||this._sRemoveAggregationCall!==a.name)&&this._isAggregationObservable(a.name)){this.fireModified({type:"removeAggregation",name:a.name,value:t,target:e})}return i}.bind(this);var g=e[a._sRemoveAllMutator];this._aOriginalRemoveAllMutators[a.name]=g;e[a._sRemoveAllMutator]=function(){delete this._sRemoveAllAggregationCall;var t=this.getAggregation(i);var n=g.apply(e,arguments);if((!this._sRemoveAllAggregationCall||this._sRemoveAllAggregationCall!==a.name)&&this._isAggregationObservable(a.name)){this.fireModified({type:"removeAllAggregation",name:a.name,value:t,target:e})}return n}.bind(this);var o=e[a._sDestructor];this._aOriginalDestructors[a.name]=o;e[a._sDestructor]=function(){delete this._sDestroyAggregationCall;var t=this.getAggregation(i);var n=o.apply(e,arguments);if((!this._sDestroyAggregationCall||this._sDestroyAggregationCall!==a.name)&&this._isAggregationObservable(a.name)){this.fireModified({type:"destroyAggregation",name:a.name,value:t,target:e})}return n}.bind(this)}.bind(this),this);var i=e.getMetadata().getAllAssociations();Object.keys(i).forEach(function(t){var a=i[t];var n=e[a._sMutator];this._aOriginalAddMutators[a.name]=n;e[a._sMutator]=function(t){delete this._sAddOrSetAssociationCall;var i;i=n.apply(e,arguments);if((!this._sAddOrSetAssociationCall||this._sAddOrSetAssociationCall!==a.name)&&this._isAggregationObservable(a.name)){this.fireModified({type:"addOrSetAggregation",name:a.name,value:t,target:e})}return i}.bind(this);var r=e[a._sRemoveMutator];this._aOriginalRemoveMutators[a.name]=r;e[a._sRemoveMutator]=function(t){delete this._sRemoveAssociationCall;var i=r.apply(e,arguments);if((!this._sRemoveAssociationCall||this._sRemoveAssociationCall!==a.name)&&this._isAggregationObservable(a.name)){this.fireModified({type:"removeAggregation",name:a.name,value:t,target:e})}return i}.bind(this);var s=e[a._sRemoveAllMutator];this._aOriginalRemoveAllMutators[a.name]=s;e[a._sRemoveAllMutator]=function(){delete this._sRemoveAllAssociationCall;var i=this.getAssociation(t);var n=s.apply(e,arguments);if((!this._sRemoveAllAssociationCall||this._sRemoveAllAssociationCall!==a.name)&&this._isAggregationObservable(a.name)){this.fireModified({type:"removeAllAggregation",name:a.name,value:i,target:e})}return n}.bind(this)}.bind(this),this)};a.prototype.unobserve=function(e){e=e||this.getTargetInstance();if(this._bIsObserved&&e){this._bIsObserved=false;e.destroy=this._fnOriginalDestroy;e.bindProperty=this._fnOriginalBindProperty;e.unbindProperty=this._fnOriginalUnBindProperty;e.bindAggregation=this._fnOriginalBindAggregation;e.unbindAggregation=this._fnOriginalUnBindAggregation;e.setParent=this._fnOriginalSetParent;e.addAggregation=this._fnOriginalAddAggregation;e.removeAggregation=this._fnOriginalRemoveAggregation;e.insertAggregation=this._fnOriginalInsertAggregation;e.setAggregation=this._fnOriginalSetAggregation;e.removeAllAggregation=this._fnOriginalRemoveAllAggregation;e.destroyAggregation=this._fnOriginalDestroyAggregation;e.addAssociation=this._fnOriginalAddAssociation;e.removeAssociation=this._fnOriginalRemoveAssociation;e.setAssociation=this._fnOriginalSetAssociation;e.removeAllAssociation=this._fnOriginalRemoveAllAssociation;var t=e.getMetadata().getAllAggregations();Object.keys(t).forEach(function(i){var a=t[i];e[a._sMutator]=this._aOriginalAddMutators[a.name];e[a._sInsertMutator]=this._aOriginalInsertMutators[a.name];e[a._sRemoveMutator]=this._aOriginalRemoveMutators[a.name];e[a._sRemoveAllMutator]=this._aOriginalRemoveAllMutators[a.name];e[a._sDestructor]=this._aOriginalDestructors[a.name]},this);var i=e.getMetadata().getAllAssociations();Object.keys(i).forEach(function(t){var a=i[t];e[a._sMutator]=this._aOriginalAddMutators[a.name];e[a._sRemoveMutator]=this._aOriginalRemoveMutators[a.name];e[a._sRemoveAllMutator]=this._aOriginalRemoveAllMutators[a.name]},this);e.detachEvent("_change",this._fnFireModified,this)}delete this._fnOriginalDestroy;delete this._fnOriginalBindProperty;delete this._fnOriginalUnBindProperty;delete this._fnOriginalBindAggregation;delete this._fnOriginalUnBindAggregation;delete this._fnOriginalSetParent;delete this._fnOriginalAddAggregation;delete this._fnOriginalRemoveAggregation;delete this._fnOriginalInsertAggregation;delete this._fnOriginalSetAggregation;delete this._fnOriginalRemoveAllAggregations;delete this._fnOriginalDestroyAggregation;delete this._aOriginalAddMutators;delete this._aOriginalInsertMutators;delete this._aOriginalRemoveMutators;delete this._aOriginalRemoveAllMutators;delete this._aOriginalDestructors};a.prototype.getTargetInstance=function(){return t.getElementInstance(this.getTarget())};a.prototype._isAggregationObservable=function(e){return this.getAggregations()===null||i(this.getAggregations(),e)};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/MetadataPropagationUtil", ["sap/ui/dt/Util","sap/base/util/merge","sap/base/util/isEmptyObject"],function(t,a,e){"use strict";var n={};n._getParentPropagationInfo=function(t){if(!t||!t["propagationInfos"]){return false}return Object.assign([],t["propagationInfos"])};n._getCurrentRelevantContainerPropagation=function(a,e){var n={};if(!a.propagateRelevantContainer){return n}else if(typeof a.propagateRelevantContainer==="function"){n.relevantContainerFunction=a.propagateRelevantContainer;n.relevantContainerElement=e}else if(typeof a.propagateRelevantContainer==="boolean"&&a.propagateRelevantContainer){n.relevantContainerFunction=function(){return true};n.relevantContainerElement=e}else{var r=t.wrapError("Wrong type: it should be either a function or a boolean value and it is:"+typeof a.propagateRelevantContainer);var o="sap.ui.dt.MetadataPropagationUtil#_getCurrentRelevantContainerPropagation";r.name="Error in "+o;r.message=t.printf("{0} / {1}",o,r.message);throw r}return n};n._getCurrentDesigntimePropagation=function(a,e){var n={};if(!a.propagateMetadata){return n}else if(typeof a.propagateMetadata==="function"){n.relevantContainerElement=e;n.metadataFunction=a.propagateMetadata}else{var r=t.wrapError("Wrong type: it should be a function and it is:"+typeof a.propagateRelevantContainer);var o="sap.ui.dt.MetadataPropagationUtil#_getCurrentDesigntimePropagation";r.name="Error in "+o;r.message=t.printf("{0} / {1}",o,r.message);throw r}return n};n._setPropagationInfo=function(t,a,n){if(!n&&e(a)){return false}t.propagationInfos=n||[];if(!e(a)){t.propagationInfos.push(a)}return t};n.propagateMetadataToAggregationOverlay=function(t,a,r){var o;var i;var g;var p=Object.assign({},t);var s=n._getParentPropagationInfo(r);if(p&&!e(p)){g=n._getCurrentRelevantContainerPropagation(p,a);i=n._getCurrentDesigntimePropagation(p,a)}if(s||!e(g)||!e(i)){o=Object.assign({},g,i);return n._setPropagationInfo(p,o,s)}return p};n.getRelevantContainerForPropagation=function(t,a){var e=false;if(!t||!t.propagationInfos){return false}t.propagationInfos.some(function(t){if(t.relevantContainerFunction&&t.relevantContainerFunction(a)){e=t.relevantContainerElement;return true}});return e||false};n.getMetadataForPropagation=function(t,n){var r={};if(!t||!t.propagationInfos){return false}var o=t.propagationInfos.slice().reverse();r=o.reduce(function(t,e){if(e.metadataFunction){var r=e.metadataFunction(n,e.relevantContainerElement);return a(t,r)}return t},r);return e(r)?false:r};n.propagateMetadataToElementOverlay=function(t,e,r){var o=n.getRelevantContainerForPropagation(e,r);var i=n.getMetadataForPropagation(e,r);if(!o&&!i){return t}var g=a({},t);if(o){g.relevantContainer=o}if(i){if(i.actions===null||i.actions==="not-adaptable"){var p=r.getMetadata().getAllAggregations();var s=Object.keys(p);if(g.aggregations){s=s.concat(Object.keys(g.aggregations).filter(function(t){return s.indexOf(t)<0}))}else{g.aggregations={}}s.forEach(function(t){if(g.aggregations[t]&&g.aggregations[t].actions){g.aggregations[t].actions=i.actions}})}return a(g,i)}return g};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/MutationObserver", ["sap/ui/thirdparty/jquery","sap/ui/dt/OverlayUtil","sap/ui/base/ManagedObject","sap/ui/dt/DOMUtil","sap/base/util/restricted/_intersection","sap/base/util/restricted/_uniq"],function(jQuery,t,e,i,n,o){"use strict";var s=e.extend("sap.ui.dt.MutationObserver",{metadata:{library:"sap.ui.dt",events:{domChanged:{parameters:{type:{type:"string"},targetNodes:{type:"element[]"}}}}}});s.prototype.init=function(){this._mutationOnTransitionend=this._callDomChangedCallback.bind(this,"MutationOnTransitionend");this._mutationOnAnimationEnd=this._callDomChangedCallback.bind(this,"MutationOnAnimationEnd");this._fireDomChangeOnScroll=this._fireDomChangeOnScroll.bind(this);this._mutationOnResize=this._callDomChangedOnResizeWithRoot.bind(this,"MutationOnResize");window.addEventListener("transitionend",this._mutationOnTransitionend,true);window.addEventListener("animationend",this._mutationOnAnimationEnd,true);window.addEventListener("scroll",this._fireDomChangeOnScroll,true);jQuery(window).on("resize",this._mutationOnResize);this._aIgnoredMutations=[];this._bHandlerRegistered=false;this._mMutationHandlers={};this._aRootIds=[];this._startMutationObserver()};s.prototype.exit=function(){this._stopMutationObserver();window.removeEventListener("transitionend",this._mutationOnTransitionend,true);window.removeEventListener("animationend",this._mutationOnAnimationEnd,true);window.removeEventListener("scroll",this._fireDomChangeOnScroll,true);jQuery(window).off("resize",this._mutationOnResize);this._aIgnoredMutations=[];this._bHandlerRegistered=false;this._mMutationHandlers={}};s.prototype.ignoreOnce=function(t){this._aIgnoredMutations.push(t)};s.prototype.registerHandler=function(t,e,i){if(!this._mMutationHandlers[t]){this._mMutationHandlers[t]=[];this._bHandlerRegistered=true}this._mMutationHandlers[t].push(e);if(i&&this._aRootIds.indexOf(t)===-1){this._aRootIds.push(t)}};s.prototype.deregisterHandler=function(t){delete this._mMutationHandlers[t];if(Object.keys(this._mMutationHandlers).length===0){this._bHandlerRegistered=false}this._aRootIds=this._aRootIds.filter(function(e){return e!==t})};s.prototype._hasScrollbar=function(t,e){return t||i.hasScrollBar(e)};s.prototype._getIdsWhenRegistered=function(t,e,i){var n;if(e&&this._mMutationHandlers[e]){n=e;if(!i.closestElementInWhitlist){i.closestElementInWhitlist=e}}i.result=t?n:i.closestElementInWhitlist;return i};s.prototype._getClosestParentIdForNodeRegisteredWithScrollbar=function(t,e){var i={closestElementInWhitlist:undefined,result:undefined};var n=false;var o=jQuery(e);var s=t;do{n=this._hasScrollbar(n,o);i=this._getIdsWhenRegistered(n,s,i);o=o.parent();s=o.attr("data-sap-ui")}while(!(i.result&&n)&&o.length&&o[0]!==document);return i.result||i.closestElementInWhitlist};s.prototype._isNodeOverlayRelated=function(t,e){var n="overlay-container";if(i.contains(n,t)){return true}if(t===document.body){return e&&e.addedNodes&&e.addedNodes[0]&&e.addedNodes[0].getAttribute&&e.addedNodes[0].getAttribute("id")===n}return false};s.prototype._getRelevantElementId=function(t,e){var n=t&&t.getAttribute&&t.getAttribute("id");var o;if(!this._isNodeOverlayRelated(t,e)&&document.body.contains(t)&&n!=="sap-ui-static"&&!i.contains("sap-ui-preserve",t)){var s=0;while(this._aRootIds.length>s&&!o){if(i.contains(this._aRootIds[s],t)||t.contains(document.getElementById(this._aRootIds[s]))){o=this._aRootIds[s]}s++}}return o};s.prototype._getRelevantElementIdsFromStaticArea=function(t){return t.target.id==="sap-ui-static"&&n([].concat(Array.prototype.slice.call(t.addedNodes),Array.prototype.slice.call(t.removedNodes)).map(function(t){return t.id}),Object.keys(this._mMutationHandlers))};s.prototype._ignoreMutation=function(t){return this._aIgnoredMutations.some(function(e,i,n){if(e.target===t.target&&(!e.type||e.type===t.type)){n.splice(i,1);return true}})};s.prototype._getTargetNode=function(t){var e=t.type==="characterData"?t.target.parentNode:t.target;if(e&&e.getRootNode()&&e.getRootNode().host){return e.getRootNode().host}return e};s.prototype._callRelevantCallbackFunctions=function(t,e){t=o(t);t.forEach(function(t){(this._mMutationHandlers[t]||[]).forEach(function(t){t({type:e})})}.bind(this))};function a(t){this._oMutationObserver.observe(t,{childList:true,subtree:true,attributes:true,attributeFilter:["style","class","width","height","border"],characterData:true})}s.prototype._startMutationObserver=function(){this._oMutationObserver=new window.MutationObserver(function(t){if(this._bHandlerRegistered){var e=t.reduce(function(t,e){var i=[];var n=this._getTargetNode(e);var o=this._getRelevantElementId(n,e);if(o){i.push(o)}else{i=this._getRelevantElementIdsFromStaticArea(e)}if(i.length&&!this._ignoreMutation(e)){return t.concat(i)}return t}.bind(this),[]);if(e.length){this._callRelevantCallbackFunctions(e,"MutationObserver")}}}.bind(this));a.call(this,window.document)};s.prototype.addNode=function(t){a.call(this,t)};s.prototype._stopMutationObserver=function(){if(this._oMutationObserver){this._oMutationObserver.disconnect();delete this._oMutationObserver}};s.prototype._callDomChangedCallback=function(t,e){var i=e.target;if(this._bHandlerRegistered&&i!==window){var n=this._getRelevantElementId(i);if(n){this._callRelevantCallbackFunctions([n],t)}}};s.prototype._callDomChangedOnResizeWithRoot=function(t){if(this._aRootIds.length){if(this._iApplyStylesRequest){window.cancelAnimationFrame(this._iApplyStylesRequest)}this._iApplyStylesRequest=window.requestAnimationFrame(function(){this._callRelevantCallbackFunctions(this._aRootIds,t);delete this._iApplyStylesRequest}.bind(this))}};s.prototype._fireDomChangeOnScroll=function(e){var i=e.target;var n=[];if(this._bHandlerRegistered&&i!==document){var o=this._getRelevantElementId(i);if(o){n.push(o)}else if(i.getAttribute("id")!=="sap-ui-static"){n=this._aRootIds.filter(function(t){return i.contains(document.getElementById(t))})}if(n.length&&!t.getClosestOverlayForNode(i)){this._callRelevantCallbackFunctions(n,"MutationOnScroll")}}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/Overlay", ["sap/ui/thirdparty/jquery","sap/ui/core/Element","sap/ui/dt/MutationObserver","sap/ui/dt/ElementUtil","sap/ui/dt/OverlayUtil","sap/ui/dt/DOMUtil","sap/ui/dt/ScrollbarSynchronizer","sap/ui/dt/Util","sap/base/Log","sap/ui/dt/util/ZIndexManager"],function(jQuery,e,t,i,r,s,n,o,a,l){"use strict";var h="overlay-container";var d;var c;var p=e.extend("sap.ui.dt.Overlay",{metadata:{library:"sap.ui.dt",properties:{visible:{type:"boolean",defaultValue:true},focusable:{type:"boolean",defaultValue:false},isRoot:{type:"boolean",defaultValue:false},isPartOfTemplate:{type:"boolean",defaultValue:false}},associations:{element:{type:"sap.ui.base.ManagedObject"}},aggregations:{children:{type:"sap.ui.dt.Overlay",multiple:true},designTimeMetadata:{type:"sap.ui.dt.DesignTimeMetadata",altTypes:["function","object"],multiple:false}},events:{init:{},initFailed:{},afterRendering:{},beforeDestroy:{},destroyed:{parameters:{}},visibleChanged:{parameters:{visible:"boolean"}},geometryChanged:{},childAdded:{},scrollSynced:{},isRootChanged:{parameters:{value:{type:"boolean"}}},beforeGeometryChanged:{},applyStylesRequired:{parameters:{type:{type:"string"},targetOverlay:{type:"sap.ui.dt.ElementOverlay"}}}}},constructor:function(){this._aStyleClasses=this._aStyleClasses.slice(0);this._oScrollbarSynchronizers=new Map;this._aBindParameters=[];e.apply(this,arguments);if(!this.getElement()){throw o.createError("Overlay#constructor",o.printf("Cannot create overlay without a valid element. Expected a descendant of sap.ui.core.Element or sap.ui.core.Component, but {0} was given",o.getObjectType(arguments[0].element)))}this.asyncInit().then(function(){if(this._bShouldBeDestroyed){this.fireInitFailed({error:o.createError("Overlay#asyncInit","ElementOverlay is destroyed during initialization ('"+this.getId()+"')")})}else{this._bInit=true;this.fireInit()}}.bind(this)).catch(function(e){var t=o.propagateError(e,"Overlay#asyncInit",o.printf("Can't initialize overlay (id='{0}') properly. Original error: {1}",this.getId(),o.wrapError(e).message));this.fireInitFailed({error:t})}.bind(this));this.attachEventOnce("afterRendering",function(e){var t=jQuery(e.getParameter("domRef"));this._aBindParameters.forEach(function(e){t.on(e.sEventType,e.fnProxy)})},this)},_bInit:false,_bRendered:false,_$DomRef:null,_aStyleClasses:["sapUiDtOverlay"],_bShouldBeDestroyed:false,_aBindParameters:null});p.getOverlayContainer=function(){if(!d){d=jQuery("<div></div>").attr("id",h).appendTo("body")}return d};p.removeOverlayContainer=function(){if(d){d.remove()}d=undefined};p.getMutationObserver=function(){if(!c){c=new t}return c};p.destroyMutationObserver=function(){if(c){c.destroy();c=null}};p.prototype.asyncInit=function(){return Promise.resolve()};p.prototype._getAttributes=function(){return{id:this.getId(),"data-sap-ui":this.getId(),class:this._aStyleClasses.join(" "),tabindex:this.isFocusable()?0:null}};p.prototype._renderChildren=function(){return this.getChildren().map(function(e){return e.isRendered()?e.$():e.render()})};p.prototype.render=function(e){if(this.isRendered()){return this.getDomRef()}this._$DomRef=jQuery("<div></div>").attr(this._getAttributes());this._$Children=jQuery("<div></div>").attr({class:"sapUiDtOverlayChildren"}).appendTo(this._$DomRef);this._$Children.append(this._renderChildren());this._bRendered=true;if(!e){this.fireAfterRendering({domRef:this._$DomRef.get(0)})}return this._$DomRef};p.prototype.isInit=function(){return this._bInit};p.prototype.isRendered=function(){return this._bRendered};p.prototype.isReady=function(){return this.isInit()&&this.isRendered()};p.prototype.addStyleClass=function(e){if(!this.hasStyleClass(e)){this._aStyleClasses.push(e);if(this.isReady()){this.$().addClass(e)}}};p.prototype.hasStyleClass=function(e){return this._aStyleClasses.indexOf(e)!==-1};p.prototype.removeStyleClass=function(e){if(this.hasStyleClass(e)){this._aStyleClasses=this._aStyleClasses.filter(function(t){return t!==e});if(this.isReady()){this.$().removeClass(e)}}};p.prototype.toggleStyleClass=function(e){this[(this.hasStyleClass(e)?"remove":"add")+"StyleClass"](e)};p.prototype.setElement=function(e){if(!this.getElement()){this.setAssociation("element",e);if(this._designTimeMetadataCache){this.setDesignTimeMetadata(this._designTimeMetadataCache);delete this._designTimeMetadataCache}}};p.prototype.destroy=function(){if(this.bIsDestroyed){a.error("FIXME: Do not destroy overlay twice (overlayId = "+this.getId()+")!");return}this.fireBeforeDestroy();e.prototype.destroy.apply(this,arguments)};p.prototype.exit=function(){this._oScrollbarSynchronizers.forEach(function(e){e.destroy()});this._oScrollbarSynchronizers.clear();this.$().remove();delete this._bInit;delete this._bShouldBeDestroyed;delete this._$DomRef;delete this._oScrollbarSynchronizers;this.fireDestroyed()};p.prototype.setDesignTimeMetadata=function(e){if(!this.getElement()){this._designTimeMetadataCache=e}else{this.setAggregation("designTimeMetadata",e)}};p.prototype.getDomRef=function(){return this.$().get(0)};p.prototype.getChildrenDomRef=function(){return this._$Children.get(0)};p.prototype.$=function(){return this._$DomRef||jQuery()};p.prototype.getAssociatedDomRef=function(){throw new Error("This method is abstract and needs to be implemented")};p.prototype.getElementInstance=function(){return this.getElement()};p.prototype.getElement=function(){return i.getElementInstance(this.getAssociation("element"))};p.prototype.hasFocus=function(){return document.activeElement===this.getDomRef()};p.prototype.focus=function(){this.$().trigger("focus")};p.prototype.setFocusable=function(e){e=!!e;if(this.getFocusable()!==e){this.setProperty("focusable",e);this.toggleStyleClass("sapUiDtOverlayFocusable");this.$().attr("tabindex",e?0:null)}};p.prototype.isFocusable=function(){return this.getFocusable()};p.prototype._getRenderingParent=function(){return this.isRoot()?null:this.getParent().$()};p.prototype.applyStyles=function(e,t){var i;this.fireBeforeGeometryChanged();if(!this.isRendered()||this._bIsBeingDestroyed||this.getShouldBeDestroyed()){return Promise.resolve()}if(this.getVisible()){i=this.getGeometry(!t)}var r=Promise.resolve();if(this.isVisible()){if(i&&i.visible){this._setSize(this.$(),i);var s=this._getRenderingParent();if(!this.isRoot()){var n=[];this.getParent()._oScrollbarSynchronizers.forEach(function(e){if(e.isSyncing()){n.push(new Promise(function(t){e.attachEventOnce("synced",t);e.attachEventOnce("destroyed",t)}))}});if(n.length){r=Promise.all(n).then(function(){return this._applySizes(i,s,e)}.bind(this))}else{r=this._applySizes(i,s,e)}}else{r=this._applySizes(i,s,e)}}else{this.$().css("display","none")}}else{this.$().css("display","none")}return r.catch(function(e){a.error(o.createError("Overlay#applyStyles","An error occurred during applySizes calculation: "+e))}).then(function(){this.fireGeometryChanged()}.bind(this))};p.prototype._applySizes=function(e,t,i){this._setPosition(this.$(),e,t,i);if(e.domRef){this._setZIndex(e,this.$())}var r=this.getChildren().filter(function(e){return e.isRendered()}).map(function(e){var t={};t.bForceScrollbarSync=i;return new Promise(function(i){e.attachEventOnce("geometryChanged",i);e.fireApplyStylesRequired(t)})});return Promise.all(r)};p.prototype._setZIndex=function(e,t){var i=e.domRef;var r=s.getZIndex(i);if(o.isInteger(r)){t.css("z-index",r)}else if(this.isRoot()){this._iZIndex=this._iZIndex||l.getZIndexBelowPopups();t.css("z-index",this._iZIndex)}};p.prototype._setSize=function(e,t){e.css("display","block");var i=t.size;e.css("width",i.width+"px");e.css("height",i.height+"px")};p.prototype._setPosition=function(e,t,i){var r=s.getOffsetFromParent(t,i?i.get(0):null);e.css("transform","translate("+r.left+"px, "+r.top+"px)")};p.prototype._setClipPath=function(e,t){var i=t.css("clip-path");e.css("clip-path",i)};p.prototype.attachBrowserEvent=function(e,t,i){if(e&&typeof e==="string"){if(typeof t==="function"){if(!this._aBindParameters){this._aBindParameters=[]}i=i||this;var r=t.bind(i);this._aBindParameters.push({sEventType:e,fnHandler:t,oListener:i,fnProxy:r});this.$().on(e,r)}}return this};p.prototype.detachBrowserEvent=function(e,t,i){if(e&&typeof e==="string"){if(typeof t==="function"){i=i||this;if(this._aBindParameters){var r=this.$();var s;for(var n=this._aBindParameters.length-1;n>=0;n--){s=this._aBindParameters[n];if(s.sEventType===e&&s.fnHandler===t&&s.oListener===i){this._aBindParameters.splice(n,1);r.off(e,s.fnProxy)}}}}}return this};p.prototype._deleteDummyContainer=function(e,t,i){var r=e.find(">.sapUiDtDummyScrollContainer");if(r.length){var s=this._oScrollbarSynchronizers.get(e.get(0));r.remove();s.attachEventOnce("synced",function(){s.destroy();this._oScrollbarSynchronizers.delete(e.get(0));if(t._oScrollbarSynchronizers.size===0&&!t.getChildren().some(function(e){return e._oScrollbarSynchronizers.size>0})){t.removeStyleClass("sapUiDtOverlayWithScrollBar");t.removeStyleClass("sapUiDtOverlayWithScrollBarVertical");t.removeStyleClass("sapUiDtOverlayWithScrollBarHorizontal")}}.bind(this));s.sync(i,true)}};p.prototype._handleOverflowScroll=function(e,t,i,r){var o=e.domRef;var a=e.size;var l=s.getOverflows(o);t.css("overflow-x",l.overflowX);t.css("overflow-y",l.overflowY);var h=o.scrollHeight;var d=o.scrollWidth;if(h>Math.ceil(a.height)||d>Math.ceil(a.width)){var c=t.find("> .sapUiDtDummyScrollContainer");var p;if(!c.length){c=jQuery("<div class='sapUiDtDummyScrollContainer'></div>");c.height(h);c.width(d);if(i&&s.hasVerticalScrollBar(o)&&i._hasSameSize(e,"height")){i.addStyleClass("sapUiDtOverlayWithScrollBar");i.addStyleClass("sapUiDtOverlayWithScrollBarVertical")}if(i&&s.hasHorizontalScrollBar(o)&&i._hasSameSize(e,"width")){i.addStyleClass("sapUiDtOverlayWithScrollBar");i.addStyleClass("sapUiDtOverlayWithScrollBarHorizontal")}t.append(c);p=new n({synced:this.fireScrollSynced.bind(this)});p.addTarget(o,t.get(0));this._oScrollbarSynchronizers.set(t.get(0),p)}else{c.css({height:h,width:d});p=this._oScrollbarSynchronizers.get(t.get(0));if(!p.hasTarget(o)){p.addTarget(o)}}if(r){p.sync(o,true)}}else{this._deleteDummyContainer(t,i,o)}};p.prototype.getGeometry=function(e){if(e||!this._mGeometry){var t=this.getAssociatedDomRef();var i;if(t){var n=this.isRoot();i=jQuery.makeArray(t).map(function(e){return s.getGeometry(e,n)})}else{i=this.getChildren().map(function(e){return e.getGeometry(true)})}if(i.length){this._mGeometry=i.length>1?r.getGeometry(i):i[0]}else{delete this._mGeometry}}return this._mGeometry};p.prototype.setVisible=function(e){e=!!e;if(this.getVisible()!==e){this.setProperty("visible",e);this.$().css("visibility",e?"":"hidden");this.fireVisibleChanged({visible:e})}};p.prototype.isVisible=function(){return this.getVisible()&&(this.isRoot()?true:this.getParent().isVisible())};p.prototype.setIsRoot=function(e){e=!!e;if(this.getIsRoot()!==e){this.setProperty("isRoot",e);this.fireIsRootChanged({value:e})}};p.prototype.isRoot=function(){return this.getIsRoot()};p.prototype.getShouldBeDestroyed=function(){return this._bShouldBeDestroyed};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/OverlayRegistry", ["sap/ui/base/ManagedObject","sap/ui/dt/ElementUtil","sap/ui/dt/Util","sap/base/util/isEmptyObject"],function(e,t,a,r){"use strict";var i={};var n="sap.ui.dt.ElementOverlay";var s="sap.ui.dt.AggregationOverlay";var g={};var l={};i.getOverlay=function(e){var a=typeof e==="string"?e:t.getElementInstance(e)&&t.getElementInstance(e).getId();return g[a]||l[a]};i.getOverlays=function(){return a.objectValues(g)};i.register=function(e){if(!u(e)){var t="sap.ui.dt.OverlayRegistry#register";var a=new Error(t+" / Attempt to register illegal overlay");a.name=t;throw a}g[e.getId()]=e;if(e.getMetadata().getName()===n){l[e.getAssociation("element")]=e}};i.deregister=function(e){if(!u(e)){var t="sap.ui.dt.OverlayRegistry#deregister";var a=new Error(t+" / Attempt to deregister illegal overlay");a.name=t;throw a}delete g[e.getId()];if(e.getMetadata().getName()===n){delete l[e.getAssociation("element")]}};i.hasOverlays=function(){return!r(g)};function u(t){return t instanceof e&&[n,s].indexOf(t.getMetadata().getName())>-1}return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/OverlayUtil", ["sap/ui/dt/OverlayRegistry","sap/ui/dt/ElementUtil","sap/ui/core/UIArea"],function(e,n,r){"use strict";var t={};t.isInTargetZoneAggregation=function(e){var n=e.getParent();return!!n&&n.isTargetZone()};t.getParentInformation=function(e){var r=e.getParentElementOverlay();if(r){var t=r.getElement();var i=e.getParentAggregationOverlay().getAggregationName();var a=n.getAggregation(t,i);var g=e.getElement();var l=a.indexOf(g);return{parent:t,aggregation:i,index:l}}return{parent:null,aggregation:"",index:-1}};t.getClosestOverlayFor=function(n){if(!n){return null}var r=n;var t=e.getOverlay(r);while(r&&!t){r=r.getParent();t=e.getOverlay(r)}return t};t.getGeometry=function(e){var n;var r;var t;var i;e.forEach(function(e){if(e&&e.visible){if(!n||e.position.left<n){n=e.position.left}if(!t||e.position.top<t){t=e.position.top}var a=e.position.left+e.size.width;if(!r||a>r){r=a}var g=e.position.top+e.size.height;if(!i||g>i){i=g}}});if(typeof n==="number"){return{size:{width:r-n,height:i-t},position:{left:n,top:t},visible:true}}};t.getFirstDescendantByCondition=function(e,n){if(!n){throw new Error("expected condition is 'undefined' or not a function")}var r=t.getAllChildOverlays(e);for(var i=0,a=r.length;i<a;i++){var g=r[i];if(n(g)){return g}var l=this.getFirstDescendantByCondition(g,n);if(l){return l}}return undefined};t.getLastDescendantByCondition=function(e,n){if(!n){throw new Error("expected condition is 'undefined' or not a function")}var r=t.getAllChildOverlays(e);for(var i=r.length-1,a=-1;i>a;i--){var g=r[i];if(n(g)){return g}var l=this.getLastDescendantByCondition(g,n);if(l){return l}}return undefined};t.getAllChildOverlays=function(e){var n=[];var r=[];if(!e){return n}var t=e.getChildren();for(var i=0;i<t.length;i++){r=t[i].getChildren();if(r&&r.length>0){n=n.concat(r)}}return n};t.getFirstChildOverlay=function(e){var n=this.getAllChildOverlays(e);if(n.length){return n[0]}return undefined};t.getLastChildOverlay=function(e){var n=this.getAllChildOverlays(e);if(n.length){return n[n.length-1]}return undefined};t.getNextSiblingOverlay=function(e){if(!e){return undefined}var n=e.getParentAggregationOverlay();if(n){var r=n.getChildren();var t=r.indexOf(e);if(t!==r.length-1){return r[t+1]}else if(t===r.length-1){var i=e.getParentElementOverlay();r=i.getAggregationOverlays();for(t=r.indexOf(n)+1;t<r.length;t++){var a=r[t].getChildren();if(a.length){return a[0]}}}}};t.getPreviousSiblingOverlay=function(e){if(!e){return undefined}var n=e.getParentAggregationOverlay();if(n){var r=n.getChildren();var t=r.indexOf(e);if(t>0){return r[t-1]}else if(t===0){var i=e.getParentElementOverlay();r=i.getAggregationOverlays();for(t=r.indexOf(n)-1;t>=0;t--){var a=r[t].getChildren();if(a.length){return a[a.length-1]}}}}};t.getNextOverlay=function(e){if(!e){return undefined}var n=this.getFirstChildOverlay(e);if(n){return n}var r=this.getNextSiblingOverlay(e);if(r){return r}do{e=e.getParentElementOverlay();r=this.getNextSiblingOverlay(e)}while(e&&!r);return r};t.getPreviousOverlay=function(e){if(!e){return undefined}var n=e.getParentAggregationOverlay();if(!n){return undefined}var r=this.getPreviousSiblingOverlay(e);if(r){var t=r;do{r=t;t=this.getLastChildOverlay(r)}while(t);return r}return e.getParentElementOverlay()};t.iterateOverlayElementTree=function(e,n){n(e);e.getAggregationOverlays().forEach(function(e){e.getChildren().forEach(function(e){this.iterateOverlayElementTree(e,n)},this)},this)};t.getClosestOverlayForNode=function(e){var r=n.getClosestElementForNode(e);return t.getClosestOverlayFor(r)};t.findAllSiblingOverlaysInContainer=function(e,n){var r=e.getParentElementOverlay();var i=[];if(r){if(r!==n){var a=t.findAllSiblingOverlaysInContainer(r,n);i=a.map(function(n){var r=n.getAggregationOverlay(e.getParentAggregationOverlay().getAggregationName());return r?r.getChildren():[]}).reduce(function(e,n){return e.concat(n)},[])}else{var g=e.getParentAggregationOverlay().getAggregationName();var l=r.getAggregationOverlay(g);i=l&&l.getChildren()||[]}}i=i.filter(function(e){return e.getDesignTimeMetadata()});return i};t.findAllOverlaysInContainer=function(n,r){var i=n.getRelevantContainer()||n.getElement();var a=e.getOverlay(i);var g=[];if(!a){return g}var l=t._findAllSiblingsAndParents(n,a,0,r);if(l[0]){for(var o in l){g=g.concat(l[o])}var f=[];var v=r?g:l[0];v.forEach(function(e){f=f.concat(t._findAllChildrenInContainer(e,i))});g=g.concat(f)}else{g=t._findAllChildrenInContainer(n,i)}g.push(a);g=g.filter(function(e){return e.getDesignTimeMetadata()});return g};t._findAllSiblingsAndParents=function(e,n,r,i){var a=e.getParentElementOverlay();if(!a){return[]}function g(e){var n=e.getAggregationNames();var r=[];n.forEach(function(n){var t=e.getAggregationOverlay(n);var i=t?t.getChildren():[];r=i.concat(r)});return r}if(a!==n){var l;var o;l=t._findAllSiblingsAndParents(a,n,r+1,i);if(i){var f=[];l[r+1].forEach(function(e){f.concat(g(e))});l[r]=f;return l}o=l[r+1].map(function(n){var r=e.getParentAggregationOverlay().getAggregationName();var t=n.getAggregationOverlay(r);return t?t.getChildren():[]}).reduce(function(e,n){return e.concat(n)},[]);l[r]=o;return l}var v=[];if(i){v=g(a)}else{var u=e.getParentAggregationOverlay().getAggregationName();v=e.getParentElementOverlay().getAggregationOverlay(u).getChildren()}var d={};d[r]=v;return d};t._findAllChildrenInContainer=function(e,n,r){r=r||[];if(e.getChildren().length>0){e.getChildren().forEach(function(e){e.getChildren().forEach(function(e){if(e.getRelevantContainer()===n){r.push(e);t._findAllChildrenInContainer(e,n,r)}})})}return r};t.findAllUniqueAggregationOverlaysInContainer=function(e,n){var r=t.findAllSiblingOverlaysInContainer(e,n);return r.map(function(e){return e.getParentAggregationOverlay()}).filter(function(e,n,r){return r.indexOf(e)===n})};t.getIndexInAggregation=function(r,t,i){var a=n.getAggregation(t,i).filter(function(n){return!!e.getOverlay(n)||n===r});return a.indexOf(r)};function i(e,n){var t;var a;var g=e.getParent();var l=false;if(e.isA("sap.ui.dt.ElementOverlay")){var o=e.getParentElementOverlay();if(g){t=g.getAggregationName();a=g.getChildren().indexOf(e);l=o&&o.getAggregationOverlay(t,"AggregationBindingTemplateOverlays")}else{a=-1}n.push({overlayId:e.getId(),aggregation:t,index:a});if(l){return{overlayId:o.getId(),aggregation:t,stack:n}}}if(!g||g instanceof r){return{overlayId:undefined,aggregation:undefined,stack:n}}return i(g,n)}t.getClosestBoundControl=function(e){return i(e,[])};t.findParentOverlaysWithScrollbar=function(e){var n=[];function r(e){if(e._oScrollbarSynchronizers.size>0){n.push(e)}if(!e.getParent()){return n}return r(e.getParent())}return r(e)};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/Plugin", ["sap/ui/base/ManagedObject","sap/ui/dt/OverlayRegistry"],function(e,t){"use strict";var i=e.extend("sap.ui.dt.Plugin",{metadata:{abstract:true,library:"sap.ui.dt",properties:{designTime:{type:"object",multiple:false},busy:{type:"boolean",defaultValue:false}},events:{processingStatusChange:{parameters:{processing:{type:"boolean"}}}}}});i.prototype._bProcessingCounter=0;i.prototype._oBusyPromise={};i.prototype.init=function(){};i.prototype.exit=function(){this.setDesignTime(null)};i.prototype.setDesignTime=function(e){var t=this.getDesignTime();if(t){this._deregisterOverlays(t)}this.setProperty("designTime",e);if(e){this._registerOverlays(e)}return this};i.prototype._registerOverlays=function(e){if(this.registerElementOverlay||this.registerAggregationOverlay){var t=e.getElementOverlays();this.setProcessingStatus(true);t.forEach(this.callElementOverlayRegistrationMethods.bind(this));this.setProcessingStatus(false)}};i.prototype._deregisterOverlays=function(e){if(this.deregisterElementOverlay||this.deregisterAggregationOverlay){var t=e.getElementOverlays();t.forEach(this._callElementOverlayDeregestrationMethods.bind(this))}};i.prototype.callAggregationOverlayRegistrationMethods=function(e){if(this.registerAggregationOverlay){var t=e.getAggregationOverlays();t.forEach(this.registerAggregationOverlay.bind(this))}};i.prototype.callElementOverlayRegistrationMethods=function(e){if(this.registerElementOverlay){this.registerElementOverlay(e)}this.callAggregationOverlayRegistrationMethods(e)};i.prototype._callElementOverlayDeregestrationMethods=function(e){if(this.deregisterElementOverlay){this.deregisterElementOverlay(e)}if(this.deregisterAggregationOverlay){var t=e.getAggregationOverlays();t.forEach(this.deregisterAggregationOverlay.bind(this))}};i.prototype._onElementOverlayCreated=function(e){var t=e.getParameter("elementOverlay");this.callElementOverlayRegistrationMethods(t)};i.prototype.getMenuItems=function(){return[]};i.prototype.getActionName=function(){};i.prototype.isBusy=i.prototype.getBusy;i.prototype.setBusy=function(e){if(e&&!this.getBusy()){this._oBusyPromise.promise=new Promise(function(e){this._oBusyPromise.resolveFunction=e}.bind(this))}else if(!e&&this.getBusy()&&this._oBusyPromise.resolveFunction){this._oBusyPromise.resolveFunction()}this.setProperty("busy",e);return this};i.prototype.waitForBusyAction=function(){return this._oBusyPromise.promise||Promise.resolve()};i.prototype.setProcessingStatus=function(e){this._bProcessingCounter=e?this._bProcessingCounter+1:this._bProcessingCounter-1;if(e===true&&this._bProcessingCounter===1||e===false&&this._bProcessingCounter===0){this.fireProcessingStatusChange({processing:e})}};i.prototype.getAction=function(e){return e.getDesignTimeMetadata()?e.getDesignTimeMetadata().getAction(this.getActionName(),e.getElement()):null};i.prototype.getSelectedOverlays=function(){return this.getDesignTime().getSelectionManager().get()};i.prototype.getActionText=function(e,t,i){var r=t.name;var s=e.getElement();if(r){if(typeof r==="function"){return r(s)}return e.getDesignTimeMetadata()?e.getDesignTimeMetadata().getLibraryText(s,r):""}return sap.ui.getCore().getLibraryResourceBundle("sap.ui.rta").getText(i)};i.prototype.isAvailable=function(){return false};i.prototype.handler=function(){};i.prototype.isEnabled=function(e){if(!Array.isArray(e)||e.length>1){return false}var t=e[0];var i=this.getAction(t);if(!i){return false}var r=t.getElement();if(i.isEnabled===undefined){return true}if(typeof i.isEnabled==="function"){return i.isEnabled(r)}return i.isEnabled};i.prototype._getMenuItems=function(e,t){var i=this.enhanceItemWithResponsibleElement({id:t.pluginId,handler:this.handler.bind(this),enabled:this.isEnabled.bind(this),rank:t.rank,icon:t.icon,group:t.group},e);var r=i.responsible||e;var s=r[0];var n=this.getAction(s);if(!n||!this.isAvailable(r)){return[]}i.text=this.getActionText(s,n,t.pluginId);return[i]};i.prototype.isResponsibleElementActionAvailable=function(e,t){var i=e.getDesignTimeMetadata();if(i){return i.isResponsibleActionAvailable(t||this.getActionName())}return false};i.prototype.getResponsibleElementOverlay=function(e){var i=e.getElement();var r=e.getDesignTimeMetadata();if(r){var s=r.getResponsibleElement(i);if(s){try{return t.getOverlay(s)}catch(t){return e}}}return e};i.prototype.enhanceItemWithResponsibleElement=function(e,t,i){var r=[];var s=i||[this.getActionName()];var n=s.some(function(e){if(this.isResponsibleElementActionAvailable(t[0],e)){r=t.map(this.getResponsibleElementOverlay.bind(this));return true}}.bind(this));return Object.assign(e,n&&{responsible:r})};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/ScrollbarSynchronizer", ["sap/ui/base/ManagedObject","sap/ui/dt/DOMUtil","sap/ui/thirdparty/jquery"],function(t,e,jQuery){"use strict";var r=t.extend("sap.ui.dt.ScrollbarSynchronizer",{metadata:{library:"sap.ui.dt",properties:{scrollTop:{type:"float"},scrollLeft:{type:"float"},targets:{type:"any[]",defaultValue:[]}},events:{synced:{},destroyed:{}}},_bSyncing:false,constructor:function(){this._scrollEventHandler=this._scrollEventHandler.bind(this);t.apply(this,arguments)}});r.prototype.getTargets=function(){return this.getProperty("targets").slice(0)};r.prototype.setTargets=function(t){var e=Array.isArray(t)?t:[t];this.getTargets().forEach(this.removeTarget.bind(this));this.addTarget.apply(this,e)};r.prototype.removeTarget=function(t){this._detachScrollEvent(t);this.setProperty("targets",this.getTargets().filter(function(e){return e!==t}))};r.prototype.addTarget=function(){var t=Array.prototype.slice.call(arguments);if(!t.length){return}this._removeDeadNodes();t.forEach(this._attachScrollEvent,this);var e=this.getTargets().concat(t);this.setProperty("targets",e);this.sync(e[0])};r.prototype.hasTarget=function(t){return this.getTargets().indexOf(t)>-1};r.prototype._removeDeadNodes=function(){this.getTargets().forEach(function(t){if(!document.body.contains(t)){this.removeTarget(t)}},this)};r.prototype._attachScrollEvent=function(t){jQuery(t).on("scroll",this._scrollEventHandler)};r.prototype._detachScrollEvent=function(t){jQuery(t).off("scroll",this._scrollEventHandler)};r.prototype._scrollEventHandler=function(t){this.sync(t.target)};r.prototype.sync=function(t,r){if(r||this.getScrollTop()!==t.scrollTop||this.getScrollLeft()!==jQuery(t).scrollLeft()){this.setScrollTop(t.scrollTop);this.setScrollLeft(jQuery(t).scrollLeft());if(this._bSyncing){this._abortSync()}this._bSyncing=true;this.animationFrame=window.requestAnimationFrame(function(){this.getTargets().filter(function(e){return t!==e}).forEach(function(r){e.syncScroll(t,r)});this._bSyncing=false;this.fireSynced()}.bind(this))}};r.prototype._abortSync=function(){window.cancelAnimationFrame(this.animationFrame);this._bSyncing=false};r.prototype.destroy=function(){this.getTargets().forEach(function(t){this.removeTarget(t)},this);this._abortSync();this.fireDestroyed();t.prototype.destroy.apply(this,arguments)};r.prototype.isSyncing=function(){return this._bSyncing};r.prototype.refreshListeners=function(){this.getTargets().forEach(function(t){this._detachScrollEvent(t);this._attachScrollEvent(t)},this)};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/SelectionManager", ["sap/ui/base/ManagedObject","sap/ui/dt/OverlayRegistry","sap/ui/dt/Util","sap/ui/dt/SelectionMode","sap/ui/dt/ElementOverlay","sap/base/util/includes"],function(t,e,i,r,n,a){"use strict";var o=t.extend("sap.ui.dt.SelectionManager",{metadata:{events:{change:{parameters:{selection:{type:"sap.ui.dt.ElementOverlay[]"}}}}}});function s(t){return i.castArray(t).map(function(t){if(t instanceof n){return t}var i=e.getOverlay(t);if(i){return i}}).filter(function(t,e,i){return t&&i.indexOf(t)===e})}function u(t){return t.every(function(t){return t.isSelectable()})}o.prototype.init=function(){this._aSelection=[];this._aValidators=[];this.addValidator(u)};o.prototype.exit=function(){delete this._aSelection;delete this._aValidators};o.prototype.getSelectionMode=function(){return this._aSelection.length>1?r.Multi:r.Single};o.prototype.get=function(){return this._aSelection.slice()};o.prototype.set=function(t){var e=s(t);var i=false;if(this._validate(e)){var r=this.get().filter(function(t){return!a(e,t)});i=this._remove(r)||i;i=this._add(e)||i;if(i){this.fireChange({selection:this.get()})}}return i};o.prototype._validate=function(t){return this.getValidators().every(function(e){return e(t)})};o.prototype._add=function(t){var e=this.get();t=t.filter(function(t){return!a(e,t)});if(t.length){var i=e.concat(t);if(this._validate(i)){this._aSelection=i;t.forEach(function(t){t.setSelected(true)},this);return true}}return false};o.prototype.add=function(t){if(this._add(s(t))){this.fireChange({selection:this.get()});return true}return false};o.prototype._remove=function(t){var e=this.get();var i=e.filter(function(e){return!a(t,e)});if(i.length!==e.length){this._aSelection=i;t.forEach(function(t){t.setSelected(false)});return true}return false};o.prototype.remove=function(t){if(this._remove(s(t))){this.fireChange({selection:this.get()});return true}return false};o.prototype.reset=function(){return this.remove(this.get())};o.prototype.addValidator=function(t){if(typeof t==="function"&&!a(this._aValidators,t)){this._aValidators=this._aValidators.concat(t)}};o.prototype.removeValidator=function(t){this._aValidators=this._aValidators.filter(function(e){return t!==e})};o.prototype.getValidators=function(){return this._aValidators.slice()};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/SelectionMode", function(){"use strict";return{Multi:"Multi",Single:"Single"}},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/TaskManager", ["sap/ui/base/ManagedObject","sap/base/util/isPlainObject"],function(t,e){"use strict";var s=t.extend("sap.ui.dt.TaskManager",{metadata:{library:"sap.ui.dt",properties:{suppressEvents:{type:"boolean",defaultValue:false}},events:{add:{parameters:{taskId:"int"}},complete:{parameters:{taskId:"array"}}}},constructor:function(){t.apply(this,arguments);this._mQueuedTasks={};this._mPendingTasks={}},_iNextId:0,_iTaskCounter:0});function i(t){if(!e(t)||!t.type||typeof t.type!=="string"){throw new Error("Invalid task specified")}}function n(t){var e;if(typeof t==="string"){e=function(e){return e[t]}}else if(typeof t==="function"){e=t}else{throw new Error("Validator needs to be a function or a string")}return e}function r(t,e,s){if(t(s)===e){this._iTaskCounter--;return false}return true}s.prototype._removeTasksByIdentifier=function(t,e,s){if(e){var i=n(e);var u=i(t);if(this[s][t.type]&&u){this[s][t.type]=this[s][t.type].filter(r.bind(this,i,u))}}};s.prototype._removeTaskById=function(t,e){Object.keys(this[e]).forEach(function(s){this[e][s]=this[e][s].filter(function(e){if(e.id===t){this._iTaskCounter--;return false}return true}.bind(this))},this)};s.prototype._addTask=function(t){var e=this._iNextId++;this._mQueuedTasks[t.type]=this._mQueuedTasks[t.type]||[];this._mQueuedTasks[t.type].push(Object.assign({},t,{id:e}));this._iTaskCounter++;if(!this.getSuppressEvents()){this.fireAdd({taskId:e})}return e};s.prototype.add=function(t,e){i(t);this._removeTasksByIdentifier(t,e,"_mQueuedTasks");return this._addTask(t)};s.prototype.complete=function(t){this._removeTaskById(t,"_mQueuedTasks");this._removeTaskById(t,"_mPendingTasks");if(!this.getSuppressEvents()){this.fireComplete({taskId:[t]})}};s.prototype.completeBy=function(t){i(t);var e=[];var s=function(s){return(s||[]).filter(function(s){var i=Object.keys(t).every(function(e){return s[e]&&s[e]===t[e]});if(i){this._iTaskCounter--;e.push(s.id);return false}return true}.bind(this))}.bind(this);this._mQueuedTasks[t.type]=s(this._mQueuedTasks[t.type]);this._mPendingTasks[t.type]=s(this._mPendingTasks[t.type]);if(!this.getSuppressEvents()){this.fireComplete({taskId:e})}};s.prototype.cancel=function(t){this.complete(t)};s.prototype.cancelBy=function(t,e){this._removeTasksByIdentifier(t,e,"_mQueuedTasks");this._removeTasksByIdentifier(t,e,"_mPendingTasks")};s.prototype.isEmpty=function(){return this._iTaskCounter===0};s.prototype.count=function(t){return this.getList(t).length};s.prototype._markAsPending=function(t,e){this._mPendingTasks[t]=(this._mPendingTasks[t]||[]).concat(e);this._mQueuedTasks[t]=[]};s.prototype._getTypedList=function(t,e){var s=[];if(this._mQueuedTasks[t]){s=this._mQueuedTasks[t].slice(0)}if(e){this._markAsPending(t,s)}else if(this._mPendingTasks[t]){s=s.concat(this._mQueuedTasks[t].slice(0))}return s};s.prototype._getAllTasks=function(t){var e=[];e=Object.keys(this._mQueuedTasks).reduce(function(e,s){e=e.concat(this._mQueuedTasks[s]);if(t){this._markAsPending(s,this._mQueuedTasks[s])}return e}.bind(this),[]);if(!t){e=e.concat(Object.keys(this._mPendingTasks).reduce(function(t,e){return t.concat(this._mPendingTasks[e])}.bind(this),[]))}return e};s.prototype.getList=function(t){if(t){return this._getTypedList(t,false)}return this._getAllTasks(false)};s.prototype.getQueuedTasks=function(t){if(t){return this._getTypedList(t,true)}return this._getAllTasks(true)};s.prototype.destroy=function(){this.setSuppressEvents(true);this.getList().forEach(function(t){this.cancel(t.id)},this);t.prototype.destroy.apply(this,arguments)};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/TaskRunner", ["sap/ui/dt/TaskManager","sap/ui/dt/Util","sap/base/Log"],function(s,t,e){"use strict";var a=function(e){if(!e||!e.taskManager||!(e.taskManager instanceof s)){throw t.createError("TaskRunner#constructor","sap.ui.dt.TaskRunner: TaskManager required")}this._oTaskManager=e.taskManager;this._sInitialTaskType=e.taskType;this._sObservedTaskType=e.taskType;this._iRequestId=undefined;this.bIsStopped=true;this._oTaskPromise=Promise.resolve()};a.prototype._shouldObserveBreak=function(){if(this.bIsStopped||!this._oTaskManager||this._oTaskManager.bIsDestroyed){this.bIsStopped=true;return true}return false};a.prototype._observe=function(s){this._oTaskPromise=this._oTaskPromise.then(function(){if(this._shouldObserveBreak()){this.stop()}else{this._runTasksFromManager(s)}}.bind(this))};a.prototype._runTasksFromManager=function(){var s=this._oTaskManager.getQueuedTasks(this._sObservedTaskType);if(s.length){this._runTasks(s)}};a.prototype._runTasks=function(s){s.forEach(function(s){if(s.callbackFn){s.callbackFn().then(function(){this._oTaskManager.complete(s.id)}.bind(this)).catch(function(a){this._oTaskManager.complete(s.id);e.error(t.errorToString(a)+" / related task: "+JSON.stringify(s))}.bind(this))}}.bind(this))};a.prototype.run=function(s){this._sObservedTaskType=s||this._sInitialTaskType;this.bIsStopped=false;this._oTaskManager.attachAdd(this._observe,this);this._observe()};a.prototype.stop=function(){this.bIsStopped=true;this._oTaskManager.detachAdd(this._observe,this)};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/Util", ["sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/base/ManagedObject","sap/ui/dt/DesignTimeStatus"],function(jQuery,r,e,n){"use strict";var t={};var i="sap.ui.dt";function a(r){return!isNaN(parseFloat(r))&&isFinite(r)}t.wrapError=function(r){var e=r instanceof Error&&r||new Error;if(typeof r==="string"){e.message=r}return e};t.isForeignError=function(r,e){if(r instanceof Error){return r.name.indexOf(e||i)===-1}throw t.createError("Util#isForeignError","Wrong parameter specified")};t.createError=function(r,e,n){var t=new Error;var a=(n||i)+(r?"."+r:"");t.name="Error in "+a;t.message=e;return t};t.errorToString=function(r){if(typeof r==="string"){return r}else if(r instanceof Error){var e=r.toString();if(r.stack){e+="\n"+r.stack.replace(e,"").trim()}return e}throw t.createError("Util#errorToString","Wrong parameter specified")};t.propagateError=function(r,e,n,a){var o=t.wrapError(r);if(t.isForeignError(o,a)){var u=(a||i)+"."+e;var s=[o.name,o.message].join(" - ");o.name="Error in "+u;o.message=t.printf("{0}. Original error: {1}",n,s||"¯\\_(ツ)_/¯")}return o};t.getObjectType=function(r){return r instanceof e&&t.printf('{0} (id = "{1}")',r.getMetadata().getName(),r.getId())||typeof r};t.printf=function(r){var e=Array.prototype.slice.call(arguments,1);return r.replace(/{(\d+)}/g,function(r,n){return typeof e[n]!=="undefined"?e[n]:r})};t.objectValues=function(r){return jQuery.map(r,function(r){return r})};t.isInteger=function(r){return a(r)&&Math.ceil(r)===r};t.castArray=function(r){var e=[];if(r){if(!Array.isArray(r)){e.push(r)}else{e=r}}return e};t.wrapIntoPromise=function(r){if(typeof r!=="function"){throw t.createError("Util#wrapIntoPromise",t.printf("Invalid argument specified. Function is expected, but '{0}' is given",typeof r),"sap.ui.dt")}return function(){var e=Array.prototype.slice.call(arguments);return Promise.resolve().then(function(){return r.apply(null,e)})}};t.isWebkit=function(){return r.browser.webkit&&(r.browser.safari||r.browser.chrome&&r.browser.mobile)};t.waitForSynced=function(r,e){return function(){e=e||function(){};var t=arguments;return new Promise(function(i,a){if(r.getStatus()===n.SYNCING){r.attachEventOnce("synced",function(){i(e.apply(null,t))});r.attachEventOnce("syncFailed",a)}else{i(e.apply(null,t))}})}};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/enablement/ElementEnablementTest", ["sap/ui/thirdparty/jquery","sap/ui/dt/enablement/Test","sap/ui/dt/DesignTime","sap/ui/dt/enablement/Util","sap/base/util/ObjectPath","sap/ui/dt/ElementOverlay","sap/ui/qunit/utils/waitForThemeApplied","sap/ui/thirdparty/sinon-4"],function(jQuery,e,t,i,r,s,n,a){"use strict";var o=e.extend("sap.ui.dt.test.ElementEnablementTest",{metadata:{library:"sap.ui.dt",properties:{type:{type:"string"},create:{type:"any"},timeout:{type:"int",defaultValue:0},groupPostfix:{type:"string"}}}});var d=0;var l;o.prototype.init=function(){this._aAggregatedTestResult=null;this._aAggregatedInfoResult=null;this._sAggregation=null;this._$TestAreaDomRef=null;if(d===0){l=a.stub(s.prototype,"_subscribeToMutationObserver")}d++};o.prototype.exit=function(){if(this._oDesignTime){this._oDesignTime.destroy()}d--;if(d===0){l.restore()}window.clearTimeout(this._iTimeout);this._oElement.destroy();if(this._$TestAreaDomRef){this._$TestAreaDomRef.remove();delete this._$TestAreaDomRef}};o.prototype.run=function(){return this._setup().then(function(){this._mResult=this.createSuite("Element Enablement Test");var e=this.addGroup(this._mResult.children,this.getType(),"Given that a DesignTime is created for "+this.getType());this._testAggregations(e.children);this._mResult=this.aggregate(this._mResult);return this._mResult}.bind(this))};o.prototype._createElement=function(){var e=this.getType();var t=this.getCreate();var i=r.get(e||"");var s;if(t){s=t()}else{s=new i}if(s.addStyleClass){s.addStyleClass("minSize")}return s};o.prototype._getTestArea=function(){if(!this._$TestAreaDomRef){this._$TestAreaDomRef=jQuery("<div id='"+this.getId()+"--testArea"+"'></div>").css({height:"500px",width:"1000px"}).appendTo("body")}return this._$TestAreaDomRef};o.prototype._setup=function(){window.clearTimeout(this._iTimeout);this._bNoRenderer=false;this._bErrorDuringRendering=false;return new Promise(function(e){n().then(function(){this._oElement=this._createElement();try{this._oElement.getRenderer()}catch(e){this._bNoRenderer=true}if(!this._bNoRenderer){try{this._oElement.placeAt(this._getTestArea().get(0));sap.ui.getCore().applyChanges()}catch(e){this._bErrorDuringRendering=true}if(!this._bErrorDuringRendering){this._oDesignTime=new t({rootElements:[this._oElement]});this._oDesignTime.attachEventOnce("synced",function(){if(this.getTimeout()){this._iTimeout=window.setTimeout(function(){e()},this.getTimeout())}else{e()}},this)}else{e()}}else{e()}}.bind(this))}.bind(this))};o.prototype._testAggregations=function(t){var r=this.addGroup(t,"Aggregations","Each aggregation needs to be ignored or has a visible domRef maintained in the metadata",this.getGroupPostfix());if(this._bNoRenderer){this.addTest(r.children,true,"Control has no renderer","Control has no renderer, not supported by the element test (requires a special element test)",e.STATUS.UNKNOWN)}else if(this._bErrorDuringRendering){this.addTest(r.children,true,"Error during rendering","Element can't be rendered, not supported by the DesignTime (please, provide a create method for this element)",e.STATUS.ERROR)}else{var s=i.getAggregationsInfo(this._oElement);for(var n in s){var a=s[n];var o=this.addGroup(r.children,n,a.ignored?"Aggregation ignored":"Aggregation tests");if(!a.ignored){this.addTest(o.children,a.overlayVisible,"Overlay Visible","Overlay domRef is visible in DOM");if(a.domRefDeclared){this.addTest(o.children,a.domRefDeclared,"Dom Ref Declared","DomRef is declared in design time metadata");this.addTest(o.children,a.domRefFound,"Dom Ref Found","Declared DomRef is found in DOM");this.addTest(o.children,a.domRefVisible,"Dom Ref Visible","Declared DomRef is visible")}else if(a.overlayVisible){this.addTest(o.children,a.overlayGeometryCalculatedByChildren,"Overlay Geometry calculated by children","Control might work based on DT Heuristic, but safer with domRefDeclared",e.STATUS.PARTIAL_SUPPORTED)}else{this.addTest(o.children,false,"Overlay Dom Ref","Overlay domRef is not declared and aggregation overlay is not visible (please, declare domRef for this aggregation)",e.STATUS.PARTIAL_SUPPORTED)}if(a.overlayTooSmall){this.addTest(o.children,false,"Overlay too small","Aggregation Overlay is too small to be accessible, please ensure to render it big enough that it can be reach by a user. If content is needed, provide a create method for this element",e.STATUS.PARTIAL_SUPPORTED)}}}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/enablement/Test", ["sap/ui/base/ManagedObject"],function(t){"use strict";var e=t.extend("sap.ui.dt.test.Test",{metadata:{abstract:true}});e.STATUS={SUPPORTED:{key:"SUPPORTED",text:"supported",value:3},PARTIAL_SUPPORTED:{key:"PARTIAL_SUPPORTED",text:"partial supported",value:2},NOT_SUPPORTED:{key:"NOT_SUPPORTED",text:"not supported",value:1},ERROR:{key:"ERROR",text:"error",value:0},UNKNOWN:{key:"UNKNOWN",text:"unknown",value:0}};e.TYPE={TEST:"Test",GROUP:"Group",SUITE:"Suite"};e.prototype.createSuite=function(t,s){return this.add(null,false,t,s,null,e.TYPE.SUITE)};e.prototype.addGroup=function(t,s,r,u){return this.add(t,true,s+(u?" ("+u+")":""),r,null,e.TYPE.GROUP)};e.prototype.addTest=function(t,s,r,u,a){return this.add(t,s,r,u,a,e.TYPE.TEST)};e.prototype.add=function(t,s,r,u,a,i){if(!a){if(s){a=e.STATUS.SUPPORTED}else{a=e.STATUS.NOT_SUPPORTED}}var n={name:r,message:u,result:s,status:a,type:i,statistic:{},children:[]};if(t){t.push(n)}return n};e.prototype.run=function(){throw new Error("Abstract method")};e.prototype.aggregate=function(t){if(t.type!==e.TYPE.TEST&&t.children.length>0){var s=t.children;var r=s.map(function(t){var e=this.aggregate(t);return{result:e.result,status:e.status}},this);if(r.length===1){r.push(r[0])}var u=r.reduce(function(t,e){return{result:this._getResult(t,e),status:this._getStatus(t,e),statistic:this._getStatistic(t,e)}}.bind(this));t.result=u.result;t.status=u.status;t.statistic=u.statistic}return t};e.prototype._getResult=function(t,e){return!t.result?false:e.result};e.prototype._getStatus=function(t,e){return t.status.value<e.status.value?t.status:e.status};e.prototype._getStatistic=function(t,e){var s=this._getStatisticObjectForEntry(t);if(t!==e){s[e.status.key]++}return s};e.prototype._getStatisticObjectForEntry=function(t){var s={};if(!t.statistic){for(var r in e.STATUS){s[r]=0}s[t.status.key]++}else{s=t.statistic}return s};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/enablement/Util", ["sap/ui/dt/ElementUtil","sap/ui/dt/DOMUtil","sap/ui/dt/OverlayRegistry"],function(e,a,t){"use strict";var i=5;var r={};r.getInfo=function(e){var a=e.getMetadata();var i=t.getOverlay(e);return{metadata:a,overlay:i}};r.getAggregationInfo=function(e,t){var r={ignored:true,domRefDeclared:false,domRefFound:false,domRefVisible:false,overlayTooSmall:false,overlayGeometryCalculatedByChildren:false,overlayVisible:false};var o;var l=this.getInfo(e);var n=l.overlay.getAggregationOverlay(t);if(n){o=n.getDesignTimeMetadata()}if(o&&!o.isIgnored(e)){r.ignored=false;r.domRefDeclared=!!o.getDomRef();var g=n.getAssociatedDomRef();if(g){r.domRefFound=true;r.domRefVisible=a.isVisible(g.get(0))}var f=n.getGeometry();if(f){var s=f.size;r.overlayTooSmall=s.width<=i||s.height<=i;r.overlayGeometryCalculatedByChildren=!f.domRef;r.overlayVisible=f.visible}}return r};r.getAggregationsInfo=function(a){var t={};e.iterateOverAllPublicAggregations(a,function(e){t[e.name]=this.getAggregationInfo(a,e.name)}.bind(this));return t};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/enablement/elementDesigntimeTest", ["sap/ui/dt/enablement/report/QUnitReport","sap/ui/dt/enablement/ElementEnablementTest"],function(e,n){"use strict";var t=function(t){var r=new n(t);return r.run().then(function(n){var t=new e({data:n});r.destroy();t.destroy()})};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/enablement/libraryTest", ["sap/ui/model/resource/ResourceModel","sap/ui/model/json/JSONModel"],function(e,t){"use strict";var n=[];var i=[];var r={};var a;function s(e,t){return t.hasText(e)||t.getText(e,[],true)!==undefined}var o=function(s){return new Promise(function(o){sap.ui.getCore().loadLibraries([s]).then(function(){var u=sap.ui.getCore().getLoadedLibraries()[s];var c=u.controls.concat(u.elements);a=s;sap.ui.require(c.map(function(e){return e.replace(/\./g,"/")}),function(){var a=sap.ui.getCore().getLoadedLibraries();try{var u=new e({bundleUrl:sap.ui.require.toUrl(s,"messagebundle.properties"),bundleLocale:"en"});var c=new e({bundleUrl:sap.ui.require.toUrl(s+".designtime","messagebundle.properties"),bundleLocale:"en"});r.runtime=u.getResourceBundle();r.designtime=c.getResourceBundle();Object.keys(a).forEach(function(e){if(s!==e){u.enhance({bundleUrl:sap.ui.require.toUrl(e,"messagebundle.properties"),bundleLocale:"en"});c.enhance({bundleUrl:sap.ui.require.toUrl(e+".designtime","messagebundle.properties"),bundleLocale:"en"})}})}catch(e){}var f=[];var d=[];for(var p=0;p<arguments.length;p++){if(arguments[p].getMetadata()._oDesignTime){f.push(arguments[p].getMetadata().loadDesignTime());d.push(arguments[p].getMetadata())}}Promise.all(f).then(function(e){var r=0;n=e;i=n.map(function(e){var n=new t(e);n._oControlMetadata=d[r];r++;return n});l();o()})})})})};o.version=2;var u={"/":{optional:false,check:function(e,t,n){e.strictEqual(typeof t,"object",n+" is an object")}},"/designtimeModule":{optional:false,check:function(e,t,n){e.strictEqual(typeof t,"string",n+" defines /designtimeModule : "+t)}},"/actions":{optional:true,check:function(e,t,n){Object.keys(t).forEach(function(i){if(t[i].changeType){e.strictEqual(typeof t[i].changeType,"string",n+" defines "+i+" with changetype:"+t[i].changeType)}else if(typeof t[i]==="string"){e.strictEqual(typeof t[i],"string",n+" defines "+i+" as string")}else if(i==="settings"&&typeof t[i]==="object"){u["/actions"].check(e,t[i],n)}else{e.strictEqual(typeof t[i],"function",n+" defines "+i+" as function")}})}},"/name":{optional:true,check:function(e,t,n){if(typeof t==="string"&&t.indexOf("{")===0&&t.indexOf("}")===t.length-1){return true}var i=["singular","plural"];i.forEach(function(i){if(typeof t[i]==="function"){e.strictEqual(typeof t[i],"function",n+" defines mandatory entry /name/"+i)}else{e.strictEqual(typeof t[i],"string",n+" defines mandatory entry /name/"+i)}});i.forEach(function(i){var a=false;if(typeof t[i]==="function"){e.strictEqual(typeof t[i],"function",n+" defines function for translation of entry /name/"+i);e.strictEqual(typeof t[i](),"string","Assuming that "+i+" with "+t[i].toString()+" returns a translation at runtime");return}if(t[i].toUpperCase()!==t[i]){e.ok(true,"Assuming that "+i+" with "+t[i]+" needs currently no translation");return}if(r.designtime){a=s(t[i],r.designtime);e.strictEqual(a,true,t[i]+" found in designtime message bundle")}if(r.runtime){if(a){e.strictEqual(s(t[i],r.runtime),false,t[i]+" found in runtime message bundle and designtime message bundle, please delete the entry from the runtime message bundle (messagebundle.properties + messagebundle_en.properties)")}else{e.strictEqual(s(t[i],r.runtime),true,t[i]+" found in runtime message bundle only, consider to move this text to the designtime message bundle")}}})}},"/palette":{optional:true,check:function(e,t,n){var i=["ACTION","DISPLAY","LAYOUT","LIST","INPUT","CONTAINER","CHART","TILE","DIALOG"];e.strictEqual(typeof t,"object",n+" defines optional entry /palette/");e.strictEqual(i.indexOf(t.group)>-1,true,"palette entry defines valid group "+t.group);if(t.icons){return Promise.all(Object.keys(t.icons).map(function(n){var i=t.icons[n];e.strictEqual(typeof i,"string","palette/icons/"+n+" entry defines icon path "+i);return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",sap.ui.require.toUrl(i)+"",true);r.onload=function(){if(r.readyState===4){if(r.status===200){if(i.indexOf(".svg")===i.length-4){e.equal(r.responseXML.documentElement&&r.responseXML.documentElement.tagName,"svg","File "+i+" starts with a svg node")}t()}else{n()}}};r.send()})}))}}},"/templates":{optional:true,check:function(e,t){if(t.create){var n=t.create;e.strictEqual(typeof n,"string","templates/create entry defines fragment path to "+n);return new Promise(function(t,i){var r=new XMLHttpRequest;r.open("GET",sap.ui.require.toUrl(n)+"",true);r.onload=function(){if(r.readyState===4){if(r.status===200){e.ok(r.responseXML.documentElement&&r.responseXML.documentElement.localName==="FragmentDefinition","File "+n+" exists and starts with a FragmentDefinition node");t()}else{i()}}};r.send()})}}}};function l(){QUnit.test("Checking library.designtime.js",function(e){var t=sap.ui.getCore().getLoadedLibraries()[a];if(t.designtime){var n=e.async();sap.ui.require([t.designtime],function(i){e.ok(i!==null,t.designtime+" loaded successfully");n()})}else{e.ok(true,"No library.designtime.js "+a)}});QUnit.test("Checking loaded designtime data",function(e){n.forEach(function(t){e.strictEqual(t!==null,true,"Designtime data found and loaded successful");e.strictEqual(typeof t,"object","Designtime data returned an object")})});i.forEach(function(e){var t=e._oControlMetadata;var n=t.getName();QUnit.test(n+": Checking entries in designtime data",function(t){return Promise.all(Object.keys(u).map(function(i){var r=u[i];var a=e.getProperty(i);if(a===undefined&&!r.optional){t.equal(false,true,n+" does not define mandatory entry "+i);return Promise.resolve()}else if(a!==undefined&&r.optional){t.equal(true,true,n+" does define optional entry "+i);return r.check(t,a,n)}else if(a!==undefined&&!r.optional){t.equal(true,true,n+" does define mandatory entry "+i);return r.check(t,a,n)}}))})})}return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/enablement/report/LibraryReport", ["sap/ui/dt/enablement/Test","sap/ui/dt/enablement/ElementEnablementTest"],function(e,t){"use strict";var r=e.extend("sap.ui.dt.enablement.report.LibraryReport",{metadata:{library:"sap.ui.dt",properties:{libraryName:{type:"string"},testData:{type:"object"}}}});r.prototype.run=function(){this._aResult=[];var e=this.getTestData()||{};var r=this.getLibraryName();var a=[];var n=sap.ui.getCore().getLoadedLibraries()[r];if(n){var i=n.controls;i.forEach(function(r){var n=e[r];if(!n&&n!==false){n={}}if(n!==false){n.type=r;var i=null;if(n.create){i=Object.assign({},n);delete i.create;n.groupPostfix="with create method"}a.push(new t(n));if(i){a.push(new t(i))}}})}var s=[];var u=function(e){if(e){s.push(e)}var t=a.shift();if(t){return t.run().then(function(e){t.destroy();return u(e)})}return Promise.resolve(s)};return u().then(function(e){var t=this.createSuite("Library Enablement Test");e.forEach(function(e){var r=e.children[0];var a=t.children[t.children.length-1];if(a&&r.name===a.name){a.children=a.children.concat(r.children)}else{t.children.push(r)}});t=this.aggregate(t);return t}.bind(this))};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/enablement/report/QUnitReport", ["sap/ui/base/ManagedObject"],function(e){"use strict";var t=e.extend("sap.ui.dt.enablement.report.QUnitReport",{metadata:{library:"sap.ui.dt",properties:{data:{type:"object"}}},init:function(){if(!QUnit){throw new Error("QUnit is required for this report.")}},setData:function(e){if(e){var t=e.children;t.forEach(function(e){this._createModule(e)},this)}this.setProperty("data",e)},_createModule:function(e){QUnit.module(e.message);e.children.forEach(function(e){this._createTest(e)},this)},_createTest:function(e){QUnit.test(e.name+": "+e.message,function(t){e.children.forEach(function(e){this._createAssertion(t,e)},this)}.bind(this))},_createAssertion:function(e,t){if(t.children.length>0){t.children.forEach(function(i){e.ok(i.result,t.name+": "+i.message)})}else{e.ok(true,t.name+": "+t.message)}}});return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/enablement/report/Statistic", ["sap/ui/core/Control","sap/ui/model/json/JSONModel","sap/ui/layout/form/SimpleForm","sap/m/Label","sap/m/Text","./StatisticRenderer"],function(t,e,o,r,i,s){"use strict";var a=t.extend("sap.ui.dt.enablement.report.Statistic",{metadata:{library:"sap.ui.dt",properties:{data:{type:"object"}},aggregations:{_form:{type:"sap.ui.layout.form.SimpleForm",hidden:true,multiple:false}}},init:function(){this._oModel=null;this.setAggregation("_form",this._createForm())},exit:function(){this.setData(null)},setData:function(t){if(this._oModel){this._oModel.destroy();delete this._oModel}if(t){this._oModel=new e(t);this._getForm().setModel(this._oModel)}else{this._getForm().setModel(null)}this.setProperty("data",t)},_createForm:function(){var t=new o(this.getId()+"--form",{editable:false,title:"Statistics",content:[new r(this.getId()+"--form-supported-label",{text:"Supported"}),new i(this.getId()+"--form-supported-value",{text:"{/statistic/SUPPORTED}"}),new r(this.getId()+"--form-partial-supported-label",{text:"Partial Supported"}),new i(this.getId()+"--form-partial-supported-value",{text:"{/statistic/PARTIAL_SUPPORTED}"}),new r(this.getId()+"--form-not-supported-label",{text:"Not Supported"}),new i(this.getId()+"--form-not-supported-value",{text:"{/statistic/NOT_SUPPORTED}"}),new r(this.getId()+"--form-unknown-label",{text:"Unknown"}),new i(this.getId()+"--form-unknown-value",{text:"{/statistic/UNKNOWN}"}),new r(this.getId()+"--form-error-label",{text:"Error"}),new i(this.getId()+"--form-error-value",{text:"{/statistic/ERROR}"})]});return t},_getForm:function(){return this.getAggregation("_form")},renderer:s});return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/enablement/report/StatisticRenderer", function(){"use strict";var e={apiVersion:2};e.render=function(e,t){e.openStart("div",t);e.class("sapUiDtStatisticReport");e.openEnd();e.renderControl(t._getForm());e.close("div")};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/enablement/report/Table", ["sap/ui/core/Control","sap/ui/model/json/JSONModel","sap/ui/table/TreeTable","sap/ui/table/Column","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/m/Button","sap/m/SearchField","sap/m/Text","sap/m/RatingIndicator","./TableRenderer"],function(e,t,a,l,i,n,s,o,r,u,d){"use strict";var c=e.extend("sap.ui.dt.enablement.report.Table",{metadata:{library:"sap.ui.dt",properties:{data:{type:"object"}},aggregations:{_table:{type:"sap.ui.table.TreeTable",hidden:true,multiple:false}}},init:function(){this.setAggregation("_table",this._createTable())},exit:function(){clearTimeout(this._iFilterTimeout);this.setData(null)},setData:function(e){if(this._oModel){this._oModel.destroy();delete this._oModel}if(e){this._oModel=new t(e);this._getTable().setModel(this._oModel)}else{this._getTable().setModel(null)}this.setProperty("data",e)},filter:function(e){var t=this._getTable().getModel();if(t){if(e.length>0){var a=this.getData();var l=a.children.filter(function(t){if(e.indexOf("status=")!==-1){return t.status.value===e.substring(e.indexOf("=")+1)}return t.name.toLowerCase().indexOf(e.toLowerCase())!==-1});t.setData(l)}else{t.setData(this.getData())}}},_createTable:function(){var e=new a(this.getId()+"--table",{selectionMode:"MultiToggle",visibleRowCount:20,enableSelectAll:false,ariaLabelledBy:"title",toolbar:this._createToolbar(),rows:"{path:'/', parameters: {arrayNames:['children']}}",columns:[this._createTextColumn("name","Name","{name}"),this._createRatingIndicatorColumn("value","Status Values","{status/value}","{status/text} ({status/value})"),this._createTextColumn("status","Status","{status/text}"),this._createTextColumn("message","Message","{message}")]});return e},_createToolbar:function(){return new i(this.getId()+"--toolbar",{content:[new n(this.getId()+"--toolbar-spacer"),new s(this.getId()+"--toolbar-collapse-button",{text:"Collapse all",press:this._onCollapseAll.bind(this)}),new s(this.getId()+"--toolbar-expand-button",{text:"Expand",press:this._onExpandSecondLevel.bind(this)}),new o(this.getId()+"--toolbar-search-field",{liveChange:this._onSearch.bind(this)})]})},_onSearch:function(e){var t=e.getParameter("newValue");clearTimeout(this._iFilterTimeout);this._iFilterTimeout=setTimeout(function(){this.filter(t)}.bind(this),100)},_createTextColumn:function(e,t,a){return this._createColumn(e,t,new r({text:a}))},_createRatingIndicatorColumn:function(e,t,a,l){return this._createColumn(e,t,new u({maxValue:3,value:a,enabled:false,tooltip:l}))},_createColumn:function(e,t,a){return new l(this.getId()+"--table-column-"+e,{label:t,width:"13em",template:a})},_getTable:function(){return this.getAggregation("_table")},_onCollapseAll:function(){var e=this._getTable();e.collapseAll()},_onExpandSecondLevel:function(){var e=this._getTable();e.expandToLevel(2)},renderer:d});return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/enablement/report/TableRenderer", function(){"use strict";var e={apiVersion:2};e.render=function(e,n){e.openStart("div",n);e.class("sapUiDtTableReport");e.openEnd(">");e.renderControl(n._getTable());e.close("div")};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/library", ["sap/ui/base/ManagedObjectMetadata","sap/ui/dt/SelectionMode","sap/ui/core/library"],function(e){"use strict";var i=sap.ui.getCore().initLibrary({name:"sap.ui.dt",version:"1.108.6",dependencies:["sap.ui.core"],types:["sap.ui.dt.SelectionMode"],interfaces:[],controls:[],elements:[]});e.setDesignTimeDefaultMapping({"not-adaptable":"sap/ui/dt/designtime/notAdaptable.designtime","not-adaptable-tree":"sap/ui/dt/designtime/notAdaptableTree.designtime","not-adaptable-visibility":"sap/ui/dt/designtime/notAdaptableVisibility.designtime","not-removable":"sap/ui/dt/designtime/notAdaptableVisibility.designtime"});return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/plugin/ContextMenu", ["sap/ui/dt/Plugin","sap/m/Menu","sap/m/MenuItem","sap/ui/dt/Util","sap/ui/dt/OverlayRegistry","sap/ui/dt/util/_createPromise","sap/ui/Device","sap/base/assert","sap/ui/events/KeyCodes"],function(e,t,n,o,i,r,s,u,a){"use strict";var h=e.extend("sap.ui.dt.plugin.ContextMenu",{metadata:{library:"sap.ui.dt",properties:{contextElement:{type:"object"},openOnClick:{type:"boolean",defaultValue:true}},events:{openedContextMenu:{},closedContextMenu:{}}}});var c="sapUiDtContextMenu";var l="sapUiDtContextMiniMenu";h.prototype.init=function(){this.oContextMenuControl=new t;this.oContextMenuControl.attachItemSelected(this._onItemSelected,this);this.oContextMenuControl.attachClosed(this._contextMenuClosed,this);this.oContextMenuControl.addStyleClass(c);this._aMenuItems=[];this._aGroupedItems=[];this._aSubMenus=[]};h.prototype.exit=function(){delete this._aMenuItems;if(this.oContextMenuControl){this.oContextMenuControl.destroy()}};h.prototype.addMenuItem=function(e,t,n){var o={menuItem:e,fromPlugin:!!t,bPersistOneTime:n};this._aMenuItems.push(o)};h.prototype.registerElementOverlay=function(e){e.attachBrowserEvent("click",this._openContextMenu,this);e.attachBrowserEvent("touchstart",this._openContextMenu,this);e.attachBrowserEvent("contextmenu",this._openContextMenu,this);e.attachBrowserEvent("keydown",this._onKeyDown,this);e.attachBrowserEvent("keyup",this._onKeyUp,this)};h.prototype.deregisterElementOverlay=function(e){e.detachBrowserEvent("click",this._openContextMenu,this);e.detachBrowserEvent("touchstart",this._openContextMenu,this);e.detachBrowserEvent("contextmenu",this._openContextMenu,this);e.detachBrowserEvent("keydown",this._onKeyDown,this);e.detachBrowserEvent("keyup",this._onKeyUp,this)};h.prototype.open=function(e,t,i,s){var u;function a(o,i){i.forEach(function(i,r){var s=typeof i.text==="function"?i.text(e):i.text;var h=typeof i.enabled==="function"?i.enabled(u):i.enabled;var c;if(!t){c=s}o.addItem(new n({key:i.id,icon:i.icon,text:s,enabled:h}).setTooltip(c));if(i.submenu){a(o.getItems()[r],i.submenu)}})}this._bContextMenu=!!t;if(this._bContextMenu){this.oContextMenuControl.removeStyleClass(l)}else{this.oContextMenuControl.addStyleClass(l)}var h=e.getElement();if(this._fnCancelMenuPromise){if(this.getContextElement()===h){return}this._fnCancelMenuPromise();delete this._fnCancelMenuPromise}this.setContextElement(h);this.getDesignTime().getSelectionManager().attachChange(this._onSelectionChanged,this);u=this.getSelectedOverlays().filter(function(t){return t!==e});u.unshift(e);this._aMenuItems=this._aMenuItems.filter(function(e){if(e.bPersistOneTime){e.bPersistOneTime=false;return true}return!e.fromPlugin});this.oContextMenuControl.destroyItems();var c=Promise.resolve();if(!i){var p=r(function(e,t){o.waitForSynced(this.getDesignTime())().then(e).catch(t)}.bind(this));this._fnCancelMenuPromise=p.cancel;c=p.promise.then(function(){this._aGroupedItems=[];this._aSubMenus=[];var e=[];var t=this.getDesignTime().getPlugins();t.forEach(function(t){var n=t.getMenuItems(u);if(!(n instanceof Promise)){n=Promise.resolve(n)}e.push(n)});var n=r(function(t,n){Promise.all(e).then(t).catch(n)});this._fnCancelMenuPromise=n.cancel;return n.promise}.bind(this)).then(function(e){return e.reduce(function(e,t){return e.concat(t)})}).then(function(e){e.forEach(function(e){var n=typeof e.enabled==="function"?e.enabled(u):e.enabled;if(!n&&!t){return}if(e.group!==undefined&&!t){this._addMenuItemToGroup(e)}else if(e.submenu!==undefined){this._addSubMenu(e)}else{this.addMenuItem(e,true)}}.bind(this));this._addItemGroupsToMenu();delete this._fnCancelMenuPromise}.bind(this))}c.then(function(){var t=this._aMenuItems.map(function(e){return e.menuItem});if(t.length>0){t=this._sortMenuItems(t);a(this.oContextMenuControl,t);this.oContextMenuControl.openAsContextMenu(s,e)}this.fireOpenedContextMenu()}.bind(this)).catch(function(e){throw o.createError("ContextMenu#open","An error occurred during calling getMenuItems: "+e)})};h.prototype._sortMenuItems=function(e){return e.sort(function(e,t){if(!e.rank&&!t.rank){return 0}if(!e.rank&&t.rank){return-1}if(e.rank&&!t.rank){return 1}return e.rank-t.rank})};h.prototype._onItemSelected=function(e){this._ensureSelection(this._oCurrentOverlay);function t(e,t){var n=e.responsible||this.getSelectedOverlays()||[];u(n.length>0,"sap.ui.rta - Opening context menu, with empty selection - check event order");var o={};o.eventItem=t;o.contextElement=this.getContextElement();e.handler(n,o)}var n=e.getParameter("item").getKey();this._aMenuItems.some(function(o){var i=o.menuItem;if(n===o.menuItem.id){t.apply(this,[i,e]);return true}else if(i.submenu){i.submenu.some(function(o){if(n===o.id){t.apply(this,[o,e]);return true}}.bind(this))}},this)};h.prototype._onKeyUp=function(e){var t=i.getOverlay(e.currentTarget.id);if(e.keyCode===a.ENTER&&t.getIgnoreEnterKeyUpOnce()){t.setIgnoreEnterKeyUpOnce(false);e.stopPropagation();e.preventDefault();return}if((e.keyCode===a.SPACE||e.keyCode===a.ENTER)&&e.shiftKey===false&&e.altKey===false&&e.ctrlKey===false){if(!this._checkForPluginLock()){this._openContextMenu(e);e.stopPropagation();e.preventDefault()}}if(e.keyCode===a.F10&&e.shiftKey===true&&e.altKey===false&&e.ctrlKey===false){if(!this._checkForPluginLock()){this._openContextMenu(e);e.stopPropagation();e.preventDefault()}}};h.prototype._onKeyDown=function(e){var t=i.getOverlay(e.currentTarget.id);if(e.keyCode===a.SPACE&&e.shiftKey===false&&e.altKey===false&&e.ctrlKey===false){if(t&&t.isSelectable()&&!this._checkForPluginLock()){t.setSelected(true);e.stopPropagation();e.preventDefault()}}};h.prototype._openContextMenu=function(e){var t=i.getOverlay(e.currentTarget.id);if(t&&t.isSelectable()&&t.getSelected()){this._oCurrentOverlay=t;var n=e.type==="contextmenu"||e.keyCode===a.F10;this.open(t,n,undefined,e)}};h.prototype._contextMenuClosed=function(){this.oContextMenuControl.removeStyleClass(l);this.fireClosedContextMenu()};h.prototype._onSelectionChanged=function(){this.getDesignTime().getSelectionManager().detachChange(this._onSelectionChanged,this)};h.prototype._ensureSelection=function(e){if(e&&!e.isSelected()){e.setSelected(true)}};h.prototype._checkForPluginLock=function(){if(s.os.ios){return false}if(this.getDesignTime().getBusyPlugins().length){return true}return false};h.prototype._addMenuItemToGroup=function(e){var t=this._aGroupedItems.some(function(t){if(t.sGroupName===e.group){t.aGroupedItems.push(e);return true}});if(!t){this._aGroupedItems.push({sGroupName:e.group,aGroupedItems:[e]})}};h.prototype._addSubMenu=function(e){e.submenu.forEach(function(t){if(!t.handler){t.handler=e.handler}});this._aSubMenus.push({sSubMenuId:e.id,aSubMenuItems:e.submenu});this.addMenuItem(e,true)};h.prototype._addItemGroupsToMenu=function(){this._aGroupedItems.forEach(function(e){if(e.aGroupedItems.length===1){this.addMenuItem(e.aGroupedItems[0],true)}else{this.addMenuItem({id:e.sGroupName+"-groupItem",enabled:true,text:e.sGroupName,icon:e.aGroupedItems[0].icon,rank:e.aGroupedItems[0].rank,submenu:e.aGroupedItems},true)}}.bind(this))};return h});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/plugin/ControlDragDrop", ["sap/ui/dt/plugin/DragDrop","sap/ui/dt/plugin/ElementMover","sap/ui/dt/ElementUtil"],function(e,t,r){"use strict";var o=e.extend("sap.ui.dt.plugin.ControlDragDrop",{metadata:{library:"sap.ui.dt",properties:{draggableTypes:{type:"string[]",defaultValue:["sap.ui.core.Element"]},elementMover:{type:"any"},insertAfterElement:{type:"boolean",defaultValue:false}},associations:{}}});var i="sapUiDtOverlayDropZone";o.prototype.init=function(){e.prototype.init.apply(this,arguments);this.setElementMover(new t)};o.prototype.setElementMover=function(e){var t=this.getElementMover();if(t!==e){if(t){t.destroy()}this.setProperty("elementMover",e)}};o.prototype.setDraggableTypes=function(e){this.getElementMover().setMovableTypes(e);return this.setProperty("draggableTypes",e)};o.prototype.registerElementOverlay=function(t){var r=t.getElement();this.getElementMover().checkMovable(t).then(function(o){if(this.getElementMover().isMovableType(r)&&o){t.setMovable(true)}if(this.oDraggedElement){this.getElementMover().activateTargetZonesFor(t,i)}e.prototype.registerElementOverlay.call(this,t)}.bind(this))};o.prototype.deregisterElementOverlay=function(t){e.prototype.deregisterElementOverlay.apply(this,arguments);t.setMovable(false);if(this.oDraggedElement){this.getElementMover().deactivateTargetZonesFor(t,i)}};o.prototype.getDraggedOverlay=function(){return this._oDraggedOverlay};o.prototype.onDragStart=function(e){this._oDraggedOverlay=e;this.getElementMover().setMovedOverlay(e);this.getElementMover().activateAllValidTargetZones(this.getDesignTime(),i)};o.prototype.onDragEnd=function(){delete this._oPreviousTarget;this.getElementMover().deactivateAllTargetZones(this.getDesignTime(),i);delete this._oDraggedOverlay;this.getElementMover().setMovedOverlay(null)};o.prototype.onDragEnter=function(e){var t=this.getDraggedOverlay();if(e.getElement()!==t.getElement()&&e!==this._oPreviousTarget){this.getElementMover().repositionOn(t,e)}this._oPreviousTarget=e};o.prototype.onAggregationDragEnter=function(e){var t=e.getAggregationName();var o=e.getElement();if(r.getAggregation(o,t).length===0){delete this._oPreviousTarget;var i=this.getDraggedOverlay();this.getElementMover().insertInto(i,e,this.getInsertAfterElement())}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/plugin/CutPaste", ["sap/ui/dt/Plugin","sap/ui/dt/plugin/ElementMover","sap/ui/dt/OverlayUtil","sap/ui/dt/Util","sap/ui/dt/OverlayRegistry","sap/ui/events/KeyCodes","sap/ui/Device"],function(e,t,r,o,n,i,s){"use strict";var a=true;var l=e.extend("sap.ui.dt.plugin.CutPaste",{metadata:{library:"sap.ui.dt",properties:{movableTypes:{type:"string[]",defaultValue:["sap.ui.core.Element"]},elementMover:{type:"any"}},associations:{}}});l.prototype.init=function(){this.setElementMover(new t)};l.prototype.registerElementOverlay=function(e){var t=e.getElement();this.getElementMover().checkMovable(e).then(function(r){e.attachBrowserEvent("keydown",this._onKeyDown,this);if(this.getElementMover().isMovableType(t)&&r){e.setMovable(true)}if(this.getElementMover().getMovedOverlay()){this.getElementMover().activateTargetZonesFor(this.getElementMover().getMovedOverlay())}}.bind(this)).catch(function(e){throw o.createError("CutPaste#registerElementOverlay","An error occurred during checkMovable: "+e)})};l.prototype.deregisterElementOverlay=function(e){e.setMovable(false);e.detachBrowserEvent("keydown",this._onKeyDown,this);if(this.getElementMover().getMovedOverlay()){this.getElementMover().deactivateTargetZonesFor(this.getElementMover().getMovedOverlay())}};l.prototype.setMovableTypes=function(e){this.getElementMover().setMovableTypes(e);return this.setProperty("movableTypes",e)};l.prototype.setElementMover=function(e){e.setMovableTypes(this.getMovableTypes());return this.setProperty("elementMover",e)};l.prototype.getCuttedOverlay=function(){return this.getElementMover().getMovedOverlay()};l.prototype.isElementPasteable=function(e){var t=this._getTargetZoneAggregation(e);if(t||r.isInTargetZoneAggregation(e)){return true}return false};l.prototype._onKeyDown=function(e){var t=n.getOverlay(e.currentTarget.id);var r=s.os.macintosh?e.metaKey:e.ctrlKey;if(e.keyCode===i.X&&e.shiftKey===false&&e.altKey===false&&r===true){this.cut(t);e.stopPropagation()}else if(e.keyCode===i.V&&e.shiftKey===false&&e.altKey===false&&r===true){if(this.getElementMover().getMovedOverlay()){this.paste(t)}e.stopPropagation()}else if(e.keyCode===i.ESCAPE){this.stopCutAndPaste();e.stopPropagation()}};l.prototype.cut=function(e){this.stopCutAndPaste();if(e.isMovable()){this.getElementMover().setMovedOverlay(e);e.addStyleClass("sapUiDtOverlayCutted");return this.getElementMover().activateAllValidTargetZones(this.getDesignTime()).then(function(){e.focus()})}return Promise.resolve(undefined)};l.prototype._executePaste=function(e){var t=this.getElementMover().getMovedOverlay();if(!t){return false}var o=false;if(!this._isForSameElement(t,e)){var n=this._getTargetZoneAggregation(e);if(n){this.getElementMover().insertInto(t,n);o=true}else if(r.isInTargetZoneAggregation(e)){this.getElementMover().repositionOn(t,e,a);o=true}}if(o){t.setSelected(true);setTimeout(function(){t.focus()},0)}return o};l.prototype.paste=function(e){var t=this._executePaste(e);if(t===true){this.stopCutAndPaste()}};l.prototype.stopCutAndPaste=function(){var e=this.getElementMover().getMovedOverlay();if(e){e.removeStyleClass("sapUiDtOverlayCutted");this.getElementMover().setMovedOverlay(null);this.getElementMover().deactivateAllTargetZones(this.getDesignTime())}};l.prototype._isForSameElement=function(e,t){return t.getElement()===e.getElement()};l.prototype._getTargetZoneAggregation=function(e){var t=e.getAggregationOverlays();var r=t.filter(function(e){return e.isTargetZone()});if(r.length>0){return r[0]}return null};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/plugin/DragDrop", ["sap/ui/base/Object","sap/ui/dt/Plugin","sap/ui/dt/DOMUtil","sap/ui/dt/OverlayUtil","sap/ui/dt/OverlayRegistry","sap/ui/thirdparty/jquery","sap/ui/Device"],function(t,e,r,a,o,jQuery,n){"use strict";var i=e.extend("sap.ui.dt.plugin.DragDrop",{metadata:{abstract:true,library:"sap.ui.dt",properties:{},associations:{},events:{}}});var g=7;var s=false;var h;i.prototype._preventScrollOnTouch=function(t){if(s){t.preventDefault()}};i.prototype.init=function(){e.prototype.init.apply(this,arguments);document.addEventListener("touchmove",this._preventScrollOnTouch,true);this._dragScrollHandler=this._dragScroll.bind(this);this._dragLeaveHandler=this._dragLeave.bind(this);this._mScrollIntervals={}};i.prototype.exit=function(){e.prototype.exit.apply(this,arguments);document.removeEventListener("touchmove",this._preventScrollOnTouch);delete this._mElementOverlayDelegate;delete this._mAggregationOverlayDelegate;delete this._dragScrollHandler};i.prototype.registerElementOverlay=function(t){t.attachEvent("movableChange",this._onMovableChange,this);if(t.isMovable()){this._attachDragEvents(t)}t.attachBrowserEvent("dragover",this._onDragOver,this);t.attachBrowserEvent("dragenter",this._onDragEnter,this);t.attachBrowserEvent("dragleave",this._onDragLeave,this)};i.prototype.registerAggregationOverlay=function(t){t.attachTargetZoneChange(this._onAggregationTargetZoneChange,this);if(!n.browser.webkit){this._attachDragScrollHandler(t)}};i.prototype.deregisterElementOverlay=function(t){t.detachEvent("movableChange",this._onMovableChange,this);this._detachDragEvents(t);t.detachBrowserEvent("dragover",this._onDragOver,this);t.detachBrowserEvent("dragenter",this._onDragEnter,this);t.detachBrowserEvent("dragleave",this._onDragLeave,this)};i.prototype.deregisterAggregationOverlay=function(t){t.detachTargetZoneChange(this._onAggregationTargetZoneChange,this);if(!n.browser.webkit){this._removeDragScrollHandler(t);this._clearScrollIntervalFor(t.$().attr("id"))}};i.prototype._attachDragEvents=function(t){t.attachBrowserEvent("dragstart",this._onDragStart,this);t.attachBrowserEvent("drag",this._onDrag,this);t.attachBrowserEvent("dragend",this._onDragEnd,this);t.attachBrowserEvent("touchstart",this._onTouchStart,this)};i.prototype._detachDragEvents=function(t){t.detachBrowserEvent("dragstart",this._onDragStart,this);t.detachBrowserEvent("drag",this._onDrag,this);t.detachBrowserEvent("dragend",this._onDragEnd,this);t.detachBrowserEvent("touchstart",this._onTouchStart,this)};i.prototype.onMovableChange=function(){};i.prototype.onDragStart=function(){};i.prototype.onDragEnd=function(){};i.prototype.onDrag=function(){};i.prototype.onDragEnter=function(){};i.prototype.onDragLeave=function(){};i.prototype.onDragOver=function(){};i.prototype.onAggregationDragEnter=function(){};i.prototype.onAggregationDragOver=function(){};i.prototype.onAggregationDragLeave=function(){};i.prototype.onAggregationDrop=function(){};i.prototype._checkMovable=function(t){if(t.isMovable()||r.getDraggable(t.$())!==undefined){r.setDraggable(t.$(),t.isMovable())}};i.prototype._onMovableChange=function(t){var e=t.getSource();if(e.isMovable()){this._attachDragEvents(e)}else{this._detachDragEvents(e)}this.onMovableChange(e)};i.prototype._onDragStart=function(t){var e=o.getOverlay(t.currentTarget.id);t.stopPropagation();if(n.browser.firefox&&t&&t.originalEvent&&t.originalEvent.dataTransfer&&t.originalEvent.dataTransfer.setData){t.originalEvent.dataTransfer.setData("text/plain","")}this.setBusy(true);this.showGhost(e,t);this.onDragStart(e)};i.prototype._attachTouchDragEvents=function(t){t.attachBrowserEvent("touchmove",this._onTouchMove,this);t.attachBrowserEvent("touchend",this._onTouchEnd,this)};i.prototype._detachTouchDragEvents=function(t){t.detachBrowserEvent("touchmove",this._onTouchMove,this);t.detachBrowserEvent("touchend",this._onTouchEnd,this)};i.prototype._onTouchStart=function(t){var e=t.touches[0].pageX;var r=t.touches[0].pageY;var a=o.getOverlay(t.currentTarget.id);function n(){a.detachBrowserEvent("touchmove",h,this);a.detachBrowserEvent("touchend",v,this);a.detachBrowserEvent("contextmenu",v,this)}function i(t,a){var o=e-t;var n=r-a;return Math.sqrt(o*o+n*n)}function h(t){var e=t.touches[0].pageX;var r=t.touches[0].pageY;var o=i(e,r);if(o>g){this.onDragStart(a);n.call(this);this._attachTouchDragEvents(a)}}function v(){n.call(this);s=false}s=true;t.stopPropagation();a.attachBrowserEvent("touchmove",h,this);a.attachBrowserEvent("contextmenu",v,this);a.attachBrowserEvent("touchend",v,this)};i.prototype._getTargetOverlay=function(e){if(t.isA(e,"sap.ui.dt.Overlay")){var r;if(t.isA(e,"sap.ui.dt.AggregationOverlay")&&e.getTargetZone()){r=e}else if(t.isA(e,"sap.ui.dt.ElementOverlay")&&a.isInTargetZoneAggregation(e)){r=e}return r||this._getTargetOverlay(e.getParent())}};i.prototype._findTargetOverlayFromCoordinates=function(t,e){var r=document.elementFromPoint(t,e);var a=r?sap.ui.getCore().byId(r.id):undefined;return this._getTargetOverlay(a)};i.prototype._onTouchMove=function(e){var r=o.getOverlay(e.currentTarget.id);this.onDrag(r);var a=e.touches||e.changedTouches;var n=a[0].pageX;var i=a[0].pageY;var g=this._findTargetOverlayFromCoordinates(n,i);if(!g){return}if(g!==h){if(h){if(t.isA(h,"sap.ui.dt.AggregationOverlay")){this.onAggregationDragLeave(h)}else{this.onDragLeave(h)}}h=g;if(t.isA(g,"sap.ui.dt.AggregationOverlay")){this.onAggregationDragEnter(g)}else{this.onDragEnter(g)}}if(t.isA(g,"sap.ui.dt.AggregationOverlay")){this.onAggregationDragOver(g)}else{this.onDragOver(g)}e.stopPropagation()};i.prototype._getValidTargetZoneAggregationOverlay=function(e){if(t.isA(e,"sap.ui.dt.AggregationOverlay")&&e.getTargetZone()){return e}return this._getValidTargetZoneAggregationOverlay(e.getParent())};i.prototype._onTouchEnd=function(t){var e=o.getOverlay(t.currentTarget.id);var r=this._getValidTargetZoneAggregationOverlay(e);if(r){this.onAggregationDrop(r)}this.onDragEnd(e);this._detachTouchDragEvents(e);h=undefined;s=false};i.prototype.showGhost=function(t,e){if(e&&e.originalEvent&&e.originalEvent.dataTransfer){if(e.originalEvent.dataTransfer.setDragImage){this._$ghost=this.createGhost(t,e);this._$ghost.appendTo("#overlay-container");setTimeout(function(){this._removeGhost()}.bind(this),0);e.originalEvent.dataTransfer.setDragImage(this._$ghost.get(0),e.originalEvent.pageX-t.$().offset().left,e.originalEvent.pageY-t.$().offset().top)}}};i.prototype._removeGhost=function(){this.removeGhost();delete this._$ghost};i.prototype.removeGhost=function(){var t=this.getGhost();if(t){t.remove()}};i.prototype.createGhost=function(t){var e=t.getAssociatedDomRef();var a;if(!e){e=this._getAssociatedDomCopy(t);a=e}else{a=jQuery("<div></div>");jQuery.makeArray(e).forEach(function(t){r.cloneDOMAndStyles(t,a)})}var o=jQuery("<div></div>").addClass("sapUiDtDragGhostWrapper");return o.append(a.addClass("sapUiDtDragGhost"))};i.prototype._getAssociatedDomCopy=function(t){var e=jQuery("<div></div>");t.getAggregationOverlays().forEach(function(t){t.getChildren().forEach(function(t){var a=t.getAssociatedDomRef();if(a){r.cloneDOMAndStyles(a,e)}else{r.cloneDOMAndStyles(this._getAssociatedDomCopy(t),e)}},this)},this);return e};i.prototype.getGhost=function(){return this._$ghost};i.prototype._onDragEnd=function(t){this.setBusy(false);var e=o.getOverlay(t.currentTarget.id);this._removeGhost();this._clearAllScrollIntervals();this.onDragEnd(e);t.stopPropagation()};i.prototype._onDrag=function(t){var e=o.getOverlay(t.currentTarget.id);this.onDrag(e);t.stopPropagation()};i.prototype._onDragEnter=function(t){var e=o.getOverlay(t.currentTarget.id);if(a.isInTargetZoneAggregation(e)){if(!this.onDragEnter(e)){t.stopPropagation()}}t.preventDefault()};i.prototype._onDragLeave=function(t){var e=o.getOverlay(t.currentTarget.id);if(a.isInTargetZoneAggregation(e)){if(!this.onDragLeave(e)){t.stopPropagation()}}t.preventDefault()};i.prototype._onDragOver=function(t){var e=o.getOverlay(t.currentTarget.id);if(a.isInTargetZoneAggregation(e)){if(!this.onDragOver(e)){t.stopPropagation()}}t.preventDefault()};i.prototype._onAggregationTargetZoneChange=function(t){var e=t.getSource();var r=t.getParameter("targetZone");if(r){this._attachAggregationOverlayEvents(e)}else{this._detachAggregationOverlayEvents(e)}};i.prototype._attachAggregationOverlayEvents=function(t){t.attachBrowserEvent("dragenter",this._onAggregationDragEnter,this);t.attachBrowserEvent("dragover",this._onAggregationDragOver,this);t.attachBrowserEvent("dragleave",this._onAggregationDragLeave,this);t.attachBrowserEvent("drop",this._onAggregationDrop,this)};i.prototype._detachAggregationOverlayEvents=function(t){t.detachBrowserEvent("dragenter",this._onAggregationDragEnter,this);t.detachBrowserEvent("dragover",this._onAggregationDragOver,this);t.detachBrowserEvent("dragleave",this._onAggregationDragLeave,this);t.detachBrowserEvent("drop",this._onAggregationDrop,this)};i.prototype._onAggregationDragEnter=function(t){var e=o.getOverlay(t.currentTarget.id);this.onAggregationDragEnter(e);t.preventDefault();t.stopPropagation()};i.prototype._onAggregationDragOver=function(t){var e=o.getOverlay(t.currentTarget.id);this.onAggregationDragOver(e);t.preventDefault();t.stopPropagation()};i.prototype._onAggregationDragLeave=function(t){var e=o.getOverlay(t.currentTarget.id);this.onAggregationDragLeave(e);t.preventDefault();t.stopPropagation()};i.prototype._onAggregationDrop=function(t){var e=o.getOverlay(t.currentTarget.id);this.onAggregationDrop(e);t.preventDefault();t.stopPropagation()};var v=100;var l=20;var c=50;i.prototype._clearScrollInterval=function(t,e){if(this._mScrollIntervals[t]){window.clearInterval(this._mScrollIntervals[t][e]);delete this._mScrollIntervals[t][e]}};i.prototype._clearScrollIntervalFor=function(t){if(this._mScrollIntervals[t]){Object.keys(this._mScrollIntervals[t]).forEach(function(e){this._clearScrollInterval(t,e)},this)}};i.prototype._clearAllScrollIntervals=function(){Object.keys(this._mScrollIntervals).forEach(this._clearScrollIntervalFor.bind(this))};i.prototype._checkScroll=function(t,e,r){var a;var o;var n=1;if(e==="top"||e==="bottom"){a=t.outerHeight();o=t.scrollTop.bind(t)}else{a=t.outerWidth();o=t.scrollLeft.bind(t)}if(e==="top"||e==="left"){n=-1}var i=Math.floor(a/4);var g=v;if(i<v){g=i}if(r<g){this._mScrollIntervals[t.attr("id")]=this._mScrollIntervals[t.attr("id")]||{};if(!this._mScrollIntervals[t.attr("id")][e]){this._mScrollIntervals[t.attr("id")][e]=window.setInterval(function(){var t=o();o(t+n*l)},c)}}else{this._clearScrollInterval(t.attr("id"),e)}};i.prototype._dragLeave=function(t){var e=o.getOverlay(t.currentTarget.id);this._clearScrollIntervalFor(e.$().attr("id"))};i.prototype._dragScroll=function(t){var e=o.getOverlay(t.currentTarget.id);var r=e.$();var a=t.clientX;var n=t.clientY;var i=r.offset();var g=r.height();var s=r.width();var h=i.top;var v=i.left;var l=h+g;var c=v+s;this._checkScroll(r,"bottom",l-n);this._checkScroll(r,"top",n-h);this._checkScroll(r,"right",c-a);this._checkScroll(r,"left",a-v)};i.prototype._attachDragScrollHandler=function(e){var a;if(t.isA(e,"sap.ui.dt.AggregationOverlay")){a=e}else{a=e.srcControl}if(r.hasScrollBar(a.$())){a.getDomRef().addEventListener("dragover",this._dragScrollHandler,true);a.getDomRef().addEventListener("dragleave",this._dragLeaveHandler,true)}};i.prototype._removeDragScrollHandler=function(e){var r;if(t.isA(e,"sap.ui.dt.AggregationOverlay")){r=e}else{r=e.srcControl}var a=r.getDomRef();if(a){a.removeEventListener("dragover",this._dragScrollHandler,true)}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/plugin/ElementMover", ["sap/ui/base/Object","sap/ui/base/ManagedObject","sap/ui/dt/ElementUtil","sap/ui/dt/OverlayUtil","sap/ui/dt/Util"],function(e,t,r,a,n){"use strict";var o=t.extend("sap.ui.dt.plugin.ElementMover",{metadata:{library:"sap.ui.dt",properties:{movableTypes:{type:"string[]",defaultValue:["sap.ui.core.Element"]}},associations:{},events:{validTargetZonesActivated:{}}}});o.prototype._getMovableTypes=function(){return this.getProperty("movableTypes")||[]};o.prototype.isMovableType=function(t){var r=this._getMovableTypes();return r.some(function(r){return e.isA(t,r)})};o.prototype.checkMovable=function(){return Promise.resolve(true)};o.prototype.getMovedOverlay=function(){return this._oMovedOverlay};o.prototype.setMovedOverlay=function(e){if(e){this._source=a.getParentInformation(e)}else{delete this._source}this._oMovedOverlay=e};o.prototype._getSource=function(){return this._source};o.prototype.activateAllValidTargetZones=function(e,t){return this._iterateAllAggregations(e,this._activateValidTargetZone.bind(this),t,true).then(function(){this.fireValidTargetZonesActivated()}.bind(this))};o.prototype._activateValidTargetZone=function(e,t){return this.checkTargetZone(e).then(function(r){if(r){e.setTargetZone(true);if(t){e.addStyleClass(t)}}}).catch(function(e){throw n.createError("ElementMover#_activateValidTargetZone","An error occurred during activation of valid target zones: "+e)})};o.prototype.checkTargetZone=function(e,t,a){var n=t||this.getMovedOverlay();return r.checkTargetZone(e,n,a)};o.prototype._deactivateTargetZone=function(e,t){e.setTargetZone(false);if(t){e.removeStyleClass(t)}};o.prototype.activateTargetZonesFor=function(e,t){return this._iterateOverlayAggregations(e,this._activateValidTargetZone.bind(this),t,true).then(function(){this.fireValidTargetZonesActivated()}.bind(this))};o.prototype.deactivateTargetZonesFor=function(e,t){this._iterateOverlayAggregations(e,this._deactivateTargetZone.bind(this),t)};o.prototype.deactivateAllTargetZones=function(e,t){this._iterateAllAggregations(e,this._deactivateTargetZone.bind(this),t)};o.prototype._iterateAllAggregations=function(e,t,r,a){var n=e.getElementOverlays();var o=n.map(function(e){return this._iterateOverlayAggregations(e,t,r,a)},this);if(a){return Promise.all(o)}};o.prototype._iterateOverlayAggregations=function(e,t,r,a){var n=e.getAggregationOverlays();var o=n.map(function(e){return t(e,r)});if(a){return Promise.all(o)}};o.prototype.repositionOn=function(e,t,n){var o=e.getElement();var i=a.getParentInformation(t);var g=a.getParentInformation(e);var s;var v=e.getParentAggregationOverlay();var f=e.getRelevantContainer();var u=e.getParentElementOverlay();if(v&&u){var l=v.getAggregationName();s=u.getDesignTimeMetadata().getAggregation(l)}if(i.index!==-1){if(s&&s.beforeMove){s.beforeMove(f,o)}if(n){i.index++;if(g.aggregation===i.aggregation){i.index=r.adjustIndexForMove(g.parent,i.parent,g.index,i.index)}}r.insertAggregation(i.parent,i.aggregation,o,i.index);if(s&&s.afterMove){s.afterMove(f,o)}this._setSourceAndTargetParentInformation()}};o.prototype.insertInto=function(e,t,a){var n=e.getElement();var o=t.getElement();var i;var g=e.getParentAggregationOverlay();var s=e.getRelevantContainer();var v=e.getParentElementOverlay();if(g&&v){var f=g.getAggregationName();i=v.getDesignTimeMetadata().getAggregation(f)}var u=r.getAggregation(t.getElement(),t.getAggregationName());var l=u.indexOf(n);var c=a?u.length:0;if(!(l>-1&&l===(c===0?c:c-1))){if(i&&i.beforeMove){i.beforeMove(s,n)}var d=t.getAggregationName();r.insertAggregation(o,d,n,c);if(i&&i.afterMove){i.afterMove(s,n)}this._setSourceAndTargetParentInformation()}};o.prototype._compareSourceAndTarget=function(e,t){var r;for(r in e){switch(typeof e[r]){case"object":if(e[r].getId()!==t[r].getId()){return false}break;default:if(e[r]!==t[r]){return false}}}return true};o.prototype._setSourceAndTargetParentInformation=function(){var e=this.getMovedOverlay();if(!e){delete this._mSourceParentInformation;delete this._mTargetParentInformation;return}var t=this._getSource();if(t){this._mSourceParentInformation={};Object.assign(this._mSourceParentInformation,t)}else{delete this._mSourceParentInformation}var r=a.getParentInformation(e);if(r){this._mTargetParentInformation=r}else{delete this._mTargetParentInformation}};o.prototype.getSourceAndTargetParentInformation=function(){return{sourceParentInformation:this._mSourceParentInformation,targetParentInformation:this._mTargetParentInformation}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/plugin/MouseSelection", ["sap/ui/dt/Plugin"],function(t){"use strict";var e=t.extend("sap.ui.dt.plugin.MouseSelection",{metadata:{library:"sap.ui.dt",properties:{},associations:{},events:{}}});e.prototype.init=function(){t.prototype.init.apply(this,arguments)};e.prototype.registerElementOverlay=function(t){t.setSelectable(true);t.attachBrowserEvent("click",this._onClick,t)};e.prototype.deregisterElementOverlay=function(t){t.detachBrowserEvent("click",this._onClick,t)};e.prototype._onClick=function(t){this.setSelected(!this.getSelected());t.preventDefault();t.stopPropagation()};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/plugin/TabHandling", ["sap/ui/thirdparty/jquery","sap/ui/dt/Plugin","sap/ui/dt/Overlay","sap/ui/dt/OverlayRegistry","sap/ui/dom/jquery/Selectors"],function(jQuery,t,e,i){"use strict";var a=t.extend("sap.ui.dt.plugin.TabHandling",{metadata:{library:"sap.ui.dt",properties:{},associations:{},events:{}}});a.prototype.registerElementOverlay=function(t){if(t.isRoot()){this.removeTabIndex()}};a.prototype.deregisterElementOverlay=function(t){if(t.isRoot()){this.restoreTabIndex()}};a.prototype.setDesignTime=function(i){t.prototype.setDesignTime.apply(this,arguments);if(i){if(!this._oMutationObserver){this._oMutationObserver=e.getMutationObserver();this._oMutationObserver.attachDomChanged(this._onDomChanged,this)}}else{if(this._oMutationObserver){this._oMutationObserver.detachDomChanged(this._onDomChanged,this);delete this._oMutationObserver}this.restoreTabIndex()}};a.prototype.removeTabIndex=function(){var t=this._getRootOverlays();t.forEach(function(t){var e=t.getAssociatedDomRef();if(e){e.find(":focusable:not([tabIndex=-1], #overlay-container *)").each(function(t,e){e.setAttribute("data-sap-ui-dt-tabindex",e.tabIndex);e.setAttribute("tabindex",-1)})}})};a.prototype.removeOverlayTabIndex=function(){var t=this._getRootOverlays();t.forEach(function(t){var e=jQuery(t.getDomRef());if(e){e.find("[tabindex]:not([tabindex='-1']").each(function(t,e){e.setAttribute("data-sap-ui-overlay-tabindex",e.tabIndex);e.setAttribute("tabindex",-1)})}})};a.prototype._getRootOverlays=function(){var t=this.getDesignTime();var e=t.getRootElements();return e.map(function(t){return i.getOverlay(t)})};a.prototype.restoreTabIndex=function(){jQuery("[data-sap-ui-dt-tabindex]").each(function(t,e){e.setAttribute("tabindex",e.getAttribute("data-sap-ui-dt-tabindex"));e.removeAttribute("data-sap-ui-dt-tabindex")})};a.prototype.restoreOverlayTabIndex=function(){jQuery("[data-sap-ui-overlay-tabindex]").each(function(t,e){e.setAttribute("tabindex",e.getAttribute("data-sap-ui-overlay-tabindex"));e.removeAttribute("data-sap-ui-overlay-tabindex")})};a.prototype._onDomChanged=function(){if(this.getDesignTime().getEnabled()){this.removeTabIndex()}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/plugin/ToolHooks", ["sap/ui/dt/Plugin"],function(e){"use strict";var t=e.extend("sap.ui.dt.plugin.ToolHooks",{metadata:{library:"sap.ui.dt",properties:{},associations:{},events:{}}});t.prototype.registerElementOverlay=function(e){e.getDesignTimeMetadata().getToolHooks().start(e.getElement())};t.prototype.deregisterElementOverlay=function(e){e.getDesignTimeMetadata().getToolHooks().stop(e.getElement())};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/util/ZIndexManager", ["sap/ui/core/Popup","sap/ui/core/BusyIndicator","sap/base/Log","sap/ui/dt/Util","sap/m/InstanceManager","sap/base/util/includes","sap/base/util/restricted/_max","sap/base/util/restricted/_min"],function(e,n,t,r,i,u,a,o){"use strict";var p=10;var s=3;var c=[];var f=[];function l(){return i.getOpenDialogs().concat(i.getOpenPopovers(),n.oPopup&&n.oPopup.isOpen()?[n.oPopup]:[])}function d(e,n,r){if(++e<=n){if(u(r,e)){return d(e,n,r)}return e}t.error("sap.ui.dt.util.ZIndexManager: z-index limit has been exceeded, therefore all following calls receive the same z-Index = "+n);return n}function v(e){return e.map(function(e){return e._iZIndex||e.oPopup._iZIndex})}var x={getNextZIndex:function(){var n=l();var t=[];var r=[];n.forEach(function(e){var n=f.every(function(n){return n(e)});n&&f.length>0?t.push(e):r.push(e)});var i=t.length>0?a(v(t)):-1;var u=r.length>0?o(v(r)):-1;if(i<u){return this._getNextMinZIndex(u)}return e.getNextZIndex()},getZIndexBelowPopups:function(){var n=l();var t;if(n.length>0){t=Math.min.apply(null,v(n))}if(!r.isInteger(t)){return e.getNextZIndex()}return this._getNextMinZIndex(t)},addPopupFilter:function(e){if(typeof e==="function"){f=f.concat([e])}},removePopupFilter:function(e){f=f.filter(function(n){return n===e})},_getNextMinZIndex:function(e){var n=e-s;var t=e-p;var r=d(t,n,c);c.push(r);return r}};return x});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/util/_createPromise", function(){"use strict";return function(i){var n=false;var e;var t;var r;var f=new Promise(function(e,f){i(function(){if(!n){e.apply(this,arguments)}else if(t){t.apply(this,arguments)}},function(){if(!n){f.apply(this,arguments)}else if(r){r.apply(this,arguments)}})});return{promise:f,cancel:function(){n=true;if(!e){e=new Promise(function(i,n){t=i;r=n})}return e}}}});
sap.ui.require.preload({
	"sap/ui/dt/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.dt","type":"library","embeds":[],"applicationVersion":{"version":"1.108.6"},"title":"SAP UI library: sap.ui.dt (by SAP, Author)","description":"SAP UI library: sap.ui.dt (by SAP, Author)","ach":"CA-UI5-FL-RTA","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.108","libs":{"sap.ui.core":{"minVersion":"1.108.6"}}},"library":{"i18n":false,"content":{"controls":[],"elements":[],"types":["sap.ui.dt.SelectionMode"],"interfaces":[]}}}}'
});
//# sourceMappingURL=library-preload.js.map
